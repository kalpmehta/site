<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Magento Admin on KALPESH MEHTA</title>
    <link>http://localhost:1313/categories/magento-admin/</link>
    <description>Recent content in Magento Admin on KALPESH MEHTA</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    <managingEditor>k@lpe.sh (Kalpesh Mehta)</managingEditor>
    <webMaster>k@lpe.sh (Kalpesh Mehta)</webMaster>
    <copyright>Copyright © 2025 kalpesh mehta</copyright>
    <lastBuildDate>Tue, 13 Oct 2015 21:02:30 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/categories/magento-admin/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Magento add static block to cms page</title>
      <link>http://localhost:1313/magento-add-static-block-to-cms-page/</link>
      <pubDate>Tue, 13 Oct 2015 21:02:30 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-add-static-block-to-cms-page/</guid>
      <description>&lt;p&gt;You can add static block to CMS page in Magento in following 2 ways:&lt;/p&gt;&#xA;&lt;p&gt;1.) By adding code in Layout Update XML of CMS page:&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;reference&lt;/span&gt; &lt;span style=&#34;color:#b44&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;&amp;#34;left&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;block&lt;/span&gt; &lt;span style=&#34;color:#b44&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;&amp;#34;block_name_anything&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#b44&#34;&gt;type=&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;&amp;#34;cms/block&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;action&lt;/span&gt; &lt;span style=&#34;color:#b44&#34;&gt;method=&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;&amp;#34;setBlockId&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;block_id&amp;gt;&lt;/span&gt;STATIC_BLOCK_ID_HERE&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/block_id&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/action&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/block&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/reference&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;2.) By putting below code directly into CMS Page content area:&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; {{block type=”cms/block” block_id=”STATIC_BLOCK_ID_HERE”}}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;Make sure you flush Blocks HTML Output cache if your changes do not reflect on website.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>You can add static block to CMS page in Magento in following 2 ways:</p>
<p>1.) By adding code in Layout Update XML of CMS page:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;reference</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;left&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;block</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;block_name_anything&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;cms/block&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;action</span> <span style="color:#b44">method=</span><span style="color:#b44">&#34;setBlockId&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;block_id&gt;</span>STATIC_BLOCK_ID_HERE<span style="color:#008000;font-weight:bold">&lt;/block_id&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/action&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/block&gt;</span>  
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/reference&gt;</span></span></span></code></pre></div></p>
<p>2.) By putting below code directly into CMS Page content area:<br>




<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> {{block type=”cms/block” block_id=”STATIC_BLOCK_ID_HERE”}}</span></span></span></code></pre></div></p>
<p>Make sure you flush Blocks HTML Output cache if your changes do not reflect on website.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Zipcode &#43; 4 tax calculation bug fix</title>
      <link>http://localhost:1313/magento-zipcode--4-tax-calculation-bug-fix/</link>
      <pubDate>Fri, 04 Sep 2015 05:39:10 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-zipcode--4-tax-calculation-bug-fix/</guid>
      <description>&lt;p&gt;Magento bug fix for zipcode + 4 in tax calculation&lt;/p&gt;&#xA;&lt;p&gt;Tax Calculation in Magento has a bug where customer can escape paying tax if they enter zipcode + 4 digit in USA. This is because you import 5 digit zipcodes with their tax rates in Magento admin, so if customer inputs their zipcode in zipcode+4 format their zipcode will not match with the imported one. Importing 5-digit zipcode ending in wildcard (*) does not solve this issue either.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento bug fix for zipcode + 4 in tax calculation</p>
<p>Tax Calculation in Magento has a bug where customer can escape paying tax if they enter zipcode + 4 digit in USA. This is because you import 5 digit zipcodes with their tax rates in Magento admin, so if customer inputs their zipcode in zipcode+4 format their zipcode will not match with the imported one. Importing 5-digit zipcode ending in wildcard (*) does not solve this issue either.</p>
<p>Before this fix: If zipcode 90036 collects tax, 90036-1234 does NOT collect tax.</p>
<p>You can fix this bug by adding below code in your custom module:</p>
<p>config.xml<br>




<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> …  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">&lt;global&gt;  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> &lt;models&gt;  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> &lt;tax_resource&gt;  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> &lt;rewrite&gt;  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> &lt;calculation&gt;Namespace_Module_Model_Tax_Resource_Calculation&lt;/calculation&gt;  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> &lt;/rewrite&gt;  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> &lt;/tax_resource&gt;  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> &lt;/models&gt;  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">&lt;/global&gt;  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">…</span></span></span></code></pre></div></p>
<p>Note that we are rewriting core logic of Tax Calculation. Now create folder structure in your custom module: app/code/local/Namespace/Module/Model/Tax/Resource/Calculation.php and copy below code:</p>




<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> &lt;?php class Namespace_Module_Model_Tax_Resource_Calculation extends Mage_Tax_Model_Resource_Calculation
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">{
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">    protected function _getRates($request)
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">    {
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">        $countryId = $request-&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">getCountryId();  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> $regionId = $request-&gt;getRegionId();  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> $postcode = $request-&gt;getPostcode();
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> //12 = california, 25 = iowa  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> if($countryId == ‘US’ &amp;amp;&amp;amp; in_array($regionId,array(12,25))) {  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> $postcode = substr(trim($request-&gt;getPostcode()),0,5);  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> $request-&gt;setPostcode($postcode);  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> }  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> return parent::_getRates($request);
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> }
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">}</span></span></span></code></pre></div>
<p>Above code will only take first 5 digits from the zipcode if the country is USA and state selected is either California or Iowa. You can change the states as per your requirement, to know what ID relates to different states you can look at the State/Province dropdown source code in checkout page.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento bug Checkout cart 500 error Redirect loops</title>
      <link>http://localhost:1313/magento-bug-checkout-cart-500-error-redirect-loops/</link>
      <pubDate>Sat, 28 Mar 2015 23:52:11 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-bug-checkout-cart-500-error-redirect-loops/</guid>
      <description>&lt;p&gt;Magento checkout cart gives 500 error and redirect loops when there is a shopping cart rule with Category condition.&lt;/p&gt;&#xA;&lt;p&gt;I found a bug in Magento which redirects shopping cart indefinitely causing it 500 internal server error. This can be a serious bug as customer will not able to shop if this happens. I noticed this happens when there is a shopping cart rule which have Category in conditions of the rule.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento checkout cart gives 500 error and redirect loops when there is a shopping cart rule with Category condition.</p>
<p>I found a bug in Magento which redirects shopping cart indefinitely causing it 500 internal server error. This can be a serious bug as customer will not able to shop if this happens. I noticed this happens when there is a shopping cart rule which have Category in conditions of the rule.</p>
<p>If total quantity equals or greater than 1 for a subselection of items in cart matching ALL of these conditions:<br>
<strong>Category</strong> is 125</p>
<p>So for example you have a shopping cart rule where you want to give some discount or free product if at least one product is chosen from specific Category, this triggers the error in frontend shopping cart. Main reason here is <strong>Category</strong> condition. If you remove category condition then the error should go away. But if you want to keep the category condition and still want Magento to handle the shopping cart promotion rule, check the code changes below:</p>
<p>To solve this I copied below file to my local<br>
app/code/core/Mage/SalesRule/Model/Rule/Condition/Product/Combine.php</p>
<p>and edited the function validate:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b44;font-style:italic">/**  
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic"> * Validate a condition with the checking of the child value  
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic"> * @param Varien_Object $object  
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic"> *  
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic"> * @return bool  
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic"> */</span>  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">validate</span>(Varien_Object <span style="color:#b8860b">$object</span>)  
</span></span><span style="display:flex;"><span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b44;font-style:italic">/** @var Mage_Catalog_Model_Product $product */</span>  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$product</span> <span style="color:#666">=</span> <span style="color:#b8860b">$object</span><span style="color:#666">-&gt;</span><span style="color:#b44">getProduct</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span>(<span style="color:#b8860b">$product</span> instanceof Mage_Catalog_Model_Product)) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$product</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>product’)<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$object</span><span style="color:#666">-&gt;</span><span style="color:#b44">getProductId</span>());  
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$valid</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">parent</span><span style="color:#666">::</span><span style="color:#b44">validate</span>(<span style="color:#b8860b">$object</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#080;font-style:italic">/* Kalpesh commented whole block, as it causes redirect loop and Segmentation fault in apache  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> if (!$valid &amp;amp;&amp;amp; $product-&gt;getTypeId() == Mage_Catalog_Model_Product_Type_Configurable::TYPE_CODE) {  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> $children = $object-&gt;getChildren();  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> //$valid = $children &amp;amp;&amp;amp; $this-&gt;validate($children[0]); //Kalpesh commented, issue….  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> }*/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#b8860b">$valid</span>;  
</span></span><span style="display:flex;"><span> }</span></span></code></pre></div></p>
<p>Hope this helps to some troubled souls!</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento EE 1.14 &amp;#8211; Broken category &amp;#038; product sitemap URLs</title>
      <link>http://localhost:1313/magento-ee-1.14-%238211-broken-category-%23038-product-sitemap-urls/</link>
      <pubDate>Sat, 28 Mar 2015 04:40:23 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-ee-1.14-%238211-broken-category-%23038-product-sitemap-urls/</guid>
      <description>&lt;p&gt;Magento EE 1.14 introduces a bug fix which apparently becomes a bug in our website. &lt;a href=&#34;http://www.magentocommerce.com/knowledge-base/entry/ee114-later-release-notes#ee114-1400fixes-other&#34;&gt;Magento EE 1.14.0.0 Release Notes&lt;/a&gt; and &lt;a href=&#34;http://www.magentocommerce.com/knowledge-base/entry/ce19-later-release-notes#ce19-1900fixes-other&#34;&gt;Magento CE 1.9.0.0 Release Notes&lt;/a&gt; lists this in it’s Bug Fixes:&lt;br&gt;&#xA;&lt;em&gt;Google Sitemap files now include the .html suffix for category and product URLs.&lt;/em&gt;&lt;/p&gt;&#xA;&lt;p&gt;We don’t have .html suffix in our category and product URLs, so we were good before this fix. But after upgrading it to latest version all the category and product URLs were having “.” (dot) at the end in XML sitemap. This is because Magento allows admin to give a custom suffix for category and product URLs for sitemap, but hardcodes “.” regardless of there are values in the above config fields or not. This allows unnecessary dots in all the URLs which can lead to 404 pages.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento EE 1.14 introduces a bug fix which apparently becomes a bug in our website. <a href="http://www.magentocommerce.com/knowledge-base/entry/ee114-later-release-notes#ee114-1400fixes-other">Magento EE 1.14.0.0 Release Notes</a> and <a href="http://www.magentocommerce.com/knowledge-base/entry/ce19-later-release-notes#ce19-1900fixes-other">Magento CE 1.9.0.0 Release Notes</a> lists this in it’s Bug Fixes:<br>
<em>Google Sitemap files now include the .html suffix for category and product URLs.</em></p>
<p>We don’t have .html suffix in our category and product URLs, so we were good before this fix. But after upgrading it to latest version all the category and product URLs were having “.” (dot) at the end in XML sitemap. This is because Magento allows admin to give a custom suffix for category and product URLs for sitemap, but hardcodes “.” regardless of there are values in the above config fields or not. This allows unnecessary dots in all the URLs which can lead to 404 pages.</p>
<p><a href="http://ka.lpe.sh/wp-content/uploads/2015/03/Screen-Shot-2015-03-27-at-9.24.08-PM.png"><img src="http://ka.lpe.sh/wp-content/uploads/2015/03/Screen-Shot-2015-03-27-at-9.24.08-PM.png" alt="Magento Category Product URL config"></a></p>
<p>Magento team have used observer to observe the events <em>sitemap_categories_generating_before</em> and <em>sitemap_products_generating_before</em> to add the suffix in the following file and functions (Notice I have commented all lines in the functions):<br>
app/code/core/Enterprise/Catalog/Model/Observer.php<br>
(copy this file to app/code/local/Enterprise/Catalog/Model/Observer.php, you may have to create directories)<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b44;font-style:italic">/**  
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic"> * Add Seo suffix to category’s URL if doesn’t exists.  
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic"> *  
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic"> * @param Varien_Event_Observer $observer  
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic"> */</span>  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">addSeoSuffixToCategoryUrl</span>(Varien_Event_Observer <span style="color:#b8860b">$observer</span>)  
</span></span><span style="display:flex;"><span> {  
</span></span><span style="display:flex;"><span> <span style="color:#080;font-style:italic">/*$seoSuffix = (string) Mage::app()-&gt;getStore()-&gt;getConfig(  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> Mage_Catalog_Helper_Category::XML_PATH_CATEGORY_URL_SUFFIX  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> );  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> $this-&gt;_addSuffixToUrl($observer-&gt;getCollection()-&gt;getItems(), $seoSuffix);*/</span>  
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b44;font-style:italic">/**  
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic"> * Add Seo suffix to product’s URL if doesn’t exists.  
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic"> *  
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic"> * @param Varien_Event_Observer $observer  
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic"> */</span>  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">addSeoSuffixToProductUrl</span>(Varien_Event_Observer <span style="color:#b8860b">$observer</span>)  
</span></span><span style="display:flex;"><span> {  
</span></span><span style="display:flex;"><span> <span style="color:#080;font-style:italic">/*$seoSuffix = (string) Mage::app()-&gt;getStore()-&gt;getConfig(  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> Mage_Catalog_Helper_Product::XML_PATH_PRODUCT_URL_SUFFIX  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> );  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> $this-&gt;_addSuffixToUrl($observer-&gt;getCollection()-&gt;getItems(), $seoSuffix);*/</span>  
</span></span><span style="display:flex;"><span> }</span></span></code></pre></div></p>
<p>After commenting above function’s logic and generating the Google Sitemap again (Admin &gt; Catalog &gt; Google Sitemap) everything was normal (no dot and suffix in URLs)</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Change canonical URL for particular category only</title>
      <link>http://localhost:1313/magento-change-canonical-url-for-particular-category-only/</link>
      <pubDate>Mon, 23 Mar 2015 18:46:40 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-change-canonical-url-for-particular-category-only/</guid>
      <description>&lt;p&gt;In Magento, if you want to change canonical URL for just one category or quite a few categories, and don’t want to affect rest of the canonical URLs then do the following.&lt;/p&gt;&#xA;&lt;p&gt;Note that this is helpful when you already have canonical URL in the page and want to REPLACE it with new url. If you don’t have canonical URL at all then you might want to ignore the first &lt;em&gt;action&lt;/em&gt; tag in the below code.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>In Magento, if you want to change canonical URL for just one category or quite a few categories, and don’t want to affect rest of the canonical URLs then do the following.</p>
<p>Note that this is helpful when you already have canonical URL in the page and want to REPLACE it with new url. If you don’t have canonical URL at all then you might want to ignore the first <em>action</em> tag in the below code.</p>
<p>– Go to the category page you want to change canonical URL in Magento Admin<br>
– Click the tab “Custom Design”<br>
– In the Custom Layout Update textbox, paste this:</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;reference</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;head&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;action</span> <span style="color:#b44">block=</span><span style="color:#b44">&#34;head&#34;</span> <span style="color:#b44">method=</span><span style="color:#b44">&#34;removeItem&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;item&gt;</span>link_rel<span style="color:#008000;font-weight:bold">&lt;/item&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;name&gt;</span>http://loca.lho.st/old-canonical-url<span style="color:#008000;font-weight:bold">&lt;/name&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/action&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;action</span> <span style="color:#b44">method=</span><span style="color:#b44">&#34;addLinkRel&#34;</span> <span style="color:#b44">translate=</span><span style="color:#b44">&#34;title&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;rel&gt;</span>canonical<span style="color:#008000;font-weight:bold">&lt;/rel&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;href&gt;</span>http://loca.lho.st/new-canonical-url<span style="color:#008000;font-weight:bold">&lt;/href&gt;</span> <span style="color:#008000;font-weight:bold">&lt;/action&gt;</span>  
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/reference&gt;</span></span></span></code></pre></div>
<p>Change <em><a href="http://loca.lho.st/old-canonical-url">http://loca.lho.st/old-canonical-url</a></em> and <em><a href="http://loca.lho.st/new-canonical-url">http://loca.lho.st/new-canonical-url</a></em> with your desired URLs and save the category.</p>
<p>Basically first <em>action</em> tag in the code removes old canonical URL and second <em>action</em> tag adds the canonical URL with the new value you specify.</p>
<p>You may also need to clear cache.</p>
<p>HTH!</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento bug: Incorrect sales order report during DST</title>
      <link>http://localhost:1313/magento-bug-incorrect-sales-order-report-during-dst/</link>
      <pubDate>Fri, 20 Mar 2015 02:49:19 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-bug-incorrect-sales-order-report-during-dst/</guid>
      <description>&lt;p&gt;Before 6 months I found a bug in Magento CE 1.9 and EE 1.13 (latest versions at that time) in Sales Order report calculation during Daylight Savings Time period. I reported it to Magento through their Bug Tracking ticket but after 6 months also there is no reply no progress on that issue. I provided all the details on how to reproduce it and also provided solution to fix the issue. The issue is not yet resolved in latest Magento versions (I have checked Enterprise Edition 1.14.1.0 which is latest stable version now) so I decided to post it online so that other developers/clients who are experiencing same issue during DST (which have started) period can fix it and fetch correct numbers.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Before 6 months I found a bug in Magento CE 1.9 and EE 1.13 (latest versions at that time) in Sales Order report calculation during Daylight Savings Time period. I reported it to Magento through their Bug Tracking ticket but after 6 months also there is no reply no progress on that issue. I provided all the details on how to reproduce it and also provided solution to fix the issue. The issue is not yet resolved in latest Magento versions (I have checked Enterprise Edition 1.14.1.0 which is latest stable version now) so I decided to post it online so that other developers/clients who are experiencing same issue during DST (which have started) period can fix it and fetch correct numbers.</p>
<p>Ticket in Magento bug tracker (you would need to login to see):<br>
<a href="http://www.magentocommerce.com/bug-tracking/issue/index/id/254">http://www.magentocommerce.com/bug-tracking/issue/index/id/254</a></p>
<p><strong>Overview of issue:</strong><br>
Sales order grid data (Admin-&gt;Sales-&gt;Orders) for certain date range is not matching with the report sales order data (Admin-&gt;Reports-&gt;Sales-&gt;Orders). There is some difference in numbers which made me drill into the Magento source code. Upon further investigation I saw Zend_Date’s set method was used without 2nd argument which took the date in wrong format messing with the totals.</p>
<p><strong>Steps to reproduce:</strong><br>
1. Login in Admin panel<br>
2. Go to Reports-&gt;Sales-&gt;Orders screen<br>
3. Filter orders for some date range which should fall in Daylight savings time.<br>
4. Notice the totals which are shown are not 100% correct.</p>
<p><strong>Expected Result:</strong><br>
The totals in Reports-&gt;Sales-&gt;Orders screen should match totals in Sales-&gt;Orders grid screen when downloading CSV from there. I have attached the issue in detail along with solution in the attached file.</p>
<p><strong>Actual Result:</strong><br>
The totals in Reports-&gt;Sales-&gt;Orders screen is not coming correct when date range filter falls in daylight savings time.</p>
<p><strong>Magento version affected:</strong><br>
It seems all CE and EE versions, I only checked CE 1.8, 1.9 and EE 1.13, 1.14</p>
<p><strong>Files Affected:</strong><br>
app/code/core/Mage/Reports/Model/Resource/Report/Abstract.php<br>
app/code/core/Mage/Reports/Model/Mysql4/Report/Abstract.php (In older magento versions using Mysql4 instead of Resource)</p>
<p><strong>Technical Details:</strong><br>
In the file app/code/core/Mage/Reports/Model/Resource/Report/Abstract.php<br>
function: _getTZOffsetTransitions<br>
line 418, $dateTimeObject-&gt;set($tr[‘time’]);</p>
<p>$dateTimeObject is object of Zend_Date() and expects parameter 2 for the date/time format<br>
<a href="http://framework.zend.com/manual/1.11/en/zend.date.basic.html#zend.date.simple.functions.set">http://framework.zend.com/manual/1.11/en/zend.date.basic.html#zend.date.simple.functions.set</a></p>
<p>After changing this line:<br>




<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> $dateTimeObject-&gt;set($tr[‘time’]);</span></span></span></code></pre></div><br>
with<br>




<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> $dateTimeObject-&gt;set($tr[‘time’], Varien_Date::DATETIME_INTERNAL_FORMAT);</span></span></span></code></pre></div></p>
<p>the issue was fixed and the order totals were shown correctly in Reports-&gt;Sales-&gt;Order screen.</p>
<p><strong>Important Note:</strong> After the above change it is required to re-build lifetime statistics of Orders to update database table sales_order_aggregated_created.</p>
<p>Make the change by copying the core file to your local so that future upgrade will not overwrite your fix.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Get real IP address behind a proxy</title>
      <link>http://localhost:1313/magento-get-real-ip-address-behind-a-proxy/</link>
      <pubDate>Fri, 07 Nov 2014 18:48:19 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-real-ip-address-behind-a-proxy/</guid>
      <description>&lt;p&gt;Get real IP address if your server or customer is behind a proxy network. Magento have function Mage::helper(‘core/http’)-&amp;gt;getRemoteAddr(); to get client IP address, but it gives proxy IP address instead of real IP if there is proxy network in between. Below code checks and returns both real IP and proxy IP address if it founds any.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#666&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;empty&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$_SERVER&lt;/span&gt;[‘HTTP_CLIENT_IP’])) {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$_SERVER&lt;/span&gt;[‘HTTP_CLIENT_IP’];  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#666&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;empty&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$_SERVER&lt;/span&gt;[‘HTTP_X_FORWARDED_FOR’])) {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$ips&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; explode(‘,’, &lt;span style=&#34;color:#b8860b&#34;&gt;$_SERVER&lt;/span&gt;[‘HTTP_X_FORWARDED_FOR’]);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; trim(&lt;span style=&#34;color:#b8860b&#34;&gt;$ips&lt;/span&gt;[count(&lt;span style=&#34;color:#b8860b&#34;&gt;$ips&lt;/span&gt;) – &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;]); &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//real IP address behind proxy IP  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt; &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;// echo $_SERVER[‘REMOTE_ADDR’]; //proxy IP address  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;} &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;else&lt;/span&gt; {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$_SERVER&lt;/span&gt;[‘REMOTE_ADDR’]; &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//no proxy found  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
      <content:encoded><![CDATA[<p>Get real IP address if your server or customer is behind a proxy network. Magento have function Mage::helper(‘core/http’)-&gt;getRemoteAddr(); to get client IP address, but it gives proxy IP address instead of real IP if there is proxy network in between. Below code checks and returns both real IP and proxy IP address if it founds any.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span><span style="color:#a2f;font-weight:bold">empty</span>(<span style="color:#b8860b">$_SERVER</span>[‘HTTP_CLIENT_IP’])) {  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$_SERVER</span>[‘HTTP_CLIENT_IP’];  
</span></span><span style="display:flex;"><span>} <span style="color:#a2f;font-weight:bold">else</span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span><span style="color:#a2f;font-weight:bold">empty</span>(<span style="color:#b8860b">$_SERVER</span>[‘HTTP_X_FORWARDED_FOR’])) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$ips</span> <span style="color:#666">=</span> explode(‘,’, <span style="color:#b8860b">$_SERVER</span>[‘HTTP_X_FORWARDED_FOR’]);  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> trim(<span style="color:#b8860b">$ips</span>[count(<span style="color:#b8860b">$ips</span>) – <span style="color:#666">1</span>]); <span style="color:#080;font-style:italic">//real IP address behind proxy IP  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#080;font-style:italic">// echo $_SERVER[‘REMOTE_ADDR’]; //proxy IP address  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>} <span style="color:#a2f;font-weight:bold">else</span> {  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$_SERVER</span>[‘REMOTE_ADDR’]; <span style="color:#080;font-style:italic">//no proxy found  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}</span></span></code></pre></div>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Get all attribute values (colors, sizes, etc..)</title>
      <link>http://localhost:1313/magento-get-all-attribute-values-colors-sizes-etc../</link>
      <pubDate>Thu, 06 Nov 2014 20:44:48 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-all-attribute-values-colors-sizes-etc../</guid>
      <description>&lt;p&gt;Magento get all the attribute values you have in the store. Get all the colors and sizes values in Magento. Change the attribute name to whatever you want values for, in the below script.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;require_once&lt;/span&gt;(‘app&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;Mage&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;php’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;umask(&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;app&lt;/span&gt;(‘admin’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//set_time_limit(0);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$attribute&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘eav&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;config’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getAttribute&lt;/span&gt;(‘catalog_product’, ‘color’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$colors&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt; (&lt;span style=&#34;color:#b8860b&#34;&gt;$attribute&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSource&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getAllOptions&lt;/span&gt;(&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;true&lt;/span&gt;) &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$option&lt;/span&gt;) {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$colors&lt;/span&gt;[] &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$option&lt;/span&gt;[‘label’];  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sort(&lt;span style=&#34;color:#b8860b&#34;&gt;$colors&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$colors&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$lbl&lt;/span&gt;) {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; “&lt;span style=&#34;color:#666&#34;&gt;&amp;lt;&lt;/span&gt;span style&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;&amp;#34;background-color:lightgrey&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;“&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$lbl&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; “&lt;span style=&#34;color:#666&#34;&gt;&amp;lt;/&lt;/span&gt;span&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;“;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; “  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;“;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&lt;p&gt;Replace &lt;em&gt;color&lt;/em&gt; with any attribute you want to get values for. Above script also sorts the result set in alphabetic order to make it easy to view all values. If you don’t want to sort the values, just comment out the line which sorts it.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento get all the attribute values you have in the store. Get all the colors and sizes values in Magento. Change the attribute name to whatever you want values for, in the below script.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">require_once</span>(‘app<span style="color:#666">/</span>Mage<span style="color:#666">.</span>php’);  
</span></span><span style="display:flex;"><span>umask(<span style="color:#666">0</span>);  
</span></span><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">app</span>(‘admin’);  
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//set_time_limit(0);  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#b8860b">$attribute</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘eav<span style="color:#666">/</span>config’)<span style="color:#666">-&gt;</span><span style="color:#b44">getAttribute</span>(‘catalog_product’, ‘color’);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$colors</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>();  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span> (<span style="color:#b8860b">$attribute</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSource</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getAllOptions</span>(<span style="color:#a2f;font-weight:bold">true</span>) <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$option</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$colors</span>[] <span style="color:#666">=</span> <span style="color:#b8860b">$option</span>[‘label’];  
</span></span><span style="display:flex;"><span>}  
</span></span><span style="display:flex;"><span>sort(<span style="color:#b8860b">$colors</span>);  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$colors</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$lbl</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> “<span style="color:#666">&lt;</span>span style<span style="color:#666">=</span><span style="color:#b44">&#34;background-color:lightgrey&#34;</span><span style="color:#666">&gt;</span>“<span style="color:#666">.</span><span style="color:#b8860b">$lbl</span> <span style="color:#666">.</span> “<span style="color:#666">&lt;/</span>span<span style="color:#666">&gt;</span>“;  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> “  
</span></span><span style="display:flex;"><span>“;  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Replace <em>color</em> with any attribute you want to get values for. Above script also sorts the result set in alphabetic order to make it easy to view all values. If you don’t want to sort the values, just comment out the line which sorts it.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Get all category and subcategory products</title>
      <link>http://localhost:1313/magento-get-all-category-and-subcategory-products/</link>
      <pubDate>Thu, 06 Nov 2014 20:37:45 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-all-category-and-subcategory-products/</guid>
      <description>&lt;p&gt;Magento get all category and subcategory products which are assigned to categories at different levels. Below script will show you all the categories, and all the associated product names under each of those categories.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;lt;?&lt;/span&gt;php &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;require_once&lt;/span&gt;(&lt;span style=&#34;color:#b44&#34;&gt;&amp;#39;app/Mage.php&amp;#39;&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;umask(&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;app&lt;/span&gt;(&lt;span style=&#34;color:#b44&#34;&gt;&amp;#39;admin&amp;#39;&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;set_time_limit(&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$category&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(&lt;span style=&#34;color:#b44&#34;&gt;&amp;#39;catalog/category&amp;#39;&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$tree&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$category&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getTreeModel&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$tree&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;load&lt;/span&gt;();&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$ids&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$tree&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getCollection&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getAllIds&lt;/span&gt;();&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#b8860b&#34;&gt;$ids&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt; (&lt;span style=&#34;color:#b8860b&#34;&gt;$ids&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$id&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$cat&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘catalog&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;category’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$cat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;load&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$id&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$cat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getLevel&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;3&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;&amp;amp;&lt;/span&gt;amp;&lt;span style=&#34;color:#666&#34;&gt;&amp;amp;&lt;/span&gt;amp; &lt;span style=&#34;color:#b8860b&#34;&gt;$cat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getIsActive&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$category1&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘catalog&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;category’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;load&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$cat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getId&lt;/span&gt;());  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$products&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getResourceModel&lt;/span&gt;(‘catalog&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;product_collection’)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addAttributeToSelect&lt;/span&gt;(‘name’)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addCategoryFilter&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$category1&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; “&lt;span style=&#34;color:#666&#34;&gt;**&lt;/span&gt;“&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$cat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getName&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;”&lt;span style=&#34;color:#666&#34;&gt;**&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;“;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt; (&lt;span style=&#34;color:#b8860b&#34;&gt;$products&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;) { &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//print_r($product-&amp;gt;getData());exit;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; ” ” &lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getName&lt;/span&gt;() &lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; ” – “&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSku&lt;/span&gt;() &lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; “  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;“;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&lt;p&gt;Note the line which checks category getLevel()==3, you can change this line to get different subcategory levels by adjusting it.&lt;br&gt;&#xA;For root category, getLevel() should be 1.&lt;br&gt;&#xA;For all the main/primary categories, getLevel() should be 2.&lt;br&gt;&#xA;For all the subcategories, getLevel() should be 3.&lt;br&gt;&#xA;For all the subsubcategories, getLevel() should be 4.&lt;br&gt;&#xA;and so on…&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento get all category and subcategory products which are assigned to categories at different levels. Below script will show you all the categories, and all the associated product names under each of those categories.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php <span style="color:#a2f;font-weight:bold">require_once</span>(<span style="color:#b44">&#39;app/Mage.php&#39;</span>);
</span></span><span style="display:flex;"><span>umask(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">app</span>(<span style="color:#b44">&#39;admin&#39;</span>);
</span></span><span style="display:flex;"><span>set_time_limit(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$category</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(<span style="color:#b44">&#39;catalog/category&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$tree</span> <span style="color:#666">=</span> <span style="color:#b8860b">$category</span><span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">getTreeModel</span>();  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$tree</span><span style="color:#666">-&gt;</span><span style="color:#b44">load</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$ids</span> <span style="color:#666">=</span> <span style="color:#b8860b">$tree</span><span style="color:#666">-&gt;</span><span style="color:#b44">getCollection</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getAllIds</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#b8860b">$ids</span>)  
</span></span><span style="display:flex;"><span>{  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">foreach</span> (<span style="color:#b8860b">$ids</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$id</span>)  
</span></span><span style="display:flex;"><span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$cat</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>category’);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$cat</span><span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$id</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$cat</span><span style="color:#666">-&gt;</span><span style="color:#b44">getLevel</span>()<span style="color:#666">==</span><span style="color:#666">3</span> <span style="color:#666">&amp;</span>amp;<span style="color:#666">&amp;</span>amp; <span style="color:#b8860b">$cat</span><span style="color:#666">-&gt;</span><span style="color:#b44">getIsActive</span>()<span style="color:#666">==</span><span style="color:#666">1</span>)  
</span></span><span style="display:flex;"><span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$category1</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>category’)<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$cat</span><span style="color:#666">-&gt;</span><span style="color:#b44">getId</span>());  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$products</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getResourceModel</span>(‘catalog<span style="color:#666">/</span>product_collection’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToSelect</span>(‘name’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addCategoryFilter</span>(<span style="color:#b8860b">$category1</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> “<span style="color:#666">**</span>“<span style="color:#666">.</span><span style="color:#b8860b">$cat</span><span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>()<span style="color:#666">.</span>”<span style="color:#666">**</span>  
</span></span><span style="display:flex;"><span>“;  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">foreach</span> (<span style="color:#b8860b">$products</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$product</span>) { <span style="color:#080;font-style:italic">//print_r($product-&gt;getData());exit;  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#a2f;font-weight:bold">echo</span> ” ” <span style="color:#666">.</span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>() <span style="color:#666">.</span> ” – “<span style="color:#666">.</span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSku</span>() <span style="color:#666">.</span> “  
</span></span><span style="display:flex;"><span>“;  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span>}  
</span></span><span style="display:flex;"><span><span style="color:#080">?&gt;</span><span style="">
</span></span></span></code></pre></div>
<p>Note the line which checks category getLevel()==3, you can change this line to get different subcategory levels by adjusting it.<br>
For root category, getLevel() should be 1.<br>
For all the main/primary categories, getLevel() should be 2.<br>
For all the subcategories, getLevel() should be 3.<br>
For all the subsubcategories, getLevel() should be 4.<br>
and so on…</p>
<p>Above script will get you all the category and subcategories products, products assigned to each and every categories of your store.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Get all products with quantities and Out Of Stock</title>
      <link>http://localhost:1313/magento-get-all-products-with-quantities-and-out-of-stock/</link>
      <pubDate>Thu, 06 Nov 2014 20:27:28 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-all-products-with-quantities-and-out-of-stock/</guid>
      <description>&lt;p&gt;Magento get all the simple products which have greater than 0 quantity and are still Out of Stock in inventory.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;lt;?&lt;/span&gt;php &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;require_once&lt;/span&gt;(&lt;span style=&#34;color:#b44&#34;&gt;&amp;#39;app/Mage.php&amp;#39;&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;umask(&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;app&lt;/span&gt;(&lt;span style=&#34;color:#b44&#34;&gt;&amp;#39;admin&amp;#39;&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;set_time_limit(&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$productCollection&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(&lt;span style=&#34;color:#b44&#34;&gt;&amp;#39;catalog/product&amp;#39;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getCollection&lt;/span&gt;()  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addAttributeToSelect&lt;/span&gt;(‘&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;’)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;joinField&lt;/span&gt;(‘qty’,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘cataloginventory&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;stock_item’,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘qty’,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘product_id&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;entity_id’,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘{{table}}&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;is_in_stock&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;’,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘left’)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addAttributeToFilter&lt;/span&gt;(‘qty’, &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(“gt” &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;));&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; “&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;## Simple Products with &amp;gt;0 quantity and Out of Stock&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;“;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$productCollection&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;) { &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//print_r($product-&amp;gt;getData());exit;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getTypeId&lt;/span&gt;() &lt;span style=&#34;color:#666&#34;&gt;==&lt;/span&gt; ‘simple’)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getName&lt;/span&gt;() &lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; ” &lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt; ” &lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSku&lt;/span&gt;() &lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; “  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;“;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; ‘Done’;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
      <content:encoded><![CDATA[<p>Magento get all the simple products which have greater than 0 quantity and are still Out of Stock in inventory.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php <span style="color:#a2f;font-weight:bold">require_once</span>(<span style="color:#b44">&#39;app/Mage.php&#39;</span>);
</span></span><span style="display:flex;"><span>umask(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">app</span>(<span style="color:#b44">&#39;admin&#39;</span>);
</span></span><span style="display:flex;"><span>set_time_limit(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$productCollection</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(<span style="color:#b44">&#39;catalog/product&#39;</span>)
</span></span><span style="display:flex;"><span>     <span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">getCollection</span>()  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToSelect</span>(‘<span style="color:#666">*</span>’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">joinField</span>(‘qty’,  
</span></span><span style="display:flex;"><span> ‘cataloginventory<span style="color:#666">/</span>stock_item’,  
</span></span><span style="display:flex;"><span> ‘qty’,  
</span></span><span style="display:flex;"><span> ‘product_id<span style="color:#666">=</span>entity_id’,  
</span></span><span style="display:flex;"><span> ‘{{table}}<span style="color:#666">.</span>is_in_stock<span style="color:#666">=</span><span style="color:#666">0</span>’,  
</span></span><span style="display:flex;"><span> ‘left’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToFilter</span>(‘qty’, <span style="color:#a2f;font-weight:bold">array</span>(“gt” <span style="color:#666">=&gt;</span> <span style="color:#666">0</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> “
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">## Simple Products with &gt;0 quantity and Out of Stock
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span>“;  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$productCollection</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$product</span>) { <span style="color:#080;font-style:italic">//print_r($product-&gt;getData());exit;  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getTypeId</span>() <span style="color:#666">==</span> ‘simple’)  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>() <span style="color:#666">.</span> ” <span style="color:#666">|</span> ” <span style="color:#666">.</span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSku</span>() <span style="color:#666">.</span> “  
</span></span><span style="display:flex;"><span>“;  
</span></span><span style="display:flex;"><span>}  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> ‘Done’;  
</span></span><span style="display:flex;"><span><span style="color:#080">?&gt;</span><span style="">
</span></span></span></code></pre></div>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Get all products with 0 quantity and In Stock</title>
      <link>http://localhost:1313/magento-get-all-products-with-0-quantity-and-in-stock/</link>
      <pubDate>Thu, 06 Nov 2014 20:23:39 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-all-products-with-0-quantity-and-in-stock/</guid>
      <description>&lt;p&gt;Magento get all products which have zero quantity and are still In Stock in inventory. Below script will show you all such simple products.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;lt;?&lt;/span&gt;php &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;require_once&lt;/span&gt;(&lt;span style=&#34;color:#b44&#34;&gt;&amp;#39;app/Mage.php&amp;#39;&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;umask(&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;app&lt;/span&gt;(&lt;span style=&#34;color:#b44&#34;&gt;&amp;#39;admin&amp;#39;&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;set_time_limit(&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$productCollection&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(&lt;span style=&#34;color:#b44&#34;&gt;&amp;#39;catalog/product&amp;#39;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getCollection&lt;/span&gt;()  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addAttributeToSelect&lt;/span&gt;(‘&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;’)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;joinField&lt;/span&gt;(‘qty’,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘cataloginventory&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;stock_item’,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘qty’,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘product_id&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;entity_id’,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘{{table}}&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;is_in_stock&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;’,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘left’)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addAttributeToFilter&lt;/span&gt;(‘qty’, &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(“eq” &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;));&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; “&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;## Simple Products with 0 quantity and In Stock&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;“;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$productCollection&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;) { &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//print_r($product-&amp;gt;getData());exit;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getTypeId&lt;/span&gt;() &lt;span style=&#34;color:#666&#34;&gt;==&lt;/span&gt; ‘simple’)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getName&lt;/span&gt;() &lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; ” &lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt; ” &lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSku&lt;/span&gt;() &lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; “  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;“;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; ‘Done’;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
      <content:encoded><![CDATA[<p>Magento get all products which have zero quantity and are still In Stock in inventory. Below script will show you all such simple products.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php <span style="color:#a2f;font-weight:bold">require_once</span>(<span style="color:#b44">&#39;app/Mage.php&#39;</span>);
</span></span><span style="display:flex;"><span>umask(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">app</span>(<span style="color:#b44">&#39;admin&#39;</span>);
</span></span><span style="display:flex;"><span>set_time_limit(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$productCollection</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(<span style="color:#b44">&#39;catalog/product&#39;</span>)
</span></span><span style="display:flex;"><span>     <span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">getCollection</span>()  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToSelect</span>(‘<span style="color:#666">*</span>’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">joinField</span>(‘qty’,  
</span></span><span style="display:flex;"><span> ‘cataloginventory<span style="color:#666">/</span>stock_item’,  
</span></span><span style="display:flex;"><span> ‘qty’,  
</span></span><span style="display:flex;"><span> ‘product_id<span style="color:#666">=</span>entity_id’,  
</span></span><span style="display:flex;"><span> ‘{{table}}<span style="color:#666">.</span>is_in_stock<span style="color:#666">=</span><span style="color:#666">1</span>’,  
</span></span><span style="display:flex;"><span> ‘left’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToFilter</span>(‘qty’, <span style="color:#a2f;font-weight:bold">array</span>(“eq” <span style="color:#666">=&gt;</span> <span style="color:#666">0</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> “
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">## Simple Products with 0 quantity and In Stock
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span>“;  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$productCollection</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$product</span>) { <span style="color:#080;font-style:italic">//print_r($product-&gt;getData());exit;  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getTypeId</span>() <span style="color:#666">==</span> ‘simple’)  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>() <span style="color:#666">.</span> ” <span style="color:#666">|</span> ” <span style="color:#666">.</span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSku</span>() <span style="color:#666">.</span> “  
</span></span><span style="display:flex;"><span>“;  
</span></span><span style="display:flex;"><span>}  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> ‘Done’;  
</span></span><span style="display:flex;"><span><span style="color:#080">?&gt;</span><span style="">
</span></span></span></code></pre></div>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Get all products without categories (orphaned products)</title>
      <link>http://localhost:1313/magento-get-all-products-without-categories-orphaned-products/</link>
      <pubDate>Thu, 06 Nov 2014 20:17:43 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-all-products-without-categories-orphaned-products/</guid>
      <description>&lt;p&gt;Magento get all the configurable/simple products which are not associated with any categories, which are orphaned products. To get all the products (regardless of their type), simply ignore the condition where it checks for type_id in the below query and comment the condition line in foreach loop.&lt;/p&gt;&#xA;&lt;p&gt;Below script will get all such products, you can create new PHP file at the root of Magento installation and paste the code:&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento get all the configurable/simple products which are not associated with any categories, which are orphaned products. To get all the products (regardless of their type), simply ignore the condition where it checks for type_id in the below query and comment the condition line in foreach loop.</p>
<p>Below script will get all such products, you can create new PHP file at the root of Magento installation and paste the code:</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php <span style="color:#a2f;font-weight:bold">require_once</span>(<span style="color:#b44">&#39;app/Mage.php&#39;</span>);
</span></span><span style="display:flex;"><span>umask(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">app</span>(<span style="color:#b44">&#39;admin&#39;</span>);
</span></span><span style="display:flex;"><span>set_time_limit(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$i</span><span style="color:#666">=</span><span style="color:#666">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$sql</span> <span style="color:#666">=</span> <span style="color:#b44">&#34;select
</span></span></span><span style="display:flex;"><span><span style="color:#b44">    type_id,sku
</span></span></span><span style="display:flex;"><span><span style="color:#b44"> from catalog_product_entity a
</span></span></span><span style="display:flex;"><span><span style="color:#b44"> left join catalog_category_product cp on cp.`product_id` = a.entity_id
</span></span></span><span style="display:flex;"><span><span style="color:#b44"> left join catalog_product_relation cpr on cpr.child_id = a.entity_id
</span></span></span><span style="display:flex;"><span><span style="color:#b44"> where
</span></span></span><span style="display:flex;"><span><span style="color:#b44">       cp.product_id is null
</span></span></span><span style="display:flex;"><span><span style="color:#b44">   and cpr.parent_id is null
</span></span></span><span style="display:flex;"><span><span style="color:#b44">   and a.type_id = &#39;configurable&#39;&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$connection</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getSingleton</span>(<span style="color:#b44">&#39;core/resource&#39;</span>)<span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">getConnection</span>(‘core_read’);  
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//echo count($connection-&gt;fetchAll($sql));exit;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span> (<span style="color:#b8860b">$connection</span><span style="color:#666">-&gt;</span><span style="color:#b44">fetchAll</span>(<span style="color:#b8860b">$sql</span>) <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$arr_row</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$pid</span> <span style="color:#666">=</span> <span style="color:#b8860b">$arr_row</span>[‘sku’];  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$product</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>product’)<span style="color:#666">-&gt;</span><span style="color:#b44">loadByAttribute</span>(‘sku’,<span style="color:#b8860b">$pid</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getTypeId</span>()<span style="color:#666">!=</span>’configurable’) <span style="color:#a2f;font-weight:bold">continue</span>;  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$i</span><span style="color:#666">++</span>;  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$i</span> <span style="color:#666">.</span>”) “<span style="color:#666">.</span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>() <span style="color:#666">.</span> ” – ” <span style="color:#666">.</span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSku</span>() <span style="color:#666">.</span> “  
</span></span><span style="display:flex;"><span>“;  
</span></span><span style="display:flex;"><span>}  
</span></span><span style="display:flex;"><span><span style="color:#080">?&gt;</span><span style="">
</span></span></span></code></pre></div>
]]></content:encoded>
    </item>
    <item>
      <title>Magento fix for error &#34;Code already exists.&#34;</title>
      <link>http://localhost:1313/magento-fix-for-error-code-already-exists./</link>
      <pubDate>Tue, 07 Oct 2014 23:09:09 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-fix-for-error-code-already-exists./</guid>
      <description>&lt;p&gt;Fix for Magento error &lt;strong&gt;Code already exists.&lt;/strong&gt; in Sales &amp;gt; Tax &amp;gt; Manage Tax Rules, when saving the rule.&lt;/p&gt;&#xA;&lt;p&gt;When trying to save Tax rules in Magento, you may get “Code already exists.” error if there are lots of tax rates passing in POST. Magento error is not making sense here, as the issue is something different. Basically when you post the data in PHP, it limits maximum post variables which should pass to the server. For me, that limit was 1000 in max_input_vars, which by changing to 20000 solved this issue and Magento successfully accepted my changes without any error.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Fix for Magento error <strong>Code already exists.</strong> in Sales &gt; Tax &gt; Manage Tax Rules, when saving the rule.</p>
<p>When trying to save Tax rules in Magento, you may get “Code already exists.” error if there are lots of tax rates passing in POST. Magento error is not making sense here, as the issue is something different. Basically when you post the data in PHP, it limits maximum post variables which should pass to the server. For me, that limit was 1000 in max_input_vars, which by changing to 20000 solved this issue and Magento successfully accepted my changes without any error.</p>
<p>To change max_input_vars to higher value, you need to edit in PHP.ini file for max_input_vars like this:<br>




<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> max_input_vars 20000</span></span></span></code></pre></div></p>
<p>But as editing PHP.ini requires restarting apache to reflect the changes, I did the change in .htaccess file just for Tax rule modification and later reverted it.</p>
<p>You can edit .htaccess to make this change by copy-pasting below line at the end of the file:<br>




<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> php_value max_input_vars 20000</span></span></span></code></pre></div></p>
<p>Now you should be able to change Tax rules even if you have lots of tax rates posting through for that change! I prefered to revert .htaccess back to what it was as I didn’t need to change tax rules frequently.</p>
<p>Note: If the above does not solve the issue for you, make sure your Tax Rule name is not duplicating with another tax rule name.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Show gift card details in admin order page</title>
      <link>http://localhost:1313/magento-show-gift-card-details-in-admin-order-page/</link>
      <pubDate>Tue, 23 Sep 2014 20:13:07 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-show-gift-card-details-in-admin-order-page/</guid>
      <description>&lt;p&gt;Magento display gift card details (code and amount) in Order View page of admin panel. When customer uses gift card in their order Magento does not display gift card code and amount details in admin panel which makes it tough to know. Customer can pay partially through gift card which makes even tougher as Magento only shows payment information of other method and not gift card amount deductions.&lt;/p&gt;&#xA;&lt;p&gt;Below code will show you an additional block in magento admin panel with Gift Card details. If gift card is not used in an order, the block will simply no shown.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento display gift card details (code and amount) in Order View page of admin panel. When customer uses gift card in their order Magento does not display gift card code and amount details in admin panel which makes it tough to know. Customer can pay partially through gift card which makes even tougher as Magento only shows payment information of other method and not gift card amount deductions.</p>
<p>Below code will show you an additional block in magento admin panel with Gift Card details. If gift card is not used in an order, the block will simply no shown.</p>
<p>Open the file app/design/adminhtml/default/default/template/sales/order/view/edit.phtml</p>
<p>Add the below lines of code anywhere you want the gift card block to appear. I have used it after Account Information block.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php <span style="color:#b8860b">$cards</span> <span style="color:#666">=</span> unserialize(<span style="color:#b8860b">$_order</span><span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">getGiftCards</span>());  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$cards</span><span style="color:#666">!=</span>” <span style="color:#666">&amp;</span>amp;<span style="color:#666">&amp;</span>amp; count(<span style="color:#b8860b">$cards</span>)<span style="color:#666">&gt;</span><span style="color:#666">0</span>) { <span style="color:#080">?&gt;</span><span style="">
</span></span></span><span style="display:flex;"><span><span style="">
</span></span></span><span style="display:flex;"><span><span style="">&lt;div class=&#34;box-left&#34;&gt;&lt;div class=&#34;entry-edit&#34;&gt;&lt;div class=&#34;entry-edit-head&#34;&gt;#### &lt;?php echo Mage::helper(&#39;sales&#39;)-&gt;
</span></span></span><span style="display:flex;"><span><span style="">__(‘Gift Cards’) ?&gt;
</span></span></span><span style="display:flex;"><span><span style="">
</span></span></span><span style="display:flex;"><span><span style="">&lt;/div&gt;&lt;div class=&#34;fieldset&#34;&gt;&lt;div class=&#34;hor-scroll&#34;&gt;&lt;?php foreach ($cards as $card) { ??&gt;
</span></span></span><span style="display:flex;"><span><span style="">| &lt;label&gt;&lt;?php echo Mage::helper(&#39;sales&#39;)-&gt; __(‘Giftcard Code’) ?&gt;&lt;/label&gt; | &lt;div style=&#34;font-weight:bold&#34;&gt;&lt;?php echo $card[&#39;c&#39;];??&gt; &lt;/div&gt; |
</span></span></span><span style="display:flex;"><span><span style="">|---|---|
</span></span></span><span style="display:flex;"><span><span style="">| &lt;label&gt;&lt;?php echo Mage::helper(&#39;sales&#39;)-&gt; __(‘Giftcard Amount’) ?&gt;&lt;/label&gt; | &lt;div style=&#34;font-weight:bold&#34;&gt;&lt;?php echo $card[&#39;a&#39;];??&gt; &lt;/div&gt; |
</span></span></span><span style="display:flex;"><span><span style=""> &lt;?php }??&gt;
</span></span></span><span style="display:flex;"><span><span style="">
</span></span></span><span style="display:flex;"><span><span style="">
</span></span></span><span style="display:flex;"><span><span style="">&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;?php }??&gt;
</span></span></span></code></pre></div>
]]></content:encoded>
    </item>
    <item>
      <title>Magento add/remove product attribute programatically</title>
      <link>http://localhost:1313/magento-add/remove-product-attribute-programatically/</link>
      <pubDate>Thu, 04 Sep 2014 02:24:16 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-add/remove-product-attribute-programatically/</guid>
      <description>&lt;p&gt;Magento add product attribute using sql setup file in your module. Also assign your custom attribute to attribute set Default and group General programatically.&lt;/p&gt;&#xA;&lt;p&gt;Below code will add your new attribute in Manage Products edit screen at the end of General tab with dropdown values Yes/No. It will not display in frontend website but you can change visibible on front to 1 if you wish. Note that it will assign to Default attribute set only but you can change it to whatever as per your requirement.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento add product attribute using sql setup file in your module. Also assign your custom attribute to attribute set Default and group General programatically.</p>
<p>Below code will add your new attribute in Manage Products edit screen at the end of General tab with dropdown values Yes/No. It will not display in frontend website but you can change visibible on front to 1 if you wish. Note that it will assign to Default attribute set only but you can change it to whatever as per your requirement.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$model</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getResourceModel</span>(‘catalog<span style="color:#666">/</span>setup’,’catalog_setup’);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$data</span><span style="color:#666">=</span><span style="color:#a2f;font-weight:bold">array</span>(  
</span></span><span style="display:flex;"><span>‘type’<span style="color:#666">=&gt;</span>’int’,  
</span></span><span style="display:flex;"><span>‘input’<span style="color:#666">=&gt;</span>’boolean’, <span style="color:#080;font-style:italic">//for Yes/No dropdown  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>‘sort_order’<span style="color:#666">=&gt;</span><span style="color:#666">50</span>,  
</span></span><span style="display:flex;"><span>‘label’<span style="color:#666">=&gt;</span>’CUSTOM ATTRIBUTE CODE LABEL’,  
</span></span><span style="display:flex;"><span>‘global’<span style="color:#666">=&gt;</span>Mage_Catalog_Model_Resource_Eav_Attribute<span style="color:#666">::</span><span style="color:#b44">SCOPE_GLOBAL</span>,  
</span></span><span style="display:flex;"><span>‘required’<span style="color:#666">=&gt;</span>’0’,  
</span></span><span style="display:flex;"><span>‘comparable’<span style="color:#666">=&gt;</span>’0’,  
</span></span><span style="display:flex;"><span>‘searchable’<span style="color:#666">=&gt;</span>’0’,  
</span></span><span style="display:flex;"><span>‘is_configurable’<span style="color:#666">=&gt;</span>’1’,  
</span></span><span style="display:flex;"><span>‘user_defined’<span style="color:#666">=&gt;</span>’1’,  
</span></span><span style="display:flex;"><span>‘visible_on_front’ <span style="color:#666">=&gt;</span> <span style="color:#666">0</span>, <span style="color:#080;font-style:italic">//want to show on frontend?  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>‘visible_in_advanced_search’ <span style="color:#666">=&gt;</span> <span style="color:#666">0</span>,  
</span></span><span style="display:flex;"><span>‘is_html_allowed_on_front’ <span style="color:#666">=&gt;</span> <span style="color:#666">0</span>,  
</span></span><span style="display:flex;"><span>‘required’<span style="color:#666">=&gt;</span> <span style="color:#666">0</span>,  
</span></span><span style="display:flex;"><span>‘unique’<span style="color:#666">=&gt;</span><span style="color:#a2f;font-weight:bold">false</span>,  
</span></span><span style="display:flex;"><span>‘apply_to’ <span style="color:#666">=&gt;</span> ‘configurable’, <span style="color:#080;font-style:italic">//simple,configurable,bundled,grouped,virtual,downloadable  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>‘is_configurable’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">false</span>  
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$model</span><span style="color:#666">-&gt;</span><span style="color:#b44">addAttribute</span>(‘catalog_product’,’CUSTOM_ATTRIBUTE_CODE’,<span style="color:#b8860b">$data</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$model</span><span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToSet</span>(  
</span></span><span style="display:flex;"><span> ‘catalog_product’, ‘Default’, ‘General’, ‘CUSTOM_ATTRIBUTE_CODE’  
</span></span><span style="display:flex;"><span>); <span style="color:#080;font-style:italic">//Default = attribute set, General = attribute group  
</span></span></span></code></pre></div>
<p>To remove the product attribute using the setup file, use below code instead:</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$model</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getResourceModel</span>(‘catalog<span style="color:#666">/</span>setup’,’catalog_setup’);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$model</span><span style="color:#666">-&gt;</span><span style="color:#b44">removeAttribute</span>(‘catalog_product’,’CUSTOM_ATTRIBUTE_CODE’);  
</span></span></code></pre></div>
]]></content:encoded>
    </item>
    <item>
      <title>Magento set session cookie lifetime to 1 day</title>
      <link>http://localhost:1313/magento-set-session-cookie-lifetime-to-1-day/</link>
      <pubDate>Tue, 02 Sep 2014 17:28:16 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-set-session-cookie-lifetime-to-1-day/</guid>
      <description>&lt;p&gt;Is your Magento shopping cart kicking out all the items after 24 minutes? Are you frustrated because your customer’s cart items are getting flushed every few hours even though you have correct setting in Magento? Do you want to increase your shopping cart sessions to last for 1 day (or anything you wish)?&lt;/p&gt;&#xA;&lt;p&gt;Here are the things to look for to increase/decrease Magento’s session cookie lifetime.&lt;/p&gt;&#xA;&lt;p&gt;In your php.ini file:&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; session.gc_maxlifetime 86400&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;&#xA;If you have not changed this, it should be by default 1440 i.e. 24 minutes. Change it to 86400 for one day session lifetime&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Is your Magento shopping cart kicking out all the items after 24 minutes? Are you frustrated because your customer’s cart items are getting flushed every few hours even though you have correct setting in Magento? Do you want to increase your shopping cart sessions to last for 1 day (or anything you wish)?</p>
<p>Here are the things to look for to increase/decrease Magento’s session cookie lifetime.</p>
<p>In your php.ini file:<br>




<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> session.gc_maxlifetime 86400</span></span></span></code></pre></div><br>
If you have not changed this, it should be by default 1440 i.e. 24 minutes. Change it to 86400 for one day session lifetime</p>
<p>In your Magento admin:<br>




<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> System -&gt; Configuration -&gt; Checkout -&gt; Shopping Cart  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Quote Lifetime (days) -&gt; 1</span></span></span></code></pre></div></p>




<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> System -&gt; Configuration -&gt; Web -&gt; Session Cookie Management  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Cookie Lifetime -&gt; 86400</span></span></span></code></pre></div>
<p>Make sure to check if you are in correct website/store if using multi-website/multi-store Magento setup. You can change the scope by changing the website/store from the upper left Store Switcher drop down in System -&gt; Configuration screen.</p>
<p>If you are changing php.ini value, make sure you reload apache to reflect the changes.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento convert attribute type from TEXT to DROPDOWN</title>
      <link>http://localhost:1313/magento-convert-attribute-type-from-text-to-dropdown/</link>
      <pubDate>Tue, 13 Aug 2013 23:15:44 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-convert-attribute-type-from-text-to-dropdown/</guid>
      <description>&lt;p&gt;Magento convert attribute type from TEXT (varchar) to DROPDOWN / SELECT (int) in Backend.&lt;br&gt;&#xA;Magento doesn’t have this in-built so we will have to do it in our own way. We will convert our existing attribute which is in TEXT type, to DROPDOWN (select). Let’s say our attribute code is “vendor”, you will need to replace it with your own attribute code in all the code below.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;WARNING&lt;/strong&gt;: All the coupon codes that uses this attribute for discounts/promotions will GO AWAY! Please note down all the coupon code Conditions and Actions (which uses this attribute) before converting the attribute.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento convert attribute type from TEXT (varchar) to DROPDOWN / SELECT (int) in Backend.<br>
Magento doesn’t have this in-built so we will have to do it in our own way. We will convert our existing attribute which is in TEXT type, to DROPDOWN (select). Let’s say our attribute code is “vendor”, you will need to replace it with your own attribute code in all the code below.</p>
<p><strong>WARNING</strong>: All the coupon codes that uses this attribute for discounts/promotions will GO AWAY! Please note down all the coupon code Conditions and Actions (which uses this attribute) before converting the attribute.</p>
<p><strong>Step 1.)</strong> Backup your database.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mariadb" data-lang="mariadb"><span style="display:flex;"><span>mysqldump<span style="color:#bbb"> </span><span style="color:#666">-</span>u<span style="color:#bbb"> </span>mysqluser<span style="color:#bbb"> </span><span style="color:#666">-</span>p<span style="color:#bbb"> </span>mysqldbname<span style="color:#bbb"> </span><span style="color:#666">&gt;</span><span style="color:#bbb"> </span>mysqldbname_backup.<span style="color:#a2f;font-weight:bold">sql</span></span></span></code></pre></div></p>
<p><strong>Step 2.)</strong> Export all the values of the attribute you want to convert in a CSV file. For that, create a file vendor.php (your_attribute.php) in your magento root with following code inside it:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">require</span> “app<span style="color:#666">/</span>Mage<span style="color:#666">.</span>php”;  
</span></span><span style="display:flex;"><span>umask(<span style="color:#666">0</span>);  
</span></span><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">app</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>product’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">getCollection</span>()  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToSelect</span>(‘sku’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToSelect</span>(‘vendor’); <span style="color:#080;font-style:italic">//replace vendor with your attribute code
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$data</span> <span style="color:#666">=</span> <span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">getData</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span> (<span style="color:#b8860b">$data</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$product</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$product</span>[‘entity_id’] <span style="color:#666">.</span> “,” <span style="color:#666">.</span> <span style="color:#b8860b">$product</span>[‘vendor’]<span style="color:#666">.</span>”\\n”;  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></p>
<p>After saving the above code, run it from command line:</p>
<p>



<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> php vendor.php &gt; vendor.csv</span></span></span></code></pre></div><br>
You should now have all the attribute’s data with product ID in the vendor.csv (your_attribute.csv) file.</p>
<p><strong>Step 3.)</strong> Now get all the unique values you have in the attribute’s data, which we will be filling them as options of select dropdown.<br>
Run following mysql command to get all the unique values and copy them in a new file:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mariadb" data-lang="mariadb"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">select</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">distinct</span><span style="color:#bbb"> </span>value<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">from</span><span style="color:#bbb"> </span>catalog_product_entity_varchar<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">where</span><span style="color:#bbb"> </span>attribute_id<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">in</span><span style="color:#bbb"> </span>(<span style="color:#a2f;font-weight:bold">select</span><span style="color:#bbb"> </span>attribute_id<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">from</span><span style="color:#bbb"> </span>eav_attribute<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">where</span><span style="color:#bbb"> </span>attribute_code<span style="color:#666">=</span><span style="">’</span>vendor<span style="">’</span>);<span style="color:#bbb"> </span><span style="color:#666">//</span><span style="color:#a2f;font-weight:bold">replace</span><span style="color:#bbb"> </span>vendor<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">with</span><span style="color:#bbb"> </span>your<span style="color:#bbb"> </span>own<span style="color:#bbb"> </span>attribute<span style="color:#bbb"> </span>code</span></span></code></pre></div></p>
<p>After this step, we have all the attribute’s data in CSV file, and all the UNIQUE attribute values.</p>
<p><strong>Step 4.)</strong> Note all the settings of the attribute and Delete the attribute from backend Manage Attributes screen. Now create new attribute from there with SAME attribute code but different Frontend Type (Dropdown). Rest all the settings will be same as you had it before. Save it. Go to Manage Attribute Sets page and assign the attribute to the Group it was assigned to before.</p>
<p><strong>Step 5.)</strong> Now we have to insert all the options to this attribute so that the values are shown in the dropdown. Edit your vendor.php file and replace the code with below:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">require</span> “app<span style="color:#666">/</span>Mage<span style="color:#666">.</span>php”;  
</span></span><span style="display:flex;"><span>umask(<span style="color:#666">0</span>);  
</span></span><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">app</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$installer</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> Mage_Eav_Model_Entity_Setup(‘core_setup’);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$installer</span><span style="color:#666">-&gt;</span><span style="color:#b44">startSetup</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//Change this….  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#b8860b">$values</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>(“val1″,”val2”); <span style="color:#080;font-style:italic">//your unique attributes values that you copied in a new file  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#b8860b">$attrCode</span> <span style="color:#666">=</span> ‘vendor’; <span style="color:#080;font-style:italic">//your attribute code here  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//……..
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$values</span> <span style="color:#666">=</span> array_map(‘utf8_encode’,<span style="color:#b8860b">$values</span>); <span style="color:#080;font-style:italic">//If you’re using special characters  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#b8860b">$iProductEntityTypeId</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>product’)<span style="color:#666">-&gt;</span><span style="color:#b44">getResource</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getTypeId</span>();  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$aOption</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>();  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$aOption</span>[‘attribute_id’] <span style="color:#666">=</span> <span style="color:#b8860b">$installer</span><span style="color:#666">-&gt;</span><span style="color:#b44">getAttributeId</span>(<span style="color:#b8860b">$iProductEntityTypeId</span>, <span style="color:#b8860b">$attrCode</span>);  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#b8860b">$iCount</span><span style="color:#666">=</span><span style="color:#666">0</span>;<span style="color:#b8860b">$iCount</span><span style="color:#666">&lt;</span>sizeof<span style="color:#666">&gt;</span>addAttributeOption(<span style="color:#b8860b">$aOption</span>);<span style="color:#666">&lt;/</span>sizeof<span style="color:#666">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$installer</span><span style="color:#666">-&gt;</span><span style="color:#b44">endSetup</span>();</span></span></code></pre></div></p>
<p>After running this, check your attribute manage page and see if all the values are updated or not. You can find the values in “Manage Labels/Options” tab of attribute’s Manage Attributes screen.</p>
<p><strong>Step 6.)</strong> Now comes the main part which will insert the attribute values in the database. The old values are stored in catalog_product_entity_varchar (text type), while now the values should go to catalog_product_entity_int (dropdown type). Replace your vendor.php file with below code:</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">require</span> “app<span style="color:#666">/</span>Mage<span style="color:#666">.</span>php”;  
</span></span><span style="display:flex;"><span>umask(<span style="color:#666">0</span>);  
</span></span><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">app</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$attribute</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘eav<span style="color:#666">/</span>config’)<span style="color:#666">-&gt;</span><span style="color:#b44">getAttribute</span>(‘catalog_product’, ‘vendor’); <span style="color:#080;font-style:italic">//change to your attribute code  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#b8860b">$allOptions</span> <span style="color:#666">=</span> <span style="color:#b8860b">$attribute</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSource</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getAllOptions</span>(<span style="color:#a2f;font-weight:bold">true</span>, <span style="color:#a2f;font-weight:bold">true</span>);  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span> (<span style="color:#b8860b">$allOptions</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$instance</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$myArray</span>[<span style="color:#b8860b">$instance</span>[‘label’]] <span style="color:#666">=</span> <span style="color:#b8860b">$instance</span>[‘value’];  
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> ((<span style="color:#b8860b">$handle</span> <span style="color:#666">=</span> fopen(“vendor<span style="color:#666">.</span>csv”, “r”)) <span style="color:#666">!==</span> <span style="color:#a2f;font-weight:bold">FALSE</span>) { <span style="color:#080;font-style:italic">//change to your attribute .csv file  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#a2f;font-weight:bold">while</span> ((<span style="color:#b8860b">$data</span> <span style="color:#666">=</span> fgetcsv(<span style="color:#b8860b">$handle</span>, <span style="color:#666">1000</span>, “,”)) <span style="color:#666">!==</span> <span style="color:#a2f;font-weight:bold">FALSE</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">list</span>(<span style="color:#b8860b">$_id</span>, <span style="color:#b8860b">$_value</span>) <span style="color:#666">=</span> <span style="color:#b8860b">$data</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$product</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>product’)<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$_id</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">setVendor</span>(<span style="color:#b8860b">$myArray</span>[<span style="color:#b8860b">$_value</span>]); <span style="color:#080;font-style:italic">//setVendor should be setYourAttributeCode
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">try</span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getResource</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">saveAttribute</span>(<span style="color:#b8860b">$product</span>, ‘vendor’); <span style="color:#080;font-style:italic">//change to your attribute code  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> } <span style="color:#a2f;font-weight:bold">catch</span>(Exception <span style="color:#b8860b">$e</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$_id</span> <span style="color:#666">.</span>”<span style="color:#666">:</span>”<span style="color:#666">.</span> <span style="color:#b8860b">$e</span><span style="color:#666">-&gt;</span><span style="color:#b44">getMessage</span>() <span style="color:#666">.</span>”\\n”;  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> fclose(<span style="color:#b8860b">$handle</span>);  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Run the file, it will take time to complete depending on how many values you had for that attribute.</p>
<p><strong>Step 7.)</strong> Clear cache, Re-index the indexes.</p>
<p>Done!<br>
Test it thoroughly.<br>
Based on my Magento Stackexchange question: <a href="http://magento.stackexchange.com/questions/6707/convert-attribute-type-from-text-to-dropdown/6710">http://magento.stackexchange.com/questions/6707/convert-attribute-type-from-text-to-dropdown/6710</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento how to remove order</title>
      <link>http://localhost:1313/magento-how-to-remove-order/</link>
      <pubDate>Sun, 11 Aug 2013 19:38:44 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-how-to-remove-order/</guid>
      <description>&lt;p&gt;First of all, removing live orders is not recommended. But if you are sure you want to remove orders (test orders?) then you can do so by custom script below. Get the order increment id(s) of the order you wish to delete from Magento. Remember, once order is deleted you can’t get any related information of that order.&lt;/p&gt;&#xA;&lt;p&gt;Create a test PHP file in your Magento project root with below code:&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;require&lt;/span&gt; ‘app&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;Mage&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;php’;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;app&lt;/span&gt;(‘admin’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setUseSessionInUrl&lt;/span&gt;(&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;false&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$orderIncrementIDs&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(‘100000001′,’100000002’); &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//your order increment ids to delete, beware!  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$rmvd&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;();&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$orderIncrementIDs&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$ordID&lt;/span&gt;){  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;try&lt;/span&gt;{  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘sales&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;order’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;loadByIncrementId&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$ordID&lt;/span&gt;)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;delete&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$rmvd&lt;/span&gt;[] &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$ordID&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; } &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;catch&lt;/span&gt;(Exception &lt;span style=&#34;color:#b8860b&#34;&gt;$e&lt;/span&gt;){  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; ‘Error&lt;span style=&#34;color:#666&#34;&gt;:&lt;/span&gt; ‘&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$e&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getMessage&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;’  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;‘;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; “Following Orders Removed&lt;span style=&#34;color:#666&#34;&gt;!&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;” &lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; implode(“, “,&lt;span style=&#34;color:#b8860b&#34;&gt;$rmvd&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;&#xA;and run the file to delete the order(s).&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>First of all, removing live orders is not recommended. But if you are sure you want to remove orders (test orders?) then you can do so by custom script below. Get the order increment id(s) of the order you wish to delete from Magento. Remember, once order is deleted you can’t get any related information of that order.</p>
<p>Create a test PHP file in your Magento project root with below code:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">require</span> ‘app<span style="color:#666">/</span>Mage<span style="color:#666">.</span>php’;  
</span></span><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">app</span>(‘admin’)<span style="color:#666">-&gt;</span><span style="color:#b44">setUseSessionInUrl</span>(<span style="color:#a2f;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$orderIncrementIDs</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>(‘100000001′,’100000002’); <span style="color:#080;font-style:italic">//your order increment ids to delete, beware!  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#b8860b">$rmvd</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$orderIncrementIDs</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$ordID</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">try</span>{  
</span></span><span style="display:flex;"><span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘sales<span style="color:#666">/</span>order’)<span style="color:#666">-&gt;</span><span style="color:#b44">loadByIncrementId</span>(<span style="color:#b8860b">$ordID</span>)<span style="color:#666">-&gt;</span><span style="color:#b44">delete</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$rmvd</span>[] <span style="color:#666">=</span> <span style="color:#b8860b">$ordID</span>;  
</span></span><span style="display:flex;"><span> } <span style="color:#a2f;font-weight:bold">catch</span>(Exception <span style="color:#b8860b">$e</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> ‘Error<span style="color:#666">:</span> ‘<span style="color:#666">.</span><span style="color:#b8860b">$e</span><span style="color:#666">-&gt;</span><span style="color:#b44">getMessage</span>()<span style="color:#666">.</span>’  
</span></span><span style="display:flex;"><span>‘;  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span>}  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> “Following Orders Removed<span style="color:#666">!</span>  
</span></span><span style="display:flex;"><span>” <span style="color:#666">.</span> implode(“, “,<span style="color:#b8860b">$rmvd</span>);</span></span></code></pre></div><br>
and run the file to delete the order(s).</p>
<p>You can also delete orders directly from database using below query:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mariadb" data-lang="mariadb"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">select</span><span style="color:#bbb"> </span><span style="color:#666">@</span>order_id:<span style="color:#666">=</span>entity_id<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">from</span><span style="color:#bbb"> </span>sales_order_entity<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">where</span><span style="color:#bbb"> </span>increment_id<span style="color:#666">=</span><span style="">’</span><span style="color:#666">100000001</span><span style="">′</span>;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a2f;font-weight:bold">delete</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">from</span><span style="color:#bbb"> </span>sales_order_entity<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">where</span><span style="color:#bbb"> </span>entity_id<span style="color:#666">=@</span>order_id<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">or</span><span style="color:#bbb"> </span>parent_id<span style="color:#666">=@</span>order_id;</span></span></code></pre></div></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento redirect from observer</title>
      <link>http://localhost:1313/magento-redirect-from-observer/</link>
      <pubDate>Sun, 21 Jul 2013 14:11:11 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-redirect-from-observer/</guid>
      <description>&lt;p&gt;Redirection in observer doesn’t work normally as it do in Blocks, templates and controllers. Also there is no standard code to redirect from observer that works in every situation.&lt;/p&gt;&#xA;&lt;p&gt;You will need an argument to achieve redirect when using below code:&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#00a000&#34;&gt;observingMethod&lt;/span&gt;(Varien_Event_Observer &lt;span style=&#34;color:#b8860b&#34;&gt;$observer&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$observer&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getRequest&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setParam&lt;/span&gt;(‘return_url’,&lt;span style=&#34;color:#b8860b&#34;&gt;$urlToRedirect&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;&#xA;Note that $observer object should have getRequest() method to make above code work. You may need to use $observer-&amp;gt;getEvent()-&amp;gt;getFront()-&amp;gt;getRequest() otherwise, or simply var_dump/Mage::log $observer to get better idea what methods the object have.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Redirection in observer doesn’t work normally as it do in Blocks, templates and controllers. Also there is no standard code to redirect from observer that works in every situation.</p>
<p>You will need an argument to achieve redirect when using below code:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">observingMethod</span>(Varien_Event_Observer <span style="color:#b8860b">$observer</span>)  
</span></span><span style="display:flex;"><span>{  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$observer</span><span style="color:#666">-&gt;</span><span style="color:#b44">getRequest</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">setParam</span>(‘return_url’,<span style="color:#b8860b">$urlToRedirect</span>);  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><br>
Note that $observer object should have getRequest() method to make above code work. You may need to use $observer-&gt;getEvent()-&gt;getFront()-&gt;getRequest() otherwise, or simply var_dump/Mage::log $observer to get better idea what methods the object have.</p>
<p>Or you can use below code which is not recommended:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">observingMethod</span>() {  
</span></span><span style="display:flex;"><span> header(‘Location<span style="color:#666">:</span> ‘ <span style="color:#666">.</span> <span style="color:#b8860b">$urlToRedirect</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">exit</span>;  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><br>
We don’t need any arguments using above method.</p>
<p>Another approach, again not recommended:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">observingMethod</span>(Varien_Event_Observer <span style="color:#b8860b">$observer</span>)  
</span></span><span style="display:flex;"><span>{  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$response</span> <span style="color:#666">=</span> <span style="color:#b8860b">$observer</span><span style="color:#666">-&gt;</span><span style="color:#b44">getResponse</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#080;font-style:italic">//$response = Mage::app()-&gt;getFrontController()-&gt;getResponse();  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#b8860b">$response</span><span style="color:#666">-&gt;</span><span style="color:#b44">setRedirect</span>(<span style="color:#b8860b">$urlToRedirect</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Mage<span style="color:#666">::</span><span style="color:#b44">app</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getFrontController</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">sendResponse</span>();  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento products not showing in categories</title>
      <link>http://localhost:1313/magento-products-not-showing-in-categories/</link>
      <pubDate>Fri, 19 Jul 2013 14:19:50 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-products-not-showing-in-categories/</guid>
      <description>&lt;p&gt;If your Magento products are not showing up in frontend category pages, that can be because one or more of the below points are not done correctly.&lt;/p&gt;&#xA;&lt;p&gt;The products must have following set correctly to appear in the category pages in frontend. You can check all the below things in Manage Products screen of any individual product.&lt;br&gt;&#xA;– &lt;em&gt;Status&lt;/em&gt; must be Enabled (under General tab)&lt;br&gt;&#xA;– &lt;em&gt;Visiblility&lt;/em&gt; should be Catalog OR Catalog, Search (under General tab)&lt;br&gt;&#xA;– Stock &lt;em&gt;Qty&lt;/em&gt; (quantity) should be greater than &lt;em&gt;Qty for Item’s Status to Become Out of Stock&lt;/em&gt; (under Inventory tab)&lt;br&gt;&#xA;– &lt;em&gt;Stock Availability&lt;/em&gt; must be IN STOCK&lt;br&gt;&#xA;– &lt;em&gt;Category&lt;/em&gt; should be assigned (under Categories tab)&lt;br&gt;&#xA;– &lt;em&gt;Website&lt;/em&gt; must be assigned (under Websites tab)&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>If your Magento products are not showing up in frontend category pages, that can be because one or more of the below points are not done correctly.</p>
<p>The products must have following set correctly to appear in the category pages in frontend. You can check all the below things in Manage Products screen of any individual product.<br>
– <em>Status</em> must be Enabled (under General tab)<br>
– <em>Visiblility</em> should be Catalog OR Catalog, Search (under General tab)<br>
– Stock <em>Qty</em> (quantity) should be greater than <em>Qty for Item’s Status to Become Out of Stock</em> (under Inventory tab)<br>
– <em>Stock Availability</em> must be IN STOCK<br>
– <em>Category</em> should be assigned (under Categories tab)<br>
– <em>Website</em> must be assigned (under Websites tab)</p>
<p>Clear the cache, re-index the indexes related to product (Product prices, Product flat data and Category products) and everything should work as expected.</p>
<p>This post is written to address the following issue:<br>
magento products not displaying in categories<br>
magento products not showing in categories<br>
magento items not showing in categories<br>
magento products not showing up in categories<br>
magento products not showing under categories<br>
magento products not displaying on category page<br>
magento product images not showing in category<br>
magento configurable product not showing in category<br>
magento new product not showing in category</p>
<p>If you are unable to see Product Images in frontend category pages, check this blog post to resolve it: <a href="http://ka.lpe.sh/2013/02/26/magento-cant-see-product-images-in-category-page/" title="Magento cannot see product images in category page">http://ka.lpe.sh/2013/02/26/magento-cant-see-product-images-in-category-page/</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento event observer cheatsheet list</title>
      <link>http://localhost:1313/magento-event-observer-cheatsheet-list/</link>
      <pubDate>Wed, 17 Jul 2013 13:34:56 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-event-observer-cheatsheet-list/</guid>
      <description>&lt;p&gt;Below events are available in Magento community edition 1.7, but they should be mostly available for other Magento versions and editions too. Check out which event you want to observe for your next Magento development requirement!&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; adminhtml_controller_action_predispatch_start  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_add_is_active_filter  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_collect_totals_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_collect_totals_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_import_data_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_init_virtual_grid_columns  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_load_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_load_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_load_by_txn_id_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_load_by_txn_id_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_merge_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_merge_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_save_attribute_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_save_attribute_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_set_sales_order  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix . ‘_update_grid_records  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix.’_clear  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix.’_delete_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix.’_delete_after_done  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix.’_delete_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix.’_delete_commit_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix.’_load_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix.’_load_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix.’_move_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix.’_move_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix.’_save_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix.’_save_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix.’_save_commit_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix.’_validate_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$this-&amp;gt;_eventPrefix.’_validate_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;add_synchronize_message  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;admin_permissions_role_prepare_save  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;admin_session_user_login_failed  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;admin_session_user_login_success  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;admin_system_config_changed_section_{$section}  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;admin_system_config_changed_section_currency  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;admin_system_config_changed_section_currency_before_reinit  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;admin_system_config_section_save_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;admin_user_authenticate_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;admin_user_authenticate_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_block_eav_attribute_edit_form_init  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_block_html_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_block_promo_widget_chooser_prepare_collection  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_block_salesrule_actions_prepareform  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_block_system_config_init_tab_sections_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_cache_flush_all  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_cache_flush_system  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_cache_refresh_type  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_catalog_category_edit_prepare_form  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_catalog_category_tabs  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_catalog_category_tree_can_add_root_category  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_catalog_category_tree_can_add_sub_category  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_catalog_category_tree_is_moveable  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_catalog_product_attribute_edit_prepare_form  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_catalog_product_attribute_set_main_html_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_catalog_product_attribute_set_toolbar_main_html_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_catalog_product_edit_element_types  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_catalog_product_edit_prepare_form  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_catalog_product_edit_tab_attributes_create_html_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_catalog_product_form_prepare_excluded_field_list  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_catalog_product_grid_prepare_massaction  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_cms_page_edit_tab_content_prepare_form  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_cms_page_edit_tab_design_prepare_form  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_cms_page_edit_tab_meta_prepare_form  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_cmspage_on_delete  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_controller_catalogrule_prepare_save  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_controller_salesrule_prepare_save  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_customer_orders_add_action_renderer  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_customer_prepare_save  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_customer_save_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_product_attribute_types  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_promo_catalog_edit_tab_main_prepare_form  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_promo_quote_edit_tab_coupons_form_prepare_form  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_promo_quote_edit_tab_main_prepare_form  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_sales_order_create_process_data  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_sales_order_create_process_data_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_sales_order_creditmemo_register_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_store_edit_form_prepare_form  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_system_config_advanced_disableoutput_render_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_widget_container_html_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;adminhtml_widget_grid_filter_collection  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;after_reindex_process_’ . indexercode  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;api_user_authenticated  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;api_user_html_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;application_clean_cache  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;before_save_message_queue  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;bundle_product_view_config  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_block_product_list_collection  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_category_change_products  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_category_flat_loadnodes_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_category_prepare_save  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_category_tree_init_inactive_category_ids  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_category_tree_move_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_category_tree_move_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_controller_category_delete  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_controller_category_init_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_controller_category_init_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_controller_product_delete  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_controller_product_init  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_controller_product_init_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_controller_product_view  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_helper_output_construct  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_model_product_duplicate  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_prepare_price_select  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_attribute_update_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_collection_apply_limitations_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_collection_before_add_count_to_categories  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_collection_load_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_collection_load_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_compare_add_product  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_compare_item_collection_clear  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_compare_remove_product  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_edit_action  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_edit_form_render_recurring  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_flat_prepare_columns  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_flat_prepare_indexes  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_flat_rebuild  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_flat_update_product  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_gallery_prepare_layout  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_gallery_upload_image_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_get_final_price  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_import_finish_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_is_salable_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_is_salable_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_media_add_image  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_media_save_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_new_action  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_prepare_index_select  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_prepare_save  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_status_update  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_to_website_change  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_type_configurable_price  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_type_grouped_price  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_upsell  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_view_config  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_website_update  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalog_product_website_update_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalogindex_get_minimal_price  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalogindex_plain_reindex_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalogindex_prepare_price_select  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalogrule_after_apply  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalogrule_before_apply  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalogsearch_index_process_complete  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalogsearch_index_process_start  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catalogsearch_reset_search_result  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;category_move  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;category_prepare_ajax_response  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;catelogsearch_searchable_attributes_load_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_allow_guest  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_cart_add_product_complete  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_cart_product_add_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_cart_product_update_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_cart_save_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_cart_save_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_cart_update_item_complete  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_cart_update_items_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_cart_update_items_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_controller_multishipping_shipping_post  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_controller_onepage_save_shipping_method  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_multishipping_controller_success_action  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_multishipping_refund_all  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_onepage_controller_success_action  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_quote_destroy  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_quote_init  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_submit_all_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_type_multishipping_create_orders_single  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_type_multishipping_set_shipping_items  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_type_onepage_save_order  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;checkout_type_onepage_save_order_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;clean_catalog_images_cache_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;clean_media_cache_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;clear_expired_quotes_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;cms_controller_router_match_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;cms_page_get_available_statuses  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;cms_page_prepare_save  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;cms_page_render  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;cms_wysiwyg_config_prepare  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;cms_wysiwyg_images_static_urls_allowed  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_layout_generate_blocks_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_layout_generate_blocks_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_layout_generate_xml_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_layout_load_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_layout_render_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_layout_render_before_’.$this-&amp;gt;getFullActionName(  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_nocookies  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_noroute  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_postdispatch  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_postdispatch_’.$this-&amp;gt;getFullActionName(  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_postdispatch_’.$this-&amp;gt;getRequest(  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_postdispatch_adminhtml  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_predispatch  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_predispatch_’ . $this-&amp;gt;getFullActionName(  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_action_predispatch_’ . $this-&amp;gt;getRequest(  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_front_init_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_front_init_routers  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_front_send_response_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_front_send_response_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;controller_response_redirect  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;core_block_abstract_prepare_layout_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;core_block_abstract_to_html_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;core_block_abstract_to_html_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;core_clean_cache  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;core_collection_abstrac&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;t_load_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;core_collection_abstract_load_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;core_layout_block_create_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;core_layout_update_updates_get_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;core_locale_set_locale  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;core_session_abstract_add_message  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;core_session_abstract_clear_messages  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;currency_display_options_forming  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;custom_quote_process  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;customer_address_format  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;customer_customer_authenticated  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;customer_login  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;customer_logout  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;customer_register_success  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;customer_registration_is_allowed  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;customer_session_init  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;eav_collection_abstract_load_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;enterprise_giftcardaccount_add  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;gift_options_prepare_items  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;google_checkout_discount_item_price  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;googlecheckout_block_link_html_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;googlecheckout_checkout_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;googlecheckout_create_order_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;googlecheckout_save_order_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;http_response_send_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;index_process_change_status  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;load_customer_quote_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;log_log_clean_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;log_log_clean_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;log_visitor_collection_load_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;model_config_data_save_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;model_delete_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;model_delete_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;model_delete_commit_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;model_load_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;model_load_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;model_save_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;model_save_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;model_save_commit_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;on_view_report  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;order_cancel_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;page_block_html_topmenu_gethtml_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;page_block_html_topmenu_gethtml_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;payment_form_block_to_html_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;payment_info_block_prepare_specific_information  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;payment_method_is_active  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;paypal_prepare_line_items  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;permissions_user_html_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;persistent_session_expired  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;poll_vote_add  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;prepare_catalog_product_collection_prices  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;prepare_catalog_product_index_select  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;prepare_catalog_product_price_index_table  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;product_option_renderer_init  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;resource_get_tablename  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;review_controller_product_init  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;review_controller_product_init_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;review_review_collection_load_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;rss_catalog_category_xml_callback  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;rss_catalog_new_xml_callback  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;rss_catalog_notify_stock_collection_select  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;rss_catalog_review_collection_select  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;rss_catalog_special_xml_callback  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;rss_catalog_tagged_item_xml_callback  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;rss_order_new_collection_select  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;rss_wishlist_xml_callback  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;rule_environment_collect  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_convert_order_item_to_quote_item  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_convert_order_to_quote  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_convert_order_to_quote  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_convert_quote_address_to_order  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_convert_quote_address_to_order_address  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_convert_quote_item_to_order_item  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_convert_quote_payment_to_order_payment  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_convert_quote_to_order  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_model_service_quote_submit_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_model_service_quote_submit_failure  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_model_service_quote_submit_success  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_creditmemo_cancel  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_creditmemo_refund  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_invoice_cancel  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_invoice_pay  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_invoice_register  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_item_cancel  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_payment_cancel  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_payment_cancel_creditmemo  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_payment_cancel_invoice  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_payment_capture  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_payment_pay  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_payment_place_end  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_payment_place_start  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_payment_refund  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_payment_void  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_order_place_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_quote_add_item  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_quote_address_discount_item  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_quote_config_get_product_attributes  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_quote_item_collection_products_after_load  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_quote_item_qty_set_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_quote_item_set_product  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_quote_product_add_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_quote_remove_item  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sales_sale_collection_query_before  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;salesrule_rule_condition_combine  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;salesrule_rule_get_coupon_types  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;salesrule_validator_process  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;sendfriend_product  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;store_delete  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;store_group_save  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;tax_rate_data_fetch  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;tax_settings_change_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;visitor_init  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;wishlist_add_item  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;wishlist_add_product  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;wishlist_item_collection_products_after_load  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;wishlist_items_renewed  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;wishlist_product_add_after  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;wishlist_share  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;wishlist_update_item&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&lt;p&gt;Happy observing! 🙂&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Below events are available in Magento community edition 1.7, but they should be mostly available for other Magento versions and editions too. Check out which event you want to observe for your next Magento development requirement!</p>




<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> adminhtml_controller_action_predispatch_start  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_add_is_active_filter  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_collect_totals_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_collect_totals_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_import_data_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_init_virtual_grid_columns  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_load_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_load_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_load_by_txn_id_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_load_by_txn_id_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_merge_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_merge_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_save_attribute_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_save_attribute_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_set_sales_order  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix . ‘_update_grid_records  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix.’_clear  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix.’_delete_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix.’_delete_after_done  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix.’_delete_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix.’_delete_commit_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix.’_load_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix.’_load_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix.’_move_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix.’_move_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix.’_save_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix.’_save_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix.’_save_commit_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix.’_validate_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$this-&gt;_eventPrefix.’_validate_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">add_synchronize_message  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">admin_permissions_role_prepare_save  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">admin_session_user_login_failed  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">admin_session_user_login_success  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">admin_system_config_changed_section_{$section}  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">admin_system_config_changed_section_currency  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">admin_system_config_changed_section_currency_before_reinit  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">admin_system_config_section_save_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">admin_user_authenticate_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">admin_user_authenticate_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_block_eav_attribute_edit_form_init  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_block_html_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_block_promo_widget_chooser_prepare_collection  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_block_salesrule_actions_prepareform  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_block_system_config_init_tab_sections_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_cache_flush_all  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_cache_flush_system  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_cache_refresh_type  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_catalog_category_edit_prepare_form  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_catalog_category_tabs  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_catalog_category_tree_can_add_root_category  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_catalog_category_tree_can_add_sub_category  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_catalog_category_tree_is_moveable  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_catalog_product_attribute_edit_prepare_form  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_catalog_product_attribute_set_main_html_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_catalog_product_attribute_set_toolbar_main_html_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_catalog_product_edit_element_types  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_catalog_product_edit_prepare_form  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_catalog_product_edit_tab_attributes_create_html_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_catalog_product_form_prepare_excluded_field_list  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_catalog_product_grid_prepare_massaction  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_cms_page_edit_tab_content_prepare_form  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_cms_page_edit_tab_design_prepare_form  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_cms_page_edit_tab_meta_prepare_form  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_cmspage_on_delete  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_controller_catalogrule_prepare_save  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_controller_salesrule_prepare_save  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_customer_orders_add_action_renderer  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_customer_prepare_save  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_customer_save_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_product_attribute_types  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_promo_catalog_edit_tab_main_prepare_form  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_promo_quote_edit_tab_coupons_form_prepare_form  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_promo_quote_edit_tab_main_prepare_form  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_sales_order_create_process_data  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_sales_order_create_process_data_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_sales_order_creditmemo_register_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_store_edit_form_prepare_form  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_system_config_advanced_disableoutput_render_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_widget_container_html_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">adminhtml_widget_grid_filter_collection  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">after_reindex_process_’ . indexercode  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">api_user_authenticated  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">api_user_html_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">application_clean_cache  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">before_save_message_queue  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">bundle_product_view_config  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_block_product_list_collection  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_category_change_products  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_category_flat_loadnodes_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_category_prepare_save  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_category_tree_init_inactive_category_ids  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_category_tree_move_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_category_tree_move_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_controller_category_delete  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_controller_category_init_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_controller_category_init_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_controller_product_delete  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_controller_product_init  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_controller_product_init_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_controller_product_view  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_helper_output_construct  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_model_product_duplicate  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_prepare_price_select  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_attribute_update_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_collection_apply_limitations_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_collection_before_add_count_to_categories  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_collection_load_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_collection_load_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_compare_add_product  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_compare_item_collection_clear  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_compare_remove_product  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_edit_action  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_edit_form_render_recurring  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_flat_prepare_columns  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_flat_prepare_indexes  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_flat_rebuild  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_flat_update_product  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_gallery_prepare_layout  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_gallery_upload_image_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_get_final_price  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_import_finish_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_is_salable_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_is_salable_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_media_add_image  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_media_save_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_new_action  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_prepare_index_select  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_prepare_save  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_status_update  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_to_website_change  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_type_configurable_price  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_type_grouped_price  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_upsell  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_view_config  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_website_update  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalog_product_website_update_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalogindex_get_minimal_price  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalogindex_plain_reindex_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalogindex_prepare_price_select  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalogrule_after_apply  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalogrule_before_apply  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalogsearch_index_process_complete  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalogsearch_index_process_start  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catalogsearch_reset_search_result  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">category_move  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">category_prepare_ajax_response  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">catelogsearch_searchable_attributes_load_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_allow_guest  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_cart_add_product_complete  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_cart_product_add_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_cart_product_update_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_cart_save_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_cart_save_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_cart_update_item_complete  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_cart_update_items_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_cart_update_items_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_controller_multishipping_shipping_post  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_controller_onepage_save_shipping_method  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_multishipping_controller_success_action  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_multishipping_refund_all  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_onepage_controller_success_action  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_quote_destroy  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_quote_init  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_submit_all_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_type_multishipping_create_orders_single  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_type_multishipping_set_shipping_items  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_type_onepage_save_order  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">checkout_type_onepage_save_order_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">clean_catalog_images_cache_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">clean_media_cache_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">clear_expired_quotes_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">cms_controller_router_match_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">cms_page_get_available_statuses  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">cms_page_prepare_save  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">cms_page_render  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">cms_wysiwyg_config_prepare  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">cms_wysiwyg_images_static_urls_allowed  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_layout_generate_blocks_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_layout_generate_blocks_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_layout_generate_xml_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_layout_load_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_layout_render_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_layout_render_before_’.$this-&gt;getFullActionName(  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_nocookies  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_noroute  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_postdispatch  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_postdispatch_’.$this-&gt;getFullActionName(  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_postdispatch_’.$this-&gt;getRequest(  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_postdispatch_adminhtml  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_predispatch  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_predispatch_’ . $this-&gt;getFullActionName(  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_action_predispatch_’ . $this-&gt;getRequest(  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_front_init_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_front_init_routers  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_front_send_response_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_front_send_response_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">controller_response_redirect  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">core_block_abstract_prepare_layout_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">core_block_abstract_to_html_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">core_block_abstract_to_html_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">core_clean_cache  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">core_collection_abstrac</span><span style="color:#960050;background-color:#1e0010">t_load_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">core_collection_abstract_load_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">core_layout_block_create_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">core_layout_update_updates_get_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">core_locale_set_locale  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">core_session_abstract_add_message  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">core_session_abstract_clear_messages  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">currency_display_options_forming  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">custom_quote_process  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">customer_address_format  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">customer_customer_authenticated  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">customer_login  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">customer_logout  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">customer_register_success  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">customer_registration_is_allowed  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">customer_session_init  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">eav_collection_abstract_load_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">enterprise_giftcardaccount_add  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">gift_options_prepare_items  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">google_checkout_discount_item_price  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">googlecheckout_block_link_html_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">googlecheckout_checkout_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">googlecheckout_create_order_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">googlecheckout_save_order_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">http_response_send_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">index_process_change_status  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">load_customer_quote_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">log_log_clean_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">log_log_clean_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">log_visitor_collection_load_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">model_config_data_save_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">model_delete_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">model_delete_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">model_delete_commit_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">model_load_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">model_load_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">model_save_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">model_save_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">model_save_commit_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">on_view_report  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">order_cancel_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">page_block_html_topmenu_gethtml_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">page_block_html_topmenu_gethtml_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">payment_form_block_to_html_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">payment_info_block_prepare_specific_information  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">payment_method_is_active  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">paypal_prepare_line_items  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">permissions_user_html_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">persistent_session_expired  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">poll_vote_add  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">prepare_catalog_product_collection_prices  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">prepare_catalog_product_index_select  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">prepare_catalog_product_price_index_table  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">product_option_renderer_init  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">resource_get_tablename  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">review_controller_product_init  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">review_controller_product_init_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">review_review_collection_load_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">rss_catalog_category_xml_callback  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">rss_catalog_new_xml_callback  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">rss_catalog_notify_stock_collection_select  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">rss_catalog_review_collection_select  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">rss_catalog_special_xml_callback  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">rss_catalog_tagged_item_xml_callback  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">rss_order_new_collection_select  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">rss_wishlist_xml_callback  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">rule_environment_collect  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_convert_order_item_to_quote_item  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_convert_order_to_quote  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_convert_order_to_quote  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_convert_quote_address_to_order  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_convert_quote_address_to_order_address  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_convert_quote_item_to_order_item  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_convert_quote_payment_to_order_payment  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_convert_quote_to_order  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_model_service_quote_submit_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_model_service_quote_submit_failure  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_model_service_quote_submit_success  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_creditmemo_cancel  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_creditmemo_refund  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_invoice_cancel  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_invoice_pay  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_invoice_register  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_item_cancel  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_payment_cancel  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_payment_cancel_creditmemo  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_payment_cancel_invoice  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_payment_capture  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_payment_pay  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_payment_place_end  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_payment_place_start  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_payment_refund  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_payment_void  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_order_place_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_quote_add_item  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_quote_address_discount_item  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_quote_config_get_product_attributes  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_quote_item_collection_products_after_load  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_quote_item_qty_set_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_quote_item_set_product  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_quote_product_add_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_quote_remove_item  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sales_sale_collection_query_before  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">salesrule_rule_condition_combine  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">salesrule_rule_get_coupon_types  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">salesrule_validator_process  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sendfriend_product  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">store_delete  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">store_group_save  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">tax_rate_data_fetch  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">tax_settings_change_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">visitor_init  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">wishlist_add_item  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">wishlist_add_product  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">wishlist_item_collection_products_after_load  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">wishlist_items_renewed  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">wishlist_product_add_after  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">wishlist_share  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">wishlist_update_item</span></span></span></code></pre></div>
<p>Happy observing! 🙂</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento partial refund creditmemo programatically</title>
      <link>http://localhost:1313/magento-partial-refund-creditmemo-programatically/</link>
      <pubDate>Tue, 16 Jul 2013 12:54:24 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-partial-refund-creditmemo-programatically/</guid>
      <description>&lt;p&gt;Suppose you have a product which is out of stock or something and you want to refund that product line item from order programatically. The below code will create creditmemo/refund for the products with certain SKU if it finds it in the line items of the order.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;app&lt;/span&gt;(‘admin’); &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//You can create creditmemo in admin area only  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//You should have $orderID as order increment ID and $sku as product SKU you want to refund for.  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$order&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘sales&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;order’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;loadByIncrementId&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$orderID&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$orderItem&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$order&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getItemsCollection&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getItemByColumnValue&lt;/span&gt;(‘sku’, &lt;span style=&#34;color:#b8860b&#34;&gt;$sku&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$service&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘sales&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;service_order’, &lt;span style=&#34;color:#b8860b&#34;&gt;$order&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$data&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘qtys’ &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$orderItem&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getId&lt;/span&gt;() &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//qty to refund.. $orderItem-&amp;gt;getQty()  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt; )  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$creditMemo&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$service&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;prepareCreditmemo&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$data&lt;/span&gt;)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;save&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
      <content:encoded><![CDATA[<p>Suppose you have a product which is out of stock or something and you want to refund that product line item from order programatically. The below code will create creditmemo/refund for the products with certain SKU if it finds it in the line items of the order.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">app</span>(‘admin’); <span style="color:#080;font-style:italic">//You can create creditmemo in admin area only  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//You should have $orderID as order increment ID and $sku as product SKU you want to refund for.  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#b8860b">$order</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘sales<span style="color:#666">/</span>order’)<span style="color:#666">-&gt;</span><span style="color:#b44">loadByIncrementId</span>(<span style="color:#b8860b">$orderID</span>);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$orderItem</span> <span style="color:#666">=</span> <span style="color:#b8860b">$order</span><span style="color:#666">-&gt;</span><span style="color:#b44">getItemsCollection</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getItemByColumnValue</span>(‘sku’, <span style="color:#b8860b">$sku</span>);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$service</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘sales<span style="color:#666">/</span>service_order’, <span style="color:#b8860b">$order</span>);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$data</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>(  
</span></span><span style="display:flex;"><span> ‘qtys’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">array</span>(  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$orderItem</span><span style="color:#666">-&gt;</span><span style="color:#b44">getId</span>() <span style="color:#666">=&gt;</span> <span style="color:#666">1</span> <span style="color:#080;font-style:italic">//qty to refund.. $orderItem-&gt;getQty()  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> )  
</span></span><span style="display:flex;"><span>);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$creditMemo</span> <span style="color:#666">=</span> <span style="color:#b8860b">$service</span><span style="color:#666">-&gt;</span><span style="color:#b44">prepareCreditmemo</span>(<span style="color:#b8860b">$data</span>)<span style="color:#666">-&gt;</span><span style="color:#b44">save</span>();</span></span></code></pre></div>
]]></content:encoded>
    </item>
    <item>
      <title>Magento get store information</title>
      <link>http://localhost:1313/magento-get-store-information/</link>
      <pubDate>Sat, 29 Jun 2013 21:24:28 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-store-information/</guid>
      <description>&lt;p&gt;Magento get store information from any page.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$store&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;app&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getStore&lt;/span&gt;(); &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//Mage_Core_Model_Store object&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&lt;p&gt;Now to get store ID,&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$storeID&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$store&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getStoreId&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;To get store code,&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$storeCode&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$store&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getCode&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;To get store Website ID,&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$websiteID&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$store&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getWebsiteId&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;To get store name,&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$storeName&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$store&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getName&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;To get Default View store name,&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$storeName&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$store&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getFrontendName&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;To check if store is active or not,&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$active&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$store&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getIsActive&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;To get store’s Home URL,&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$storeHomeURL&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$store&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getHomeUrl&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;If you want to find store’s group name,&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$storeGroupName&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$store&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getGroup&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getName&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;If you want ADMIN Store information, admin store has ID 0. So, you can get the details of Admin Store like this:&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$store&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘core&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;store’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;load&lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento get store information from any page.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$store</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">app</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getStore</span>(); <span style="color:#080;font-style:italic">//Mage_Core_Model_Store object
</span></span></span></code></pre></div>
<p>Now to get store ID,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$storeID</span> <span style="color:#666">=</span> <span style="color:#b8860b">$store</span><span style="color:#666">-&gt;</span><span style="color:#b44">getStoreId</span>();</span></span></code></pre></div></p>
<p>To get store code,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$storeCode</span> <span style="color:#666">=</span> <span style="color:#b8860b">$store</span><span style="color:#666">-&gt;</span><span style="color:#b44">getCode</span>();</span></span></code></pre></div></p>
<p>To get store Website ID,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$websiteID</span> <span style="color:#666">=</span> <span style="color:#b8860b">$store</span><span style="color:#666">-&gt;</span><span style="color:#b44">getWebsiteId</span>();</span></span></code></pre></div></p>
<p>To get store name,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$storeName</span> <span style="color:#666">=</span> <span style="color:#b8860b">$store</span><span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>();</span></span></code></pre></div></p>
<p>To get Default View store name,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$storeName</span> <span style="color:#666">=</span> <span style="color:#b8860b">$store</span><span style="color:#666">-&gt;</span><span style="color:#b44">getFrontendName</span>();</span></span></code></pre></div></p>
<p>To check if store is active or not,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$active</span> <span style="color:#666">=</span> <span style="color:#b8860b">$store</span><span style="color:#666">-&gt;</span><span style="color:#b44">getIsActive</span>();</span></span></code></pre></div></p>
<p>To get store’s Home URL,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$storeHomeURL</span> <span style="color:#666">=</span> <span style="color:#b8860b">$store</span><span style="color:#666">-&gt;</span><span style="color:#b44">getHomeUrl</span>();</span></span></code></pre></div></p>
<p>If you want to find store’s group name,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$storeGroupName</span> <span style="color:#666">=</span> <span style="color:#b8860b">$store</span><span style="color:#666">-&gt;</span><span style="color:#b44">getGroup</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>();</span></span></code></pre></div></p>
<p>If you want ADMIN Store information, admin store has ID 0. So, you can get the details of Admin Store like this:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$store</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘core<span style="color:#666">/</span>store’)<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#666">0</span>);</span></span></code></pre></div></p>
<p>and then getting all the information as shown above.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento disable guest checkout / enable guest checkout</title>
      <link>http://localhost:1313/magento-disable-guest-checkout-/-enable-guest-checkout/</link>
      <pubDate>Sun, 26 May 2013 17:42:39 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-disable-guest-checkout-/-enable-guest-checkout/</guid>
      <description>&lt;p&gt;By default the guest checkout in Magento is enabled and visitors can place an order without registering to the website. Some websites require mandatory login for placing orders, and this default feature should be turned off to disallow guest checkout.&lt;/p&gt;&#xA;&lt;p&gt;To disable guest checkout, navigate to:&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;System &amp;gt; Configuration &amp;gt; Sales section &amp;gt; Checkout &amp;gt; Checkout Options&lt;/em&gt;&lt;br&gt;&#xA;Set &lt;em&gt;Allow Guest Checkout&lt;/em&gt; to &lt;em&gt;No&lt;/em&gt;&lt;/p&gt;&#xA;&lt;p&gt;This will now disable any guest checkout in your site.&lt;br&gt;&#xA;To enable guest checkout, simply set the above dropdown option to &lt;em&gt;Yes&lt;/em&gt;.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>By default the guest checkout in Magento is enabled and visitors can place an order without registering to the website. Some websites require mandatory login for placing orders, and this default feature should be turned off to disallow guest checkout.</p>
<p>To disable guest checkout, navigate to:</p>
<p><em>System &gt; Configuration &gt; Sales section &gt; Checkout &gt; Checkout Options</em><br>
Set <em>Allow Guest Checkout</em> to <em>No</em></p>
<p>This will now disable any guest checkout in your site.<br>
To enable guest checkout, simply set the above dropdown option to <em>Yes</em>.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento remove index.php from URL</title>
      <link>http://localhost:1313/magento-remove-index.php-from-url/</link>
      <pubDate>Sun, 26 May 2013 14:39:38 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-remove-index.php-from-url/</guid>
      <description>&lt;p&gt;In Magento remove index.php from URL using below steps. It will convert your URL from&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;&lt;a href=&#34;http://www.example.com/index.php/blah&#34;&gt;http://www.example.com/index.php/blah&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&#xA;&lt;p&gt;to&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;&lt;a href=&#34;http://www.example.com/blah&#34;&gt;http://www.example.com/blah&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;&#xA;&lt;p&gt;1.) In Magento &lt;em&gt;Admin &amp;gt; System &amp;gt; Configuration &amp;gt; Web &amp;gt; Search Engine Optimization&lt;/em&gt;, change the value of &lt;em&gt;Web Server Rewrites&lt;/em&gt; to &lt;em&gt;Yes&lt;/em&gt;&lt;/p&gt;&#xA;&lt;p&gt;Make sure your web server rewrite module is enabled. If you are using apache as your web server on Linux, you can check it by going to &lt;em&gt;/etc/apache2/mods-enabled/rewrite.load&lt;/em&gt;, if rewrite.load is present there it means your rewrite module is enabled. If not, you will need to copy &lt;em&gt;rewrite.load&lt;/em&gt; from &lt;em&gt;/etc/apache2/mods-available/&lt;/em&gt; and paste it at &lt;em&gt;/etc/apache2/mods-enabled/&lt;/em&gt; location. Then reload the apache by running &lt;em&gt;service apache2 reload&lt;/em&gt;.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>In Magento remove index.php from URL using below steps. It will convert your URL from</p>
<p><em><a href="http://www.example.com/index.php/blah">http://www.example.com/index.php/blah</a></em></p>
<p>to</p>
<p><em><a href="http://www.example.com/blah">http://www.example.com/blah</a></em></p>
<p>1.) In Magento <em>Admin &gt; System &gt; Configuration &gt; Web &gt; Search Engine Optimization</em>, change the value of <em>Web Server Rewrites</em> to <em>Yes</em></p>
<p>Make sure your web server rewrite module is enabled. If you are using apache as your web server on Linux, you can check it by going to <em>/etc/apache2/mods-enabled/rewrite.load</em>, if rewrite.load is present there it means your rewrite module is enabled. If not, you will need to copy <em>rewrite.load</em> from <em>/etc/apache2/mods-available/</em> and paste it at <em>/etc/apache2/mods-enabled/</em> location. Then reload the apache by running <em>service apache2 reload</em>.</p>
<p>2.) Check the file permission of .htaccess, it should be present in Magento root directory and readable by server.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento Recoverable Error Argument 1 passed to Mage _Core _Model _Store ::setWebsite() must be an instance of Mage_Core_Model_Website</title>
      <link>http://localhost:1313/magento-recoverable-error-argument-1-passed-to-mage-_core-_model-_store-setwebsite-must-be-an-instance-of-mage_core_model_website/</link>
      <pubDate>Wed, 22 May 2013 17:37:10 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-recoverable-error-argument-1-passed-to-mage-_core-_model-_store-setwebsite-must-be-an-instance-of-mage_core_model_website/</guid>
      <description>&lt;p&gt;Magento Recoverable Error: Argument 1 passed to Mage_Core_Model_Store::setWebsite() must be an instance of Mage_Core_Model_Website, null given, called in /var/www/xxx/app/code/core/Mage/Core/Model/App.php on line 634 and defined in /var/www/xxx/app/code/core/Mage/Core/Model/Store.php on line 395&lt;/p&gt;&#xA;&lt;p&gt;When migrating Magento site from old server to new server, this error often occurs and appears in var/log/system.log. It prevents your Magento Admin to load JS and CSS files hence your admin panel becomes skinless.&lt;/p&gt;&#xA;&lt;p&gt;The solution to get rid of this and load JS and CSS files is to run the following mysql commands in Mysql console or phpMyAdmin.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento Recoverable Error: Argument 1 passed to Mage_Core_Model_Store::setWebsite() must be an instance of Mage_Core_Model_Website, null given, called in /var/www/xxx/app/code/core/Mage/Core/Model/App.php on line 634 and defined in /var/www/xxx/app/code/core/Mage/Core/Model/Store.php on line 395</p>
<p>When migrating Magento site from old server to new server, this error often occurs and appears in var/log/system.log. It prevents your Magento Admin to load JS and CSS files hence your admin panel becomes skinless.</p>
<p>The solution to get rid of this and load JS and CSS files is to run the following mysql commands in Mysql console or phpMyAdmin.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mariadb" data-lang="mariadb"><span style="display:flex;"><span><span style="color:#0b0;font-weight:bold">SET</span><span style="color:#bbb"> </span>FOREIGN_KEY_CHECKS<span style="color:#666">=</span><span style="color:#666">0</span>;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a2f;font-weight:bold">UPDATE</span><span style="color:#bbb"> </span><span style="color:#666">`</span>core_store<span style="color:#666">`</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">SET</span><span style="color:#bbb"> </span>store_id<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#666">0</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">WHERE</span><span style="color:#bbb"> </span>code<span style="color:#666">=</span><span style="">’</span>admin<span style="">’</span>;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a2f;font-weight:bold">UPDATE</span><span style="color:#bbb"> </span><span style="color:#666">`</span>core_store_group<span style="color:#666">`</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">SET</span><span style="color:#bbb"> </span>group_id<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#666">0</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">WHERE</span><span style="color:#bbb"> </span>name<span style="color:#666">=</span><span style="">’</span><span style="color:#a2f;font-weight:bold">Default</span><span style="">’</span>;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a2f;font-weight:bold">UPDATE</span><span style="color:#bbb"> </span><span style="color:#666">`</span>core_website<span style="color:#666">`</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">SET</span><span style="color:#bbb"> </span>website_id<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#666">0</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">WHERE</span><span style="color:#bbb"> </span>code<span style="color:#666">=</span><span style="">’</span>admin<span style="">’</span>;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a2f;font-weight:bold">UPDATE</span><span style="color:#bbb"> </span><span style="color:#666">`</span>customer_group<span style="color:#666">`</span><span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">SET</span><span style="color:#bbb"> </span>customer_group_id<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#666">0</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">WHERE</span><span style="color:#bbb"> </span>customer_group_code<span style="color:#666">=</span><span style="">’</span><span style="color:#a2f;font-weight:bold">NOT</span><span style="color:#bbb"> </span>LOGGED<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">IN</span><span style="">’</span>;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#0b0;font-weight:bold">SET</span><span style="color:#bbb"> </span>FOREIGN_KEY_CHECKS<span style="color:#666">=</span><span style="color:#666">1</span>;</span></span></code></pre></div>
<p>What the above mysql commands does is:<br>
– Disables foreign key checks on tables so that you don’t get any foreign key errors while executing immediate update queries.<br>
– Updates store, store_group and website tables with ID = 0, for admin user</p>
<p>Once the above set of queries are executed, don’t forget to <strong>clear cache</strong> to reflect your changes.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento add attribute to order</title>
      <link>http://localhost:1313/magento-add-attribute-to-order/</link>
      <pubDate>Fri, 10 May 2013 21:46:48 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-add-attribute-to-order/</guid>
      <description>&lt;p&gt;Adding custom attribute to order in Magento is same as we do for customer and category. The difference is we will use different setup class AND we will not need attribute set, group and attribute input type now. We will create a quick module which will do exactly what we want and nothing more than that. So let’s start our new module.&lt;/p&gt;&#xA;&lt;p&gt;1.) Create a file at app/etc/modules/ and name it whatever you want. I will name it Namespace_Module.xml&lt;br&gt;&#xA;Paste this code in that file:&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080&#34;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34;??&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;config&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;modules&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;namespace_module&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;active&amp;gt;&lt;/span&gt;true&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/active&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;codepool&amp;gt;&lt;/span&gt;local&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/codepool&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/namespace_module&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/modules&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/config&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Adding custom attribute to order in Magento is same as we do for customer and category. The difference is we will use different setup class AND we will not need attribute set, group and attribute input type now. We will create a quick module which will do exactly what we want and nothing more than that. So let’s start our new module.</p>
<p>1.) Create a file at app/etc/modules/ and name it whatever you want. I will name it Namespace_Module.xml<br>
Paste this code in that file:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#080">&lt;?xml version=&#34;1.0&#34;??&gt;</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;config&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;modules&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;namespace_module&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;active&gt;</span>true<span style="color:#008000;font-weight:bold">&lt;/active&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;codepool&gt;</span>local<span style="color:#008000;font-weight:bold">&lt;/codepool&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/namespace_module&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/modules&gt;</span>  
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/config&gt;</span></span></span></code></pre></div></p>
<p>2.) Create necessary directories to reach to app/code/local/Namespace/Module/etc/, so that we can create our config.xml there. Paste below code in this config file:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#080">&lt;?xml version=&#34;1.0&#34;??&gt;</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;config&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;modules&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;namespace_module&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;version&gt;</span>0.0.1<span style="color:#008000;font-weight:bold">&lt;/version&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/namespace_module&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/modules&gt;&lt;/config&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;global&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;resources&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;modulename_setup&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;setup&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;module&gt;</span>Namespace_Module<span style="color:#008000;font-weight:bold">&lt;/module&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;class&gt;</span>Mage_Sales_Model_Mysql4_Setup<span style="color:#008000;font-weight:bold">&lt;/class&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/setup&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;connection&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;use&gt;</span>core_setup<span style="color:#008000;font-weight:bold">&lt;/use&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/connection&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/modulename_setup&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;modulename_write&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;connection&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;use&gt;</span>core_write<span style="color:#008000;font-weight:bold">&lt;/use&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/connection&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/modulename_write&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;modulename_read&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;connection&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;use&gt;</span>core_read<span style="color:#008000;font-weight:bold">&lt;/use&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/connection&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/modulename_read&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/resources&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/global&gt;</span>  </span></span></code></pre></div></p>
<p>3.) Now comes our main file, which will create new Order attribute for us. Create file “mysql4-install-0.0.1.php” in app/code/local/Namespace/Module/sql/module_setup/, and paste the below code in it:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">startSetup</span>();  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">addAttribute</span>(‘order’, ‘your_custom_attribute_here’, <span style="color:#a2f;font-weight:bold">array</span>(  
</span></span><span style="display:flex;"><span> ‘type’ <span style="color:#666">=&gt;</span> ‘varchar’,  
</span></span><span style="display:flex;"><span> ‘label’ <span style="color:#666">=&gt;</span> ‘Custom Order attribute label’,  
</span></span><span style="display:flex;"><span> ‘visible’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">true</span>,  
</span></span><span style="display:flex;"><span> ‘required’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">false</span>,  
</span></span><span style="display:flex;"><span> ‘visible_on_front’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">true</span>,  
</span></span><span style="display:flex;"><span> ‘user_defined’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">true</span>  
</span></span><span style="display:flex;"><span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">endSetup</span>();</span></span></code></pre></div></p>
<p>This will add new attribute to Order and after clearing cache you can see your custom attribute in backend “Manage Orders” screen and in customer frontend screen “My Orders”. HTH!</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento add attribute to category</title>
      <link>http://localhost:1313/magento-add-attribute-to-category/</link>
      <pubDate>Fri, 10 May 2013 21:16:55 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-add-attribute-to-category/</guid>
      <description>&lt;p&gt;Adding category attribute in Magento is same as we add for product and customer. Here in this post I will create a custom module which will add your new custom category attribute in Magento. So let’s start with the module:&lt;/p&gt;&#xA;&lt;p&gt;1.) As usual, create an XML file in app/etc/modules/ directory, I will name it Namespace_Module.xml&lt;br&gt;&#xA;Paste below code in it changing the Namespace and Module as you want.&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080&#34;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34;??&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;config&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;modules&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;namespace_module&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;active&amp;gt;&lt;/span&gt;true&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/active&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;codepool&amp;gt;&lt;/span&gt;local&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/codepool&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/namespace_module&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/modules&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/config&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Adding category attribute in Magento is same as we add for product and customer. Here in this post I will create a custom module which will add your new custom category attribute in Magento. So let’s start with the module:</p>
<p>1.) As usual, create an XML file in app/etc/modules/ directory, I will name it Namespace_Module.xml<br>
Paste below code in it changing the Namespace and Module as you want.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#080">&lt;?xml version=&#34;1.0&#34;??&gt;</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;config&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;modules&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;namespace_module&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;active&gt;</span>true<span style="color:#008000;font-weight:bold">&lt;/active&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;codepool&gt;</span>local<span style="color:#008000;font-weight:bold">&lt;/codepool&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/namespace_module&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/modules&gt;</span>  
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/config&gt;</span></span></span></code></pre></div></p>
<p>2.) Second step would be to create a file config.xml in app/code/local/Namespace/Module/etc/ directory. Create all the directories required get there. Paste the below code in it making sure you have changed Namespace and Module with your naming.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>xml version<span style="color:#666">=</span><span style="color:#b44">&#34;1.0&#34;</span><span style="color:#666">?</span><span style="color:#080">?&gt;</span><span style="">
</span></span></span><span style="display:flex;"><span><span style="">  
</span></span></span><span style="display:flex;"><span><span style="">&lt;config&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;modules&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;namespace_module&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;version&gt;0.0.1&lt;/version&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/namespace_module&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/modules&gt;&lt;/config&gt;
</span></span></span><span style="display:flex;"><span><span style="">
</span></span></span><span style="display:flex;"><span><span style=""> &lt;global&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;resources&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;module&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;setup&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;module&gt;Namespace_Module&lt;/module&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;class&gt;Mage_Catalog_Model_Resource_Eav_Mysql4_Setup&lt;/class&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/setup&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;connection&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;use&gt;core_setup&lt;/use&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/connection&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/module&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;module_write&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;connection&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;use&gt;core_write&lt;/use&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/connection&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/module_write&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;module_read&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;connection&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;use&gt;core_read&lt;/use&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/connection&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/module_read&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/resources&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/global&gt;  
</span></span></span></code></pre></div><br>
I have only included setup class and connections as those are the only things we will need to execute our script which will insert the custom attribute to category in our Magento project.</p>
<p>3.) Here comes main file, which will actually add attribute to category. We will put below code in app/code/local/Namespace/Module/sql/module_setup/mysql4-install-0.1.0.php<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">startSetup</span>();  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">addAttribute</span>(‘catalog_category’, ‘your_custom_attribute_here’, <span style="color:#a2f;font-weight:bold">array</span>(  
</span></span><span style="display:flex;"><span> ‘group’ <span style="color:#666">=&gt;</span> ‘General’,  
</span></span><span style="display:flex;"><span> ‘input’ <span style="color:#666">=&gt;</span> ‘text’,  
</span></span><span style="display:flex;"><span> ‘type’ <span style="color:#666">=&gt;</span> ‘varchar’,  
</span></span><span style="display:flex;"><span> ‘label’ <span style="color:#666">=&gt;</span> ‘Custom Category attribute label’,  
</span></span><span style="display:flex;"><span> ‘visible’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">true</span>,  
</span></span><span style="display:flex;"><span> ‘required’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">false</span>,  
</span></span><span style="display:flex;"><span> ‘visible_on_front’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">true</span>,  
</span></span><span style="display:flex;"><span> ‘global’ <span style="color:#666">=&gt;</span> Mage_Catalog_Model_Resource_Eav_Attribute<span style="color:#666">::</span><span style="color:#b44">SCOPE_GLOBAL</span>,  
</span></span><span style="display:flex;"><span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">endSetup</span>();  
</span></span><span style="display:flex;"><span><span style="color:#080">?&gt;</span><span style="">
</span></span></span></code></pre></div></p>
<p>We have used minimal things to create this module and add attribute to category. You can go further and do more additions from this.</p>
<p>After clearing cache, you will see that your new custom attribute appear in Category pages in frontend as well as Manage Categories section in backend. HTH!</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento add attribute to customer</title>
      <link>http://localhost:1313/magento-add-attribute-to-customer/</link>
      <pubDate>Fri, 10 May 2013 20:52:55 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-add-attribute-to-customer/</guid>
      <description>&lt;p&gt;In Magento to add an attribute to customer is not an option in the admin panel like it does have for Product attribute. So you have to end up writing the script that will add your custom attribute in customer’s EAV tables.&lt;/p&gt;&#xA;&lt;p&gt;Below code will insert your custom customer attribute in Magento system. You can even specify whil creating the attribute whether that attribute should appear in the forms (like register/signup) or not.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>In Magento to add an attribute to customer is not an option in the admin panel like it does have for Product attribute. So you have to end up writing the script that will add your custom attribute in customer’s EAV tables.</p>
<p>Below code will insert your custom customer attribute in Magento system. You can even specify whil creating the attribute whether that attribute should appear in the forms (like register/signup) or not.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$installer</span> <span style="color:#666">=</span> <span style="color:#b8860b">$this</span>;  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$installer</span><span style="color:#666">-&gt;</span><span style="color:#b44">startSetup</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$setup</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> Mage_Eav_Model_Entity_Setup(‘core_setup’);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$entityTypeId</span> <span style="color:#666">=</span> <span style="color:#b8860b">$setup</span><span style="color:#666">-&gt;</span><span style="color:#b44">getEntityTypeId</span>(‘customer’);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$attributeSetId</span> <span style="color:#666">=</span> <span style="color:#b8860b">$setup</span><span style="color:#666">-&gt;</span><span style="color:#b44">getDefaultAttributeSetId</span>(<span style="color:#b8860b">$entityTypeId</span>);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$attributeGroupId</span> <span style="color:#666">=</span> <span style="color:#b8860b">$setup</span><span style="color:#666">-&gt;</span><span style="color:#b44">getDefaultAttributeGroupId</span>(<span style="color:#b8860b">$entityTypeId</span>, <span style="color:#b8860b">$attributeSetId</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$setup</span><span style="color:#666">-&gt;</span><span style="color:#b44">addAttribute</span>(‘customer’, ‘your_attribute_code_here’, <span style="color:#a2f;font-weight:bold">array</span>(  
</span></span><span style="display:flex;"><span> ‘input’ <span style="color:#666">=&gt;</span> ‘text’, <span style="color:#080;font-style:italic">//or select or whatever you like  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> ‘type’ <span style="color:#666">=&gt;</span> ‘int’, <span style="color:#080;font-style:italic">//or varchar or anything you want it  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> ‘label’ <span style="color:#666">=&gt;</span> ‘Attribute description goes here’,  
</span></span><span style="display:flex;"><span> ‘visible’ <span style="color:#666">=&gt;</span> <span style="color:#666">1</span>,  
</span></span><span style="display:flex;"><span> ‘required’ <span style="color:#666">=&gt;</span> <span style="color:#666">0</span>, <span style="color:#080;font-style:italic">//mandatory? then 1  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> ‘user_defined’ <span style="color:#666">=&gt;</span> <span style="color:#666">1</span>,  
</span></span><span style="display:flex;"><span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$setup</span><span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToGroup</span>(  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$entityTypeId</span>,  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$attributeSetId</span>,  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$attributeGroupId</span>,  
</span></span><span style="display:flex;"><span> ‘your_attribute_code_here’,  
</span></span><span style="display:flex;"><span> ‘100’  
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$oAttribute</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getSingleton</span>(‘eav<span style="color:#666">/</span>config’)<span style="color:#666">-&gt;</span><span style="color:#b44">getAttribute</span>(‘customer’, ‘your_attribute_code_here’);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$oAttribute</span><span style="color:#666">-&gt;</span><span style="color:#b44">setData</span>(‘used_in_forms’, <span style="color:#a2f;font-weight:bold">array</span>(‘adminhtml_customer’));  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$oAttribute</span><span style="color:#666">-&gt;</span><span style="color:#b44">save</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$setup</span><span style="color:#666">-&gt;</span><span style="color:#b44">endSetup</span>();</span></span></code></pre></div>
<p>Here we have used our custom attribute’s:<br>
– <em>input</em> type as <em>text</em>, but you can have it anything you like to appear in the form. It can be textarea, date, select or anything you want.<br>
– data <em>type</em> as <em>int</em>, but you can have it anything from text, datetime, varchar or decimal. Remember customer is EAV in Magento, so it needs this information to store all the future values of this attribute in customer_entity_int (customer_entity_*) table.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento get all invoices and shipments of an order</title>
      <link>http://localhost:1313/magento-get-all-invoices-and-shipments-of-an-order/</link>
      <pubDate>Sun, 28 Apr 2013 19:37:49 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-all-invoices-and-shipments-of-an-order/</guid>
      <description>&lt;p&gt;&lt;strong&gt;Getting all the invoices of an order:&lt;/strong&gt;&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$order&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘sales&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;order’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;load&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$orderID&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#b8860b&#34;&gt;$order&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;hasInvoices&lt;/span&gt;()) {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$invIncrementIDs&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt; (&lt;span style=&#34;color:#b8860b&#34;&gt;$order&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getInvoiceCollection&lt;/span&gt;() &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$inv&lt;/span&gt;) {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$invIncrementIDs&lt;/span&gt;[] &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$inv&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getIncrementId&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//other invoice details…  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt; } Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;log&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$invIncrementIDs&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Getting all the shipments of an order:&lt;/strong&gt;&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$order&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘sales&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;order’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;load&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$orderID&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$order&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getShipmentsCollection&lt;/span&gt;() &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$shipment&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;log&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$shipment&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getData&lt;/span&gt;()); &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//get each shipment data here…  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p><strong>Getting all the invoices of an order:</strong><br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$order</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘sales<span style="color:#666">/</span>order’)<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$orderID</span>);  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#b8860b">$order</span><span style="color:#666">-&gt;</span><span style="color:#b44">hasInvoices</span>()) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$invIncrementIDs</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">foreach</span> (<span style="color:#b8860b">$order</span><span style="color:#666">-&gt;</span><span style="color:#b44">getInvoiceCollection</span>() <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$inv</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$invIncrementIDs</span>[] <span style="color:#666">=</span> <span style="color:#b8860b">$inv</span><span style="color:#666">-&gt;</span><span style="color:#b44">getIncrementId</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#080;font-style:italic">//other invoice details…  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> } Mage<span style="color:#666">::</span><span style="color:#b44">log</span>(<span style="color:#b8860b">$invIncrementIDs</span>);  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></p>
<p><strong>Getting all the shipments of an order:</strong><br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$order</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘sales<span style="color:#666">/</span>order’)<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$orderID</span>);  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$order</span><span style="color:#666">-&gt;</span><span style="color:#b44">getShipmentsCollection</span>() <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$shipment</span>)  
</span></span><span style="display:flex;"><span>{  
</span></span><span style="display:flex;"><span> Mage<span style="color:#666">::</span><span style="color:#b44">log</span>(<span style="color:#b8860b">$shipment</span><span style="color:#666">-&gt;</span><span style="color:#b44">getData</span>()); <span style="color:#080;font-style:italic">//get each shipment data here…  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}</span></span></code></pre></div></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento Special price products page</title>
      <link>http://localhost:1313/magento-special-price-products-page/</link>
      <pubDate>Thu, 25 Apr 2013 11:26:42 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-special-price-products-page/</guid>
      <description>&lt;p&gt;Magento special price products page. We will be creating a new CMS page that will display all the Special or Sale products. We can make a product as a Special by filling it’s “Special From” and “Special To” price in “Prices” tab in Manage Products individual screen.&lt;/p&gt;&#xA;&lt;p&gt;So let’s first create CMS Page, by going to CMS &amp;gt; Pages, which we will name it as “Specials”. In the Content tab of that Page, paste the below line of code:&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; {{block type=”catalog/product_special” template=”catalog/product/list.phtml” column_count=”3″ num_products=”0″}}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;&#xA;and save the page.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento special price products page. We will be creating a new CMS page that will display all the Special or Sale products. We can make a product as a Special by filling it’s “Special From” and “Special To” price in “Prices” tab in Manage Products individual screen.</p>
<p>So let’s first create CMS Page, by going to CMS &gt; Pages, which we will name it as “Specials”. In the Content tab of that Page, paste the below line of code:<br>




<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> {{block type=”catalog/product_special” template=”catalog/product/list.phtml” column_count=”3″ num_products=”0″}}</span></span></span></code></pre></div><br>
and save the page.</p>
<p>– Here we are saying Magento to display Product List template by looking at our new block type file, Catalog/Product/Block/Special.php. So let’s create this file, Special.php in local/Mage/Catalog/Product/Block/ directory. You will have to create this directory path if it’s not already there.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php <span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Mage_Catalog_Block_Product_Special</span> <span style="color:#a2f;font-weight:bold">extends</span> Mage_Catalog_Block_Product_List
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">protected</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">_getProductCollection</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a2f;font-weight:bold">if</span> (is_null(<span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">_productCollection</span>)) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$categoryID</span> <span style="color:#666">=</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getCategoryId</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$categoryID</span>)  
</span></span><span style="display:flex;"><span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$category</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> Mage_Catalog_Model_Category();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$category</span><span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$categoryID</span>); <span style="color:#080;font-style:italic">// this is category id  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#b8860b">$collection</span> <span style="color:#666">=</span> <span style="color:#b8860b">$category</span><span style="color:#666">-&gt;</span><span style="color:#b44">getProductCollection</span>();  
</span></span><span style="display:flex;"><span> } <span style="color:#a2f;font-weight:bold">else</span>  
</span></span><span style="display:flex;"><span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$collection</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getResourceModel</span>(‘catalog<span style="color:#666">/</span>product_collection’);  
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$todayDate</span> <span style="color:#666">=</span> date(‘m<span style="color:#666">/</span>d<span style="color:#666">/</span>y’);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$tomorrow</span> <span style="color:#666">=</span> mktime(<span style="color:#666">0</span>, <span style="color:#666">0</span>, <span style="color:#666">0</span>, date(‘m’), date(‘d’)<span style="color:#666">+</span><span style="color:#666">1</span>, date(‘y’));  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$tomorrowDate</span> <span style="color:#666">=</span> date(‘m<span style="color:#666">/</span>d<span style="color:#666">/</span>y’, <span style="color:#b8860b">$tomorrow</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>layer’)<span style="color:#666">-&gt;</span><span style="color:#b44">prepareProductCollection</span>(<span style="color:#b8860b">$collection</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToSort</span>(‘created_at’, ‘desc’);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">addStoreFilter</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToFilter</span>(‘special_from_date’, <span style="color:#a2f;font-weight:bold">array</span>(‘date’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">true</span>, ‘to’ <span style="color:#666">=&gt;</span> <span style="color:#b8860b">$todayDate</span>))  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToFilter</span>(‘special_to_date’, <span style="color:#a2f;font-weight:bold">array</span>(‘or’<span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">array</span>(  
</span></span><span style="display:flex;"><span> <span style="color:#666">0</span> <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">array</span>(‘date’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">true</span>, ‘from’ <span style="color:#666">=&gt;</span> <span style="color:#b8860b">$tomorrowDate</span>),  
</span></span><span style="display:flex;"><span> <span style="color:#666">1</span> <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">array</span>(‘is’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">new</span> Zend_Db_Expr(‘null’)))  
</span></span><span style="display:flex;"><span> ), ‘left’);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$numProducts</span> <span style="color:#666">=</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getNumProducts</span>() <span style="color:#666">?</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getNumProducts</span>() <span style="color:#666">:</span> <span style="color:#666">0</span>;  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">setPage</span>(<span style="color:#666">1</span>, <span style="color:#b8860b">$numProducts</span>)<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">_productCollection</span> <span style="color:#666">=</span> <span style="color:#b8860b">$collection</span>;  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">_productCollection</span>;  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span>}  
</span></span></code></pre></div>
]]></content:encoded>
    </item>
    <item>
      <title>Magento client denied by server configuration notice</title>
      <link>http://localhost:1313/magento-client-denied-by-server-configuration-notice/</link>
      <pubDate>Thu, 18 Apr 2013 20:00:20 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-client-denied-by-server-configuration-notice/</guid>
      <description>&lt;p&gt;Magento client denied by server configuration: /var/www/magento/app/etc/local.xml .. This is not the error, but just a message type thing displayed in apache error log and firebug console. Nothing to worry here, it’s just a security check from web server and you should ignore it.&lt;/p&gt;&#xA;&lt;p&gt;If you don’t like it then you can turn it off by writing few lines of code in app/design/adminhtml/default/default/layout/local.xml&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;layout&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;default&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;remove&lt;/span&gt; &lt;span style=&#34;color:#b44&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;&amp;#34;notification_security&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;gt;&amp;lt;/remove&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;remove&lt;/span&gt; &lt;span style=&#34;color:#b44&#34;&gt;name=&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;&amp;#34;notification_survey&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;gt;&amp;lt;/remove&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/default&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/layout&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;Clear cache as usual, and you should get rid of this message.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento client denied by server configuration: /var/www/magento/app/etc/local.xml .. This is not the error, but just a message type thing displayed in apache error log and firebug console. Nothing to worry here, it’s just a security check from web server and you should ignore it.</p>
<p>If you don’t like it then you can turn it off by writing few lines of code in app/design/adminhtml/default/default/layout/local.xml<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;layout&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;default&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;remove</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;notification_security&#34;</span><span style="color:#008000;font-weight:bold">&gt;&lt;/remove&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;remove</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;notification_survey&#34;</span><span style="color:#008000;font-weight:bold">&gt;&lt;/remove&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/default&gt;</span>  
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/layout&gt;</span></span></span></code></pre></div></p>
<p>Clear cache as usual, and you should get rid of this message.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Can&amp;#8217;t see product images in category page</title>
      <link>http://localhost:1313/magento-can%238217t-see-product-images-in-category-page/</link>
      <pubDate>Tue, 26 Feb 2013 17:15:50 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-can%238217t-see-product-images-in-category-page/</guid>
      <description>&lt;p&gt;&lt;strong&gt;Set product image as small image and thumbnail programatically&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;If you see your images in product detail page but don’t see it in category page, it’s because your product have images (image attribute filled) but not &lt;em&gt;small_image&lt;/em&gt; and &lt;em&gt;thumbnail&lt;/em&gt; which are required to display on category page. If there are only few products you want to set small_image and thumbnail, then it’s easy to go to &lt;em&gt;Manage Products &amp;gt; Individual Product &amp;gt; Images tab &amp;gt; Set small image and thumbnail radio button&lt;/em&gt;. But when it comes to hundreds/thousands of products, you better want it programatically way.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p><strong>Set product image as small image and thumbnail programatically</strong></p>
<p>If you see your images in product detail page but don’t see it in category page, it’s because your product have images (image attribute filled) but not <em>small_image</em> and <em>thumbnail</em> which are required to display on category page. If there are only few products you want to set small_image and thumbnail, then it’s easy to go to <em>Manage Products &gt; Individual Product &gt; Images tab &gt; Set small image and thumbnail radio button</em>. But when it comes to hundreds/thousands of products, you better want it programatically way.</p>
<p>Make a file in your Magento root and place the below code in it. Then run that file and you have just copied your Product Image to small image and thumbnail as well!</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php ini_set(<span style="color:#b44">&#39;display_errors&#39;</span>,<span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">require</span> <span style="color:#b44">&#39;app/Mage.php&#39;</span>;
</span></span><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">app</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$products</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(<span style="color:#b44">&#39;catalog/product&#39;</span>)<span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">getCollection</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToSelect</span>(‘<span style="color:#666">*</span>’);  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span> (<span style="color:#b8860b">$products</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$product</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span><span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">hasImage</span>()) <span style="color:#a2f;font-weight:bold">continue</span>;  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span><span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">hasSmallImage</span>()) <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">setSmallImage</span>(<span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getImage</span>());  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span><span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">hasThumbnail</span>()) <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">setThumbnail</span>(<span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getImage</span>());  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">save</span>();  
</span></span><span style="display:flex;"><span>}  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> ‘Finished<span style="color:#666">!</span>’;  
</span></span><span style="display:flex;"><span><span style="color:#080">?&gt;</span><span style="">
</span></span></span></code></pre></div>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Reset download limit for downloadable product item/order</title>
      <link>http://localhost:1313/magento-reset-download-limit-for-downloadable-product-item/order/</link>
      <pubDate>Wed, 20 Feb 2013 08:21:32 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-reset-download-limit-for-downloadable-product-item/order/</guid>
      <description>&lt;p&gt;In Magento, downloadable products are the products which can be downloaded and does not require any shipping. When customer purchases this type of products, they get certain download limits to download their purchased items. This can be set in Products page in admin under “Downloadable Products” tab. In many cases store owner only want to give certain amount of downloads, so customers can’t download beyond that limit. But it may happen that due to bad internet or some interrupts downloads can’t be successful and customer want to reset that limit. For doing this, there is no option in backend to reset the download limits for the downloadable product items or for an entire order, and unfortunately admin use to re-order to achieve this.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>In Magento, downloadable products are the products which can be downloaded and does not require any shipping. When customer purchases this type of products, they get certain download limits to download their purchased items. This can be set in Products page in admin under “Downloadable Products” tab. In many cases store owner only want to give certain amount of downloads, so customers can’t download beyond that limit. But it may happen that due to bad internet or some interrupts downloads can’t be successful and customer want to reset that limit. For doing this, there is no option in backend to reset the download limits for the downloadable product items or for an entire order, and unfortunately admin use to re-order to achieve this.</p>
<p>Here is the query which will reset download limits for an entire order.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$q</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘sales<span style="color:#666">/</span>order_item’)<span style="color:#666">-&gt;</span><span style="color:#b44">getCollection</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">addFieldToSelect</span>(‘order_id’);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$q</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">joinRight</span>(‘downloadable_link_purchased_item <span style="color:#a2f;font-weight:bold">as</span> d’, ‘main_table<span style="color:#666">.</span>item_id <span style="color:#666">=</span> d<span style="color:#666">.</span>order_item_id’,  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">array</span>(‘item_id’,’number_of_downloads_used’));  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$q</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">where</span>(‘main_table<span style="color:#666">.</span>order_id <span style="color:#666">=</span> ‘<span style="color:#666">.</span> (int)<span style="color:#b8860b">$orderId</span>);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$q</span><span style="color:#666">-&gt;</span><span style="color:#b44">load</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//echo $q-&gt;getSelect()-&gt;__toString();exit;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$items</span> <span style="color:#666">=</span> <span style="color:#b8860b">$q</span><span style="color:#666">-&gt;</span><span style="color:#b44">getColumnValues</span>(‘item_id’);  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$items</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$id</span>) {  
</span></span><span style="display:flex;"><span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘downloadable<span style="color:#666">/</span>link_purchased_item’)<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$id</span>)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setStatus</span>(‘available’)<span style="color:#666">-&gt;</span><span style="color:#b44">setNumberOfDownloadsUsed</span>(<span style="color:#666">0</span>)<span style="color:#666">-&gt;</span><span style="color:#b44">save</span>();  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></p>
<p>The raw SQL query for the above Magento Convention query is:<br>
UPDATE sales_flat_order_item s RIGHT JOIN downloadable_link_purchased_item d ON s.item_id = d.order_item_id SET d.number_of_downloads_used = 0 WHERE s.order_id = $orderId;</p>
<p>Here is another query that will allow you to reset download limits for a particular item in an order<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$q</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘sales<span style="color:#666">/</span>order_item’)<span style="color:#666">-&gt;</span><span style="color:#b44">getCollection</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">addFieldToSelect</span>(‘order_id’);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$q</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">joinRight</span>(‘downloadable_link_purchased_item <span style="color:#a2f;font-weight:bold">as</span> d’, ‘main_table<span style="color:#666">.</span>item_id <span style="color:#666">=</span> d<span style="color:#666">.</span>order_item_id’,  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">array</span>(‘item_id’,’number_of_downloads_used’));  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$q</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">where</span>(‘main_table<span style="color:#666">.</span>order_id <span style="color:#666">=</span> ‘<span style="color:#666">.</span> (int)<span style="color:#b8860b">$orderId</span> <span style="color:#666">.</span>’ <span style="color:#a2f;font-weight:bold">AND</span> main_table<span style="color:#666">.</span>item_id <span style="color:#666">=</span> ‘<span style="color:#666">.</span> (int)<span style="color:#b8860b">$orderItemId</span>);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$q</span><span style="color:#666">-&gt;</span><span style="color:#b44">load</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//echo $q-&gt;getSelect()-&gt;__toString();exit;
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$items</span> <span style="color:#666">=</span> <span style="color:#b8860b">$q</span><span style="color:#666">-&gt;</span><span style="color:#b44">getColumnValues</span>(‘item_id’);  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$items</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$id</span>) {  
</span></span><span style="display:flex;"><span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘downloadable<span style="color:#666">/</span>link_purchased_item’)<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$id</span>)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setStatus</span>(‘available’)<span style="color:#666">-&gt;</span><span style="color:#b44">setNumberOfDownloadsUsed</span>(<span style="color:#666">0</span>)<span style="color:#666">-&gt;</span><span style="color:#b44">save</span>();  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></p>
<p>The raw SQL query for the above Magento Convention query is:<br>
UPDATE sales_flat_order_item s RIGHT JOIN downloadable_link_purchased_item d ON s.item_id = d.order_item_id SET d.number_of_downloads_used = 0 WHERE s.order_id = $orderId AND s.item_id = $orderItemId;</p>
<p>HTH!</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Add product custom attribute options dynamically</title>
      <link>http://localhost:1313/magento-add-product-custom-attribute-options-dynamically/</link>
      <pubDate>Thu, 07 Feb 2013 16:19:00 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-add-product-custom-attribute-options-dynamically/</guid>
      <description>&lt;p&gt;Once you have the product attributes in place, and you want to add lot of options to these attributes it becomes time consuming and hectic task. If you have only few attribute options to add, it’s easy to go to backend and add manually. But if you have many attribute options, more than 10 options for many attributes, it’s very tiresome and feels like data entry job. Magento is not built to do stuff manually, so here I will provide you the code snippet which will push all the attribute options to their respective attribute.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Once you have the product attributes in place, and you want to add lot of options to these attributes it becomes time consuming and hectic task. If you have only few attribute options to add, it’s easy to go to backend and add manually. But if you have many attribute options, more than 10 options for many attributes, it’s very tiresome and feels like data entry job. Magento is not built to do stuff manually, so here I will provide you the code snippet which will push all the attribute options to their respective attribute.</p>
<p>Create a file in the root of your Magento installation and copy this code there. I generally name it test.php<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">require_once</span> ‘app<span style="color:#666">/</span>Mage<span style="color:#666">.</span>php’;  
</span></span><span style="display:flex;"><span>umask(<span style="color:#666">0</span>);  
</span></span><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">app</span>(‘default’);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$installer</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> Mage_Eav_Model_Entity_Setup(‘core_setup’);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$installer</span><span style="color:#666">-&gt;</span><span style="color:#b44">startSetup</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//Change this….  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#b8860b">$aColors</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>(‘PINK’,’BLACK’,’BLUE’,’BROWN’,’GOLD’,’GRAY’,’GREEN’,’MULTI’,’NEUTRALS<span style="color:#666">/</span>CREAM<span style="color:#666">/</span>WHITE’,’ORANGE’,’PURPLE’,’RED’,’RUST’,’TAUPE’,’YELLOW’);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$attrCode</span> <span style="color:#666">=</span> ‘color’; <span style="color:#080;font-style:italic">//this should be there already  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//……..
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$aColors</span> <span style="color:#666">=</span> array_map(‘utf8_encode’,<span style="color:#b8860b">$aColors</span>); <span style="color:#080;font-style:italic">//If you’re using special characters  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#b8860b">$iProductEntityTypeId</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>product’)<span style="color:#666">-&gt;</span><span style="color:#b44">getResource</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getTypeId</span>();  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$aOption</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>();  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$aOption</span>[‘attribute_id’] <span style="color:#666">=</span> <span style="color:#b8860b">$installer</span><span style="color:#666">-&gt;</span><span style="color:#b44">getAttributeId</span>(<span style="color:#b8860b">$iProductEntityTypeId</span>, <span style="color:#b8860b">$attrCode</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">for</span>(<span style="color:#b8860b">$iCount</span><span style="color:#666">=</span><span style="color:#666">0</span>;<span style="color:#b8860b">$iCount</span><span style="color:#666">&lt;</span>sizeof<span style="color:#666">&gt;</span>addAttributeOption(<span style="color:#b8860b">$aOption</span>);<span style="color:#666">&lt;/</span>sizeof<span style="color:#666">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$installer</span><span style="color:#666">-&gt;</span><span style="color:#b44">endSetup</span>();</span></span></code></pre></div><br>
Now you just need to give the <strong>existing</strong> product attribute name AND <strong>future</strong> attribute options to this script. Run it and rest all script will do for you! 🙂</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Add products to placed order programatically</title>
      <link>http://localhost:1313/magento-add-products-to-placed-order-programatically/</link>
      <pubDate>Mon, 22 Oct 2012 16:00:53 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-add-products-to-placed-order-programatically/</guid>
      <description>&lt;p&gt;Ever wondered how to attach products to order programatically? It may require if you want to surprise your customer by giving them some special items along with their ordered products. Magento doesn’t allow you to do this, you need to write it through calling observer for event sales_order_place_after.&lt;/p&gt;&#xA;&lt;p&gt;Copy this in the observer file which observes order place after event.&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘catalog&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;product’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;loadByAttribute&lt;/span&gt;(‘sku’, &lt;span style=&#34;color:#b8860b&#34;&gt;$skuToAdd&lt;/span&gt;); &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//your product SKU to add  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$qty&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$rowTotal&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getPrice&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$orderItem&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘sales&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;order_item’)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setStoreId&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$order&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getStore&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getStoreId&lt;/span&gt;())  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setQuoteItemId&lt;/span&gt;(&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;NULL&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setQuoteParentItemId&lt;/span&gt;(&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;NULL&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setProductId&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getId&lt;/span&gt;())  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setProductType&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getTypeId&lt;/span&gt;())  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setQtyBackordered&lt;/span&gt;(&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;NULL&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setTotalQtyOrdered&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$qty&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setQtyOrdered&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$qty&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setName&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getName&lt;/span&gt;())  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setSku&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSku&lt;/span&gt;())  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setPrice&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getPrice&lt;/span&gt;())  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setBasePrice&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getPrice&lt;/span&gt;())  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setOriginalPrice&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getPrice&lt;/span&gt;())  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setRowTotal&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$rowTotal&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setBaseRowTotal&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$rowTotal&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setOrder&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$order&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$orderItem&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;save&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;&#xA;Please note that you may also need to add the entry in sales_flat_quote_item table to be 100% sure it’s going to work for reorder also. If you’re not worried about reordering, the above code is fine.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Ever wondered how to attach products to order programatically? It may require if you want to surprise your customer by giving them some special items along with their ordered products. Magento doesn’t allow you to do this, you need to write it through calling observer for event sales_order_place_after.</p>
<p>Copy this in the observer file which observes order place after event.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$product</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>product’)<span style="color:#666">-&gt;</span><span style="color:#b44">loadByAttribute</span>(‘sku’, <span style="color:#b8860b">$skuToAdd</span>); <span style="color:#080;font-style:italic">//your product SKU to add  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#b8860b">$qty</span> <span style="color:#666">=</span> <span style="color:#666">1</span>;  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$rowTotal</span> <span style="color:#666">=</span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getPrice</span>();  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$orderItem</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘sales<span style="color:#666">/</span>order_item’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setStoreId</span>(<span style="color:#b8860b">$order</span><span style="color:#666">-&gt;</span><span style="color:#b44">getStore</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getStoreId</span>())  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setQuoteItemId</span>(<span style="color:#a2f;font-weight:bold">NULL</span>)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setQuoteParentItemId</span>(<span style="color:#a2f;font-weight:bold">NULL</span>)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setProductId</span>(<span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getId</span>())  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setProductType</span>(<span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getTypeId</span>())  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setQtyBackordered</span>(<span style="color:#a2f;font-weight:bold">NULL</span>)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setTotalQtyOrdered</span>(<span style="color:#b8860b">$qty</span>)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setQtyOrdered</span>(<span style="color:#b8860b">$qty</span>)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setName</span>(<span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>())  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setSku</span>(<span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSku</span>())  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setPrice</span>(<span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getPrice</span>())  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setBasePrice</span>(<span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getPrice</span>())  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setOriginalPrice</span>(<span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getPrice</span>())  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setRowTotal</span>(<span style="color:#b8860b">$rowTotal</span>)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setBaseRowTotal</span>(<span style="color:#b8860b">$rowTotal</span>)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setOrder</span>(<span style="color:#b8860b">$order</span>);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$orderItem</span><span style="color:#666">-&gt;</span><span style="color:#b44">save</span>();</span></span></code></pre></div><br>
Please note that you may also need to add the entry in sales_flat_quote_item table to be 100% sure it’s going to work for reorder also. If you’re not worried about reordering, the above code is fine.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Get details of all Admin users</title>
      <link>http://localhost:1313/magento-get-details-of-all-admin-users/</link>
      <pubDate>Tue, 16 Oct 2012 14:54:31 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-details-of-all-admin-users/</guid>
      <description>&lt;p&gt;As we can get details of all the customers of the Magento store, we can also get details of all the Admin users. It may be necessary sometimes when you want to display all the admin uses either in dropdown for filtering something or just as a text or something based on requirement.&lt;/p&gt;&#xA;&lt;p&gt;The following code will get you all the Admin users with their details:&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$adminUserModel&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘admin&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;user’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$userCollection&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$adminUserModel&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getCollection&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;load&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;log&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$userCollection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getData&lt;/span&gt;());&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>As we can get details of all the customers of the Magento store, we can also get details of all the Admin users. It may be necessary sometimes when you want to display all the admin uses either in dropdown for filtering something or just as a text or something based on requirement.</p>
<p>The following code will get you all the Admin users with their details:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$adminUserModel</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘admin<span style="color:#666">/</span>user’);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$userCollection</span> <span style="color:#666">=</span> <span style="color:#b8860b">$adminUserModel</span><span style="color:#666">-&gt;</span><span style="color:#b44">getCollection</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>();  
</span></span><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">log</span>(<span style="color:#b8860b">$userCollection</span><span style="color:#666">-&gt;</span><span style="color:#b44">getData</span>());</span></span></code></pre></div></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Submitting form in admin redirects to dashboard</title>
      <link>http://localhost:1313/magento-submitting-form-in-admin-redirects-to-dashboard/</link>
      <pubDate>Thu, 13 Sep 2012 09:16:15 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-submitting-form-in-admin-redirects-to-dashboard/</guid>
      <description>&lt;p&gt;When trying to submit a form which is created in admin, it redirects to dashboard no matter how much you try. I faced this problem and tried many things but without any luck. Everything was running, for file upload I had enctype=”multipart/form-data” in form, checked the form action through firebug and run it directly in browser URL which was also going good. After so much frustration, googled the problem and found that I was not the only one to face this problem.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>When trying to submit a form which is created in admin, it redirects to dashboard no matter how much you try. I faced this problem and tried many things but without any luck. Everything was running, for file upload I had enctype=”multipart/form-data” in form, checked the form action through firebug and run it directly in browser URL which was also going good. After so much frustration, googled the problem and found that I was not the only one to face this problem.</p>
<p>Finally, got one forum where I found the solution to this problem. In Magento, when submitting the form, you need to have one extra hidden field, with name “form_key” which should have form’s key value from session. Here is the line of code, which helped me in posting form successfully.</p>
<p>



<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;</span>input name<span style="color:#666">=</span><span style="color:#b44">&#34;form_key&#34;</span> type<span style="color:#666">=</span><span style="color:#b44">&#34;hidden&#34;</span> value<span style="color:#666">=</span><span style="color:#b44">&#34;&lt;?php echo Mage::getSingleton(&#39;core/session&#39;)-&gt;getFormKey() ?&gt;” /&gt; 
</span></span></span></code></pre></div><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
]]></content:encoded>
    </item>
    <item>
      <title>Magento: How to delete/remove all products from all categories</title>
      <link>http://localhost:1313/magento-how-to-delete/remove-all-products-from-all-categories/</link>
      <pubDate>Thu, 09 Aug 2012 13:20:06 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-how-to-delete/remove-all-products-from-all-categories/</guid>
      <description>&lt;p&gt;When you are using some script to automatically add products to categories from XLS file to your Magento system, you may need to delete all products frequently for testing purpose. It’s not as easy to mark all products and press delete button in admin. No, it’s not like that, you need to delete all products, remove them from their linked categories, reset the inventory, etc. so many things to do.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>When you are using some script to automatically add products to categories from XLS file to your Magento system, you may need to delete all products frequently for testing purpose. It’s not as easy to mark all products and press delete button in admin. No, it’s not like that, you need to delete all products, remove them from their linked categories, reset the inventory, etc. so many things to do.</p>
<p>Below is the MySQL queries that will make your task easier. By running all the queries, it will delete all the products in your Magento system. Use it carefully, it’s going to delete everything without an option to rollback.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>SET FOREIGN_KEY_CHECKS <span style="color:#666">=</span> <span style="color:#666">0</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_bundle_option`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_bundle_option_value`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_bundle_selection`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_entity_datetime`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_entity_decimal`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_entity_gallery`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_entity_int`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_entity_media_gallery`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_entity_media_gallery_value`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_entity_text`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_entity_tier_price`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_entity_varchar`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_link`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_link_attribute`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_link_attribute_decimal`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_link_attribute_int`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_link_attribute_varchar`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_link_type`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_option`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_option_price`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_option_title`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_option_type_price`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_option_type_title`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_option_type_value`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_super_attribute`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_super_attribute_label`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_super_attribute_pricing`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_super_link`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_enabled_index`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_website`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_entity`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`cataloginventory_stock`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`cataloginventory_stock_item`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`cataloginventory_stock_status`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_link`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_link_type`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_option`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_option_type_value`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_super_attribute`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`catalog_product_entity`</span>;  
</span></span><span style="display:flex;"><span>TRUNCATE TABLE <span style="color:#b44">`cataloginventory_stock`</span>;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_1;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_10;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_11;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_12;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_13;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_14;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_15;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_16;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_17;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_18;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_19;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_2;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_20;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_21;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_22;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_23;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_24;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_25;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_26;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_27;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_28;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_29;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_3;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_30;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_31;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_32;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_33;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_34;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_35;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_36;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_37;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_4;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_5;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_6;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_7;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_8;  
</span></span><span style="display:flex;"><span>DELETE FROM catalog_product_flat_9;  
</span></span><span style="display:flex;"><span>SET FOREIGN_KEY_CHECKS <span style="color:#666">=</span> <span style="color:#666">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>insert into <span style="color:#b44">`catalog_product_link_type`</span>(<span style="color:#b44">`link_type_id`</span>,<span style="color:#b44">`code`</span>) values (<span style="color:#666">1</span>,’relation’),(<span style="color:#666">2</span>,’bundle’),(<span style="color:#666">3</span>,’super’),(<span style="color:#666">4</span>,’up_sell’),(<span style="color:#666">5</span>,’cross_sell’);  
</span></span><span style="display:flex;"><span>insert into <span style="color:#b44">`catalog_product_link_attribute`</span>(<span style="color:#b44">`product_link_attribute_id`</span>,<span style="color:#b44">`link_type_id`</span>,<span style="color:#b44">`product_link_attribute_code`</span>,<span style="color:#b44">`data_type`</span>) values (<span style="color:#666">1</span>,<span style="color:#666">2</span>,’qty’,’decimal’),(<span style="color:#666">2</span>,<span style="color:#666">1</span>,’position’,’int’),(<span style="color:#666">3</span>,<span style="color:#666">4</span>,’position’,’int’),(<span style="color:#666">4</span>,<span style="color:#666">5</span>,’position’,’int’),(<span style="color:#666">6</span>,<span style="color:#666">1</span>,’qty’,’decimal’),(<span style="color:#666">7</span>,<span style="color:#666">3</span>,’position’,’int’),(<span style="color:#666">8</span>,<span style="color:#666">3</span>,’qty’,’decimal’);  
</span></span><span style="display:flex;"><span>insert into <span style="color:#b44">`cataloginventory_stock`</span>(<span style="color:#b44">`stock_id`</span>,<span style="color:#b44">`stock_name`</span>) values (<span style="color:#666">1</span>,’Default’);</span></span></code></pre></div>
<p>Now go to System &gt; Index Management, and re-index all indexes.</p>
<p>Hope this helps!</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: How to run/set cron in Magento</title>
      <link>http://localhost:1313/magento-how-to-run/set-cron-in-magento/</link>
      <pubDate>Sat, 21 Jul 2012 19:57:34 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-how-to-run/set-cron-in-magento/</guid>
      <description>&lt;p&gt;Ever came with the requirement where you need to set cron for periodically running certain jobs automatically? If you are new to cron in Magento, this blog post is going to help you out. Cron is a time-based job scheduler in Unix-like computer operating systems.&lt;/p&gt;&#xA;&lt;p&gt;There are basically two crons: one is &lt;strong&gt;system’s cron&lt;/strong&gt; (Unix, where it will trigger the specified file, for each specified time (in terms of minute, hour, day, week, year) AND another is &lt;strong&gt;Magento’s internal cron&lt;/strong&gt; where it will decide which file and method to call to complete the operation.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Ever came with the requirement where you need to set cron for periodically running certain jobs automatically? If you are new to cron in Magento, this blog post is going to help you out. Cron is a time-based job scheduler in Unix-like computer operating systems.</p>
<p>There are basically two crons: one is <strong>system’s cron</strong> (Unix, where it will trigger the specified file, for each specified time (in terms of minute, hour, day, week, year) AND another is <strong>Magento’s internal cron</strong> where it will decide which file and method to call to complete the operation.</p>
<p>– First, you need to add following snipped in your module’s config.xml file, inside <!-- raw HTML omitted --> node:<!-- raw HTML omitted --></p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;crontab&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;jobs&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;cron_name_must_be_unique&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;schedule&gt;</span>  
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;cron_expr&gt;</span>0 0 * * *<span style="color:#008000;font-weight:bold">&lt;/cron_expr&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/schedule&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;run&gt;</span>  
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;model&gt;</span>modulename/modelname::methodname<span style="color:#008000;font-weight:bold">&lt;/model&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/run&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/cron_name_must_be_unique&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/jobs&gt;</span>  
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/crontab&gt;</span></span></span></code></pre></div>
<p>– Now open crontab of your system, by typing this in terminal:<br>
<code>crontab -l</code><br>
This will list the cron defined in system, check if there is already cron set up for Magento, you don’t need to do anything here.<br>
Else, type this in terminal:<br>
<code>crontab -e</code><br>
and add the below line at the end of file:<br>
<code>*/5 * * * * /bin/sh /var/www/magento/cron.sh</code><br>
(this will run system’s cron every 5 minutes, you can change it as per your need)</p>
]]></content:encoded>
    </item>
    <item>
      <title>Migrate magento to new server / domain / database / host</title>
      <link>http://localhost:1313/migrate-magento-to-new-server-/-domain-/-database-/-host/</link>
      <pubDate>Sat, 21 Jul 2012 19:24:19 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/migrate-magento-to-new-server-/-domain-/-database-/-host/</guid>
      <description>&lt;p&gt;Move or migrate magento to new server, domain, database, host, anything by following the steps below.&lt;/p&gt;&#xA;&lt;p&gt;To configure your Magento with a new domain, you will need to do following steps:&lt;/p&gt;&#xA;&lt;p&gt;– Copy whole Magento project from current server and paste it to the new server.&lt;br&gt;&#xA;You can do server-to-server transfer. First, tar.gz your magento project&lt;br&gt;&#xA;&lt;code&gt;tar -cvf magento.tar.gz magento&lt;/code&gt;&lt;br&gt;&#xA;Then copy it to your new server from old server&lt;br&gt;&#xA;&lt;code&gt;scp magento.tar.gz root@your.ip.address.here:/var/www/.&lt;/code&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Move or migrate magento to new server, domain, database, host, anything by following the steps below.</p>
<p>To configure your Magento with a new domain, you will need to do following steps:</p>
<p>– Copy whole Magento project from current server and paste it to the new server.<br>
You can do server-to-server transfer. First, tar.gz your magento project<br>
<code>tar -cvf magento.tar.gz magento</code><br>
Then copy it to your new server from old server<br>
<code>scp magento.tar.gz root@your.ip.address.here:/var/www/.</code></p>
<p>– Backup the database (Admin -&gt; System -&gt; Tools -&gt; Backup)<br>
You can also take backup through phpMyAdmin, or by mysql.<br>
<code>mysqldump -u user -p database &gt; /path/to/keep/db.sql</code></p>
<p>– Logout from your old server. Login to new server.<br>
Extract the file magento.tar.gz that you sent from old server<br>
<code>tar -zxvf magento.tar.gz</code></p>
<p>– Delete all directory or files that are there in cache folder<br>
<code>rm -rf var/cache/*</code></p>
<p>– Edit local.xml that is in magento/app/etc/local.xml and change mysql username, password, database as per new server credentials</p>
<p>– Import the backed up database. Before that create empty database to dump tables in it.<br>
<code>mysql -u root -p 'password';&lt;br&gt;&lt;/br&gt;create database dbname;&lt;br&gt;&lt;/br&gt;exit;&lt;br&gt;&lt;/br&gt;mysql -u root -p -d dbname &lt; /path/to/your/db.sql</code></p>
<p>- Edit the database to change it to your new domain name. Search in core_config_data table for old domain.<br>
<code>select * from core_config_data where path like '%secure/base_url';</code><br>
and update it with your new domain<br>
<code>update core_config_data set value='http://mysite.com/' where path like '%secure/base_url';</code></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento add radio / checkbox button to admin grid</title>
      <link>http://localhost:1313/magento-add-radio-/-checkbox-button-to-admin-grid/</link>
      <pubDate>Thu, 12 Jul 2012 16:27:34 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-add-radio-/-checkbox-button-to-admin-grid/</guid>
      <description>&lt;p&gt;Add custom column in admin Grid which will show radio/checkbox button. I know this is weird, but some people need this as a requirement. Here I will show you how you can have radio button or checkbox button that you can have directly in your grids.&lt;/p&gt;&#xA;&lt;p&gt;For radio button,&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addColumn&lt;/span&gt;(‘some_id’, &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘header_css_class’ &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; ‘a&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;center’,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘header’ &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;helper&lt;/span&gt;(‘adminhtml’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;__&lt;/span&gt;(‘Some Header’),  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘type’ &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; ‘radio’,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘html_name’ &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; ‘items[]’,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘align’ &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; ‘center’,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ‘value’ &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(‘1’)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ));&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Add custom column in admin Grid which will show radio/checkbox button. I know this is weird, but some people need this as a requirement. Here I will show you how you can have radio button or checkbox button that you can have directly in your grids.</p>
<p>For radio button,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">addColumn</span>(‘some_id’, <span style="color:#a2f;font-weight:bold">array</span>(  
</span></span><span style="display:flex;"><span> ‘header_css_class’ <span style="color:#666">=&gt;</span> ‘a<span style="color:#666">-</span>center’,  
</span></span><span style="display:flex;"><span> ‘header’ <span style="color:#666">=&gt;</span> Mage<span style="color:#666">::</span><span style="color:#b44">helper</span>(‘adminhtml’)<span style="color:#666">-&gt;</span><span style="color:#b44">__</span>(‘Some Header’),  
</span></span><span style="display:flex;"><span> ‘type’ <span style="color:#666">=&gt;</span> ‘radio’,  
</span></span><span style="display:flex;"><span> ‘html_name’ <span style="color:#666">=&gt;</span> ‘items[]’,  
</span></span><span style="display:flex;"><span> ‘align’ <span style="color:#666">=&gt;</span> ‘center’,  
</span></span><span style="display:flex;"><span> ‘value’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">array</span>(‘1’)  
</span></span><span style="display:flex;"><span> ));</span></span></code></pre></div></p>
<p>For checkbox button,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">addColumn</span>(‘some_id’, <span style="color:#a2f;font-weight:bold">array</span>(  
</span></span><span style="display:flex;"><span> ‘header_css_class’ <span style="color:#666">=&gt;</span> ‘a<span style="color:#666">-</span>center’,  
</span></span><span style="display:flex;"><span> ‘header’ <span style="color:#666">=&gt;</span> Mage<span style="color:#666">::</span><span style="color:#b44">helper</span>(‘adminhtml’)<span style="color:#666">-&gt;</span><span style="color:#b44">__</span>(‘Some Header’),  
</span></span><span style="display:flex;"><span> ‘type’ <span style="color:#666">=&gt;</span> ‘radio’,  
</span></span><span style="display:flex;"><span> ‘field_name’ <span style="color:#666">=&gt;</span> ‘items[]’,  
</span></span><span style="display:flex;"><span> ‘align’ <span style="color:#666">=&gt;</span> ‘center’,  
</span></span><span style="display:flex;"><span> ‘values’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">array</span>(‘1′,’2’)  
</span></span><span style="display:flex;"><span> ));</span></span></code></pre></div></p>
<p>Further, in Form.php you can add this below code to have by default behavior and onclick behaviour:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$fieldset</span><span style="color:#666">-&gt;</span><span style="color:#b44">addField</span>(‘some_id’, ‘checkbox’, <span style="color:#a2f;font-weight:bold">array</span>(  
</span></span><span style="display:flex;"><span> ‘checked’ <span style="color:#666">=&gt;</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSomeId</span>()<span style="color:#666">==</span><span style="color:#666">1</span> <span style="color:#666">?</span> ‘true’ <span style="color:#666">:</span> ‘false’,  
</span></span><span style="display:flex;"><span> ‘onclick’ <span style="color:#666">=&gt;</span> ‘this<span style="color:#666">.</span>value <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">this</span><span style="color:#666">.</span>checked <span style="color:#666">?</span> <span style="color:#666">1</span> <span style="color:#666">:</span> <span style="color:#666">0</span>;’  
</span></span><span style="display:flex;"><span>)); 
</span></span></code></pre></div></p>
<p>Hope this helps some frustrated mind!</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Get rid of admin notifications pop-up</title>
      <link>http://localhost:1313/magento-get-rid-of-admin-notifications-pop-up/</link>
      <pubDate>Thu, 12 Jul 2012 14:06:36 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-rid-of-admin-notifications-pop-up/</guid>
      <description>&lt;p&gt;Ever annoyed by the notification which pops up everytime you login to your Magento admin panel? Well, you can get rid of those bugging notifications without changing core.&lt;/p&gt;&#xA;&lt;p&gt;Just disable the output of Mage_AdminNotification at:&lt;br&gt;&#xA;System -&amp;gt; Configuration -&amp;gt; Advanced -&amp;gt; Disable Modules Output&lt;/p&gt;&#xA;&lt;p&gt;Now logout and login, you will now never see those unwanted notifications.&lt;/p&gt;&#xA;&lt;p&gt;Cheers!&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Ever annoyed by the notification which pops up everytime you login to your Magento admin panel? Well, you can get rid of those bugging notifications without changing core.</p>
<p>Just disable the output of Mage_AdminNotification at:<br>
System -&gt; Configuration -&gt; Advanced -&gt; Disable Modules Output</p>
<p>Now logout and login, you will now never see those unwanted notifications.</p>
<p>Cheers!</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Difference between order states and statuses</title>
      <link>http://localhost:1313/magento-difference-between-order-states-and-statuses/</link>
      <pubDate>Sat, 21 Apr 2012 16:47:38 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-difference-between-order-states-and-statuses/</guid>
      <description>&lt;p&gt;If you are building website in Magento, you may have noticed that there are two columns in &lt;em&gt;sales_flat_order&lt;/em&gt; table which are confusing. These are &lt;strong&gt;state&lt;/strong&gt; and &lt;strong&gt;status&lt;/strong&gt;. You might think what is the difference between these two, both having same meaning.&lt;/p&gt;&#xA;&lt;p&gt;Well, this is not the case. They both are different. State is used by magento to tell if the order is new, processing, complete, holded, closed, canceled, etc.; while Statuses are the one that YOU would be defining at the backend in System -&amp;gt; Order Statuses. Magento displays order STATUSES and not STATES in the backend order detail page to let you know which status is assigned as per your mapping. Remember, multiple statuses can be mapped with one state, while vice versa is not possible.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>If you are building website in Magento, you may have noticed that there are two columns in <em>sales_flat_order</em> table which are confusing. These are <strong>state</strong> and <strong>status</strong>. You might think what is the difference between these two, both having same meaning.</p>
<p>Well, this is not the case. They both are different. State is used by magento to tell if the order is new, processing, complete, holded, closed, canceled, etc.; while Statuses are the one that YOU would be defining at the backend in System -&gt; Order Statuses. Magento displays order STATUSES and not STATES in the backend order detail page to let you know which status is assigned as per your mapping. Remember, multiple statuses can be mapped with one state, while vice versa is not possible.</p>
<p>Consider an example, your customer places an order as Cash on Delivery, you will need something like COD_Pending as the order status so that you know it is not yet paid. Magento will have state <em>new</em> for this, which makes you unpredictable of what kind of transaction is this, COD or Prepaid. The STATUS can be anything, as you define, for your understanding; while STATE is something which Magento needs to understand, internally.</p>
<p>In short, Magento uses order state internally for processing order, whereas order status are used by store owners to understand the exact order flow where one state can be assigned to multiple statuses.</p>
<p>To understand this in detail, have a look at <a href="http://www.magentocommerce.com/wiki/2_-_magento_concepts_and_architecture/order_management">this</a><br>
Hope it helps!</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Difference between source_model, frontend_model, backend_model</title>
      <link>http://localhost:1313/magento-difference-between-source_model-frontend_model-backend_model/</link>
      <pubDate>Sun, 15 Apr 2012 07:15:06 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-difference-between-source_model-frontend_model-backend_model/</guid>
      <description>&lt;p&gt;When dealing with Magento Admin’s system configuration, you may have encountered with these models. If you don’t know, these models are used when you add custom fields through your system.xml file at Magento’s backend configuration (Admin -&amp;gt; System -&amp;gt; Configuration).&lt;/p&gt;&#xA;&lt;p&gt;Okay, so the difference between these 3 models are:&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;source_model&lt;/strong&gt;:&lt;br&gt;&#xA;It specifies a Model class, where you will be returned with options that can populate in the current field.&lt;/p&gt;&#xA;&lt;p&gt;Example,&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;lt;&lt;/span&gt;source_model&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;adminhtml&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;system_config_source_yesno&lt;span style=&#34;color:#666&#34;&gt;&amp;lt;/&lt;/span&gt;source_model&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;&#xA;this will populate select dropdown with values Yes/No&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>When dealing with Magento Admin’s system configuration, you may have encountered with these models. If you don’t know, these models are used when you add custom fields through your system.xml file at Magento’s backend configuration (Admin -&gt; System -&gt; Configuration).</p>
<p>Okay, so the difference between these 3 models are:</p>
<p><strong>source_model</strong>:<br>
It specifies a Model class, where you will be returned with options that can populate in the current field.</p>
<p>Example,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;</span>source_model<span style="color:#666">&gt;</span>adminhtml<span style="color:#666">/</span>system_config_source_yesno<span style="color:#666">&lt;/</span>source_model<span style="color:#666">&gt;</span></span></span></code></pre></div><br>
this will populate select dropdown with values Yes/No</p>
<p><strong>frontend_model</strong>:<br>
It specifies a Block class to add custom render to use as a frontend field type instead of/along with default frontend_type field value (text, textarea, select, etc.).</p>
<p>Example,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;frontend_type&gt;</span>button<span style="color:#008000;font-weight:bold">&lt;/frontend_type&gt;</span>  
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;frontend_model&gt;</span>MyCustomModule/button<span style="color:#008000;font-weight:bold">&lt;/frontend_model&gt;</span></span></span></code></pre></div><br>
this will keep frontend type as button, but the customized one taken from Block class Button.php of MyCustomModule module</p>
<p>Code at Button.php can be anything like this:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php <span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">MyNamespace_MyCustomModule_Block_Button</span> <span style="color:#a2f;font-weight:bold">extends</span> Mage_Adminhtml_Block_System_Config_Form_Field
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">protected</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">_getElementHtml</span>(Varien_Data_Form_Element_Abstract <span style="color:#b8860b">$element</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">setElement</span>(<span style="color:#b8860b">$element</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$url</span> <span style="color:#666">=</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getUrl</span>(‘catalog<span style="color:#666">/</span>product’);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$html</span> <span style="color:#666">=</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getLayout</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">createBlock</span>(‘adminhtml<span style="color:#666">/</span>widget_button’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setType</span>(‘button’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setClass</span>(‘scalable’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setLabel</span>(‘Run Now <span style="color:#666">!</span>’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setOnClick</span>(“setLocation(‘<span style="color:#b8860b">$url’</span>)”)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">toHtml</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#b8860b">$html</span>;  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span>}  
</span></span><span style="display:flex;"><span><span style="color:#080">?&gt;</span><span style="">
</span></span></span></code></pre></div></p>
<p><strong>backend_model</strong>:<br>
Generally, when you save any form at System Configuration, the data is stored in the table core_config_data. But if your requirement is to do something prior/after the save is performed, you can do it by having _beforeSave() &amp; _afterSave() methods defined in this custom/defined class.</p>
<p>Example,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;backend_model&gt;</span>adminhtml/system_config_backend_shipping_tablerate<span style="color:#008000;font-weight:bold">&lt;/backend_model&gt;</span></span></span></code></pre></div></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento add admin user in MySQL</title>
      <link>http://localhost:1313/magento-add-admin-user-in-mysql/</link>
      <pubDate>Sun, 12 Feb 2012 11:26:35 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-add-admin-user-in-mysql/</guid>
      <description>&lt;p&gt;In Magento, if you want to create a new user directly in Mysql, it’s not that easy to insert one record in admin_user table.&lt;br&gt;&#xA;You need to also update the privileges and inserting new admin’s roles.&lt;br&gt;&#xA;So here is a Mysql script which will create a new admin user with all privileges.&lt;/p&gt;&#xA;&lt;p&gt;Replace FIRSTNAME, LASTNAME, EMAIL, USERNAME, PASSWORD with your desired values.&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;   &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;insert into admin_user  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;select  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;(select max(user_id) + 1 from admin_user) user_id,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;‘FIRSTNAME’ first_name,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;‘LASTNAME’ last_name,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;‘TEST@EMAIL.COM’ email,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;‘USERNAME’ username,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;MD5(‘PASSWORD’) password,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;now() created,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;NULL modified,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;NULL logdate,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;0 lognum,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;0 reload_acl_flag,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;1 is_active,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;(select max(extra) from admin_user where extra is not null) extra,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;NULL,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;NULL;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;insert into admin_role  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;select  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;(select max(role_id) + 1 from admin_role) role_id,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;(select role_id from admin_role where role_name = ‘Administrators’) parent_id,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;2 tree_level,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;0 sort_order,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;‘U’ role_type,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;(select user_id from admin_user where username = ‘USERNAME’) user_id,  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;‘USERNAME’ role_name  &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>In Magento, if you want to create a new user directly in Mysql, it’s not that easy to insert one record in admin_user table.<br>
You need to also update the privileges and inserting new admin’s roles.<br>
So here is a Mysql script which will create a new admin user with all privileges.</p>
<p>Replace FIRSTNAME, LASTNAME, EMAIL, USERNAME, PASSWORD with your desired values.<br>




<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">   
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">insert into admin_user  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">select  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">(select max(user_id) + 1 from admin_user) user_id,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">‘FIRSTNAME’ first_name,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">‘LASTNAME’ last_name,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">‘TEST@EMAIL.COM’ email,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">‘USERNAME’ username,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">MD5(‘PASSWORD’) password,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">now() created,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">NULL modified,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">NULL logdate,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">0 lognum,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">0 reload_acl_flag,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">1 is_active,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">(select max(extra) from admin_user where extra is not null) extra,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">NULL,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">NULL;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">insert into admin_role  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">select  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">(select max(role_id) + 1 from admin_role) role_id,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">(select role_id from admin_role where role_name = ‘Administrators’) parent_id,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">2 tree_level,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">0 sort_order,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">‘U’ role_type,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">(select user_id from admin_user where username = ‘USERNAME’) user_id,  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">‘USERNAME’ role_name  </span></span></span></code></pre></div></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Get all/latest tracking number of any shipment</title>
      <link>http://localhost:1313/magento-get-all/latest-tracking-number-of-any-shipment/</link>
      <pubDate>Sun, 12 Feb 2012 06:36:42 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-all/latest-tracking-number-of-any-shipment/</guid>
      <description>&lt;p&gt;In magento, if you have more than one tracking number assigned for any particular shipment, we need to show the latest track number with details to the customer.&lt;/p&gt;&#xA;&lt;p&gt;Here I will show you how to get all tracking numbers as well as only the latest tracking number for any shipment.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Get all tracking numbers for shipment&lt;/strong&gt;&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$trackings&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getResourceModel&lt;/span&gt;(‘sales&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;order_shipment_track_collection’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addAttributeToSelect&lt;/span&gt;(‘&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addAttributeToFilter&lt;/span&gt;(‘parent_id’,&lt;span style=&#34;color:#b8860b&#34;&gt;$shipment&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getId&lt;/span&gt;());  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$allTrackingIds&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$trackings&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getAllIds&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//Mage::log($allTrackingIds);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Get only the latest tracking number for shipment&lt;/strong&gt;&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$trackings&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getResourceModel&lt;/span&gt;(‘sales&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;order_shipment_track_collection’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addAttributeToSelect&lt;/span&gt;(‘&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addAttributeToFilter&lt;/span&gt;(‘parent_id’,&lt;span style=&#34;color:#b8860b&#34;&gt;$shipment&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getId&lt;/span&gt;());  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$trackings&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSelect&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;order&lt;/span&gt;(‘entity_id desc’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;limit&lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$trackData&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$trackings&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getData&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$trackID&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$trackData&lt;/span&gt;[&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;][‘entity_id’];  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//Mage::log($trackID);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>In magento, if you have more than one tracking number assigned for any particular shipment, we need to show the latest track number with details to the customer.</p>
<p>Here I will show you how to get all tracking numbers as well as only the latest tracking number for any shipment.</p>
<p><strong>Get all tracking numbers for shipment</strong><br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$trackings</span><span style="color:#666">=</span>Mage<span style="color:#666">::</span><span style="color:#b44">getResourceModel</span>(‘sales<span style="color:#666">/</span>order_shipment_track_collection’)<span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToSelect</span>(‘<span style="color:#666">*</span>’)<span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToFilter</span>(‘parent_id’,<span style="color:#b8860b">$shipment</span><span style="color:#666">-&gt;</span><span style="color:#b44">getId</span>());  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$allTrackingIds</span> <span style="color:#666">=</span> <span style="color:#b8860b">$trackings</span><span style="color:#666">-&gt;</span><span style="color:#b44">getAllIds</span>();  
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//Mage::log($allTrackingIds);  
</span></span></span></code></pre></div></p>
<p><strong>Get only the latest tracking number for shipment</strong><br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$trackings</span><span style="color:#666">=</span>Mage<span style="color:#666">::</span><span style="color:#b44">getResourceModel</span>(‘sales<span style="color:#666">/</span>order_shipment_track_collection’)<span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToSelect</span>(‘<span style="color:#666">*</span>’)<span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToFilter</span>(‘parent_id’,<span style="color:#b8860b">$shipment</span><span style="color:#666">-&gt;</span><span style="color:#b44">getId</span>());  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$trackings</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">order</span>(‘entity_id desc’)<span style="color:#666">-&gt;</span><span style="color:#b44">limit</span>(<span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$trackData</span> <span style="color:#666">=</span> <span style="color:#b8860b">$trackings</span><span style="color:#666">-&gt;</span><span style="color:#b44">getData</span>();  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$trackID</span> <span style="color:#666">=</span> <span style="color:#b8860b">$trackData</span>[<span style="color:#666">0</span>][‘entity_id’];  
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//Mage::log($trackID);  
</span></span></span></code></pre></div></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento/PHP: Convert your XML Object to Array</title>
      <link>http://localhost:1313/magento/php-convert-your-xml-object-to-array/</link>
      <pubDate>Sun, 12 Feb 2012 06:24:25 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento/php-convert-your-xml-object-to-array/</guid>
      <description>&lt;p&gt;While developing shipment tracking using SimpleXML in magento, I came accross the requirement where I have to get all the XML tags as keys and all the data inside XML tags as values in array. Means I wanted to convert XML to an Array where I can display all the information in some decorative format.&lt;/p&gt;&#xA;&lt;p&gt;So here is how I converted XML to Array without any kind of hardcoding.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;PHP class method to convert xml to array&lt;/strong&gt;&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#00a000&#34;&gt;convertXmlObjToArr&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$obj&lt;/span&gt;, &lt;span style=&#34;color:#666&#34;&gt;&amp;amp;&lt;/span&gt;amp;&lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;){  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$children&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$obj&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;children&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$executed&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;false&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt; (&lt;span style=&#34;color:#b8860b&#34;&gt;$children&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$node&lt;/span&gt;){  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;]&lt;span style=&#34;color:#666&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;null&lt;/span&gt;){  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;][&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;]&lt;span style=&#34;color:#666&#34;&gt;!==&lt;/span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;null&lt;/span&gt;){  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$i&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; count(&lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;]);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;convertXmlObjToArr&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$node&lt;/span&gt;, &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;][&lt;span style=&#34;color:#b8860b&#34;&gt;$i&lt;/span&gt;]);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;else&lt;/span&gt;{  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$tmp&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;];  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;] &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;][&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;] &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$tmp&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$i&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; count(&lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;]);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;convertXmlObjToArr&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$node&lt;/span&gt;, &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;][&lt;span style=&#34;color:#b8860b&#34;&gt;$i&lt;/span&gt;]);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;else&lt;/span&gt;{  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;] &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;convertXmlObjToArr&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$node&lt;/span&gt;, &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;]);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$executed&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;true&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$executed&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;amp;&lt;/span&gt;amp;&lt;span style=&#34;color:#666&#34;&gt;&amp;amp;&lt;/span&gt;amp;&lt;span style=&#34;color:#b8860b&#34;&gt;$children&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getName&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;==&lt;/span&gt;””){  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; (String)&lt;span style=&#34;color:#b8860b&#34;&gt;$obj&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;return&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;&#xA;Hope this helps!&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>While developing shipment tracking using SimpleXML in magento, I came accross the requirement where I have to get all the XML tags as keys and all the data inside XML tags as values in array. Means I wanted to convert XML to an Array where I can display all the information in some decorative format.</p>
<p>So here is how I converted XML to Array without any kind of hardcoding.</p>
<p><strong>PHP class method to convert xml to array</strong><br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">convertXmlObjToArr</span>(<span style="color:#b8860b">$obj</span>, <span style="color:#666">&amp;</span>amp;<span style="color:#b8860b">$arr</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$children</span> <span style="color:#666">=</span> <span style="color:#b8860b">$obj</span><span style="color:#666">-&gt;</span><span style="color:#b44">children</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$executed</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">foreach</span> (<span style="color:#b8860b">$children</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$elementName</span> <span style="color:#666">=&gt;</span> <span style="color:#b8860b">$node</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>]<span style="color:#666">!=</span><span style="color:#a2f;font-weight:bold">null</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>][<span style="color:#666">0</span>]<span style="color:#666">!==</span><span style="color:#a2f;font-weight:bold">null</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$i</span> <span style="color:#666">=</span> count(<span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>]);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">convertXmlObjToArr</span>(<span style="color:#b8860b">$node</span>, <span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>][<span style="color:#b8860b">$i</span>]);  
</span></span><span style="display:flex;"><span> }<span style="color:#a2f;font-weight:bold">else</span>{  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$tmp</span> <span style="color:#666">=</span> <span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>];  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>] <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>][<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#b8860b">$tmp</span>;  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$i</span> <span style="color:#666">=</span> count(<span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>]);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">convertXmlObjToArr</span>(<span style="color:#b8860b">$node</span>, <span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>][<span style="color:#b8860b">$i</span>]);  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> }<span style="color:#a2f;font-weight:bold">else</span>{  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>] <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">convertXmlObjToArr</span>(<span style="color:#b8860b">$node</span>, <span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>]);  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$executed</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">true</span>;  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span><span style="color:#b8860b">$executed</span><span style="color:#666">&amp;</span>amp;<span style="color:#666">&amp;</span>amp;<span style="color:#b8860b">$children</span><span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>()<span style="color:#666">==</span>””){  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$arr</span> <span style="color:#666">=</span> (String)<span style="color:#b8860b">$obj</span>;  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">return</span>;  
</span></span><span style="display:flex;"><span> }</span></span></code></pre></div><br>
Hope this helps!</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Linking multiple shipments with their invoices</title>
      <link>http://localhost:1313/magento-linking-multiple-shipments-with-their-invoices/</link>
      <pubDate>Tue, 17 Jan 2012 17:17:39 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-linking-multiple-shipments-with-their-invoices/</guid>
      <description>&lt;p&gt;In Magento, it’s a feature to create multiple invoices and shipments. But you can’t find the link between invoice with their respective shipment if you have more than one invoice and shipment. It’s because if you have forced invoice and shipment enabled (Invoice and Ship button combined in Manage Orders view page), it saves both invoice and shipment object together and hence can’t give the invoice id to shipment and hence fails in building the link between them.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>In Magento, it’s a feature to create multiple invoices and shipments. But you can’t find the link between invoice with their respective shipment if you have more than one invoice and shipment. It’s because if you have forced invoice and shipment enabled (Invoice and Ship button combined in Manage Orders view page), it saves both invoice and shipment object together and hence can’t give the invoice id to shipment and hence fails in building the link between them.</p>
<p>So what we need to do here is:<br>
1. Add a column to sales_flat_shipment which will store invoice increment id (say invoice_id)<br>
2. Before invoice and shipment are saved, get the invoice’s latest increment id and increment it by 1 (to get next invoice increment id)<br>
3. Give that invoice increment id to shipment object, so it will get saved along with other shipment columns</p>
<p>Here we go technically,</p>
<p>Firstly, add a column to sales_flat_shipment table.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php <span style="color:#b8860b">$installer</span> <span style="color:#666">=</span> <span style="color:#b8860b">$this</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$installer</span><span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">startSetup</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$installer</span><span style="color:#666">-&gt;</span><span style="color:#b44">run</span>(”  
</span></span><span style="display:flex;"><span>ALTER TABLE sales_flat_shipment ADD COLUMN invoice_id VARCHAR(<span style="color:#666">50</span>) AFTER increment_id  
</span></span><span style="display:flex;"><span>“);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$installer</span><span style="color:#666">-&gt;</span><span style="color:#b44">endSetup</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080">?&gt;</span><span style="">
</span></span></span></code></pre></div></p>
<p>Then, override InvoiceController.php of sales/order: Mage/Adminhtml/controllers/Sales/Order/InvoiceController.php<br>
Paste this code to newly overridden file:</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php <span style="color:#a2f;font-weight:bold">require_once</span>(<span style="color:#b44">&#39;Mage/Adminhtml/controllers/Sales/Order/InvoiceController.php&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">Namespace_Module_Sales_Order_InvoiceController</span> <span style="color:#a2f;font-weight:bold">extends</span> Mage_Adminhtml_Sales_Order_InvoiceController
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#b44;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic">     * @author - Kalpesh Mehta
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic">     * @desc - Rewritten this method for linking shipment and invoice
</span></span></span><span style="display:flex;"><span><span style="color:#b44;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">saveAction</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#b8860b">$data</span> <span style="color:#666">=</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">getRequest</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getPost</span>(‘invoice’);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$orderId</span> <span style="color:#666">=</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getRequest</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getParam</span>(‘order_id’);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span><span style="color:#a2f;font-weight:bold">empty</span>(<span style="color:#b8860b">$data</span>[‘comment_text’])) {  
</span></span><span style="display:flex;"><span> Mage<span style="color:#666">::</span><span style="color:#b44">getSingleton</span>(‘adminhtml<span style="color:#666">/</span>session’)<span style="color:#666">-&gt;</span><span style="color:#b44">setCommentText</span>(<span style="color:#b8860b">$data</span>[‘comment_text’]);  
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">try</span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$invoice</span> <span style="color:#666">=</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">_initInvoice</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#b8860b">$invoice</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span><span style="color:#a2f;font-weight:bold">empty</span>(<span style="color:#b8860b">$data</span>[‘capture_case’])) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$invoice</span><span style="color:#666">-&gt;</span><span style="color:#b44">setRequestedCaptureCase</span>(<span style="color:#b8860b">$data</span>[‘capture_case’]);  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span><span style="color:#a2f;font-weight:bold">empty</span>(<span style="color:#b8860b">$data</span>[‘comment_text’])) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$invoice</span><span style="color:#666">-&gt;</span><span style="color:#b44">addComment</span>(<span style="color:#b8860b">$data</span>[‘comment_text’], isset(<span style="color:#b8860b">$data</span>[‘comment_customer_notify’]), isset(<span style="color:#b8860b">$data</span>[‘is_visible_on_front’]));  
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$invoice</span><span style="color:#666">-&gt;</span><span style="color:#b44">register</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span><span style="color:#a2f;font-weight:bold">empty</span>(<span style="color:#b8860b">$data</span>[‘send_email’])) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$invoice</span><span style="color:#666">-&gt;</span><span style="color:#b44">setEmailSent</span>(<span style="color:#a2f;font-weight:bold">true</span>);  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$invoice</span><span style="color:#666">-&gt;</span><span style="color:#b44">getOrder</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">setCustomerNoteNotify</span>(<span style="color:#666">!</span><span style="color:#a2f;font-weight:bold">empty</span>(<span style="color:#b8860b">$data</span>[‘send_email’]));  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$invoice</span><span style="color:#666">-&gt;</span><span style="color:#b44">getOrder</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">setIsInProcess</span>(<span style="color:#a2f;font-weight:bold">true</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$transactionSave</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘core<span style="color:#666">/</span>resource_transaction’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addObject</span>(<span style="color:#b8860b">$invoice</span>)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addObject</span>(<span style="color:#b8860b">$invoice</span><span style="color:#666">-&gt;</span><span style="color:#b44">getOrder</span>());  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$shipment</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span><span style="color:#a2f;font-weight:bold">empty</span>(<span style="color:#b8860b">$data</span>[‘do_shipment’]) <span style="color:#666">||</span> (int) <span style="color:#b8860b">$invoice</span><span style="color:#666">-&gt;</span><span style="color:#b44">getOrder</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getForcedDoShipmentWithInvoice</span>()) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$shipment</span> <span style="color:#666">=</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">_prepareShipment</span>(<span style="color:#b8860b">$invoice</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#b8860b">$shipment</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#080;font-style:italic">//Get last invoice increment ID  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#b8860b">$invoiceLast</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘sales<span style="color:#666">/</span>order_invoice’)<span style="color:#666">-&gt;</span><span style="color:#b44">getCollection</span>()  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setOrder</span>(‘increment_id’,’DESC’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setPageSize</span>(<span style="color:#666">1</span>)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setCurPage</span>(<span style="color:#666">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$invLastIncrId</span> <span style="color:#666">=</span> <span style="color:#b8860b">$invoiceLast</span><span style="color:#666">-&gt;</span><span style="color:#b44">getFirstItem</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getIncrementId</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$invNewIncrId</span> <span style="color:#666">=</span> (int)<span style="color:#b8860b">$invLastIncrId</span> <span style="color:#666">+</span> <span style="color:#666">1</span>; <span style="color:#080;font-style:italic">//incrementing by 1  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#b8860b">$shipment</span><span style="color:#666">-&gt;</span><span style="color:#b44">setInvoiceId</span>(<span style="color:#b8860b">$invNewIncrId</span>); <span style="color:#080;font-style:italic">//setting data for our sales_flat_shipment table column invoice_id
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$shipment</span><span style="color:#666">-&gt;</span><span style="color:#b44">setEmailSent</span>(<span style="color:#b8860b">$invoice</span><span style="color:#666">-&gt;</span><span style="color:#b44">getEmailSent</span>());  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$transactionSave</span><span style="color:#666">-&gt;</span><span style="color:#b44">addObject</span>(<span style="color:#b8860b">$shipment</span>);  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$transactionSave</span><span style="color:#666">-&gt;</span><span style="color:#b44">save</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#666">!</span><span style="color:#a2f;font-weight:bold">empty</span>(<span style="color:#b8860b">$data</span>[‘do_shipment’]) <span style="color:#666">||</span> (int) <span style="color:#b8860b">$invoice</span><span style="color:#666">-&gt;</span><span style="color:#b44">getOrder</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getForcedDoShipmentWithInvoice</span>()) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">_getSession</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">addSuccess</span>(<span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">__</span>(‘The invoice <span style="color:#a2f;font-weight:bold">and</span> shipment have been created<span style="color:#666">.</span>’));  
</span></span><span style="display:flex;"><span> } <span style="color:#a2f;font-weight:bold">else</span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">_getSession</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">addSuccess</span>(<span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">__</span>(‘The invoice has been created<span style="color:#666">.</span>’));  
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#080;font-style:italic">// send invoice/shipment emails  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#b8860b">$comment</span> <span style="color:#666">=</span> ”;  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (isset(<span style="color:#b8860b">$data</span>[‘comment_customer_notify’])) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$comment</span> <span style="color:#666">=</span> <span style="color:#b8860b">$data</span>[‘comment_text’];  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">try</span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$invoice</span><span style="color:#666">-&gt;</span><span style="color:#b44">sendEmail</span>(<span style="color:#666">!</span><span style="color:#a2f;font-weight:bold">empty</span>(<span style="color:#b8860b">$data</span>[‘send_email’]), <span style="color:#b8860b">$comment</span>);  
</span></span><span style="display:flex;"><span> } <span style="color:#a2f;font-weight:bold">catch</span> (Exception <span style="color:#b8860b">$e</span>) {  
</span></span><span style="display:flex;"><span> Mage<span style="color:#666">::</span><span style="color:#b44">logException</span>(<span style="color:#b8860b">$e</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">_getSession</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">addError</span>(<span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">__</span>(‘Unable to send the invoice email<span style="color:#666">.</span>’));  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#b8860b">$shipment</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">try</span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$shipment</span><span style="color:#666">-&gt;</span><span style="color:#b44">sendEmail</span>(<span style="color:#666">!</span><span style="color:#a2f;font-weight:bold">empty</span>(<span style="color:#b8860b">$data</span>[‘send_email’]));  
</span></span><span style="display:flex;"><span> } <span style="color:#a2f;font-weight:bold">catch</span> (Exception <span style="color:#b8860b">$e</span>) {  
</span></span><span style="display:flex;"><span> Mage<span style="color:#666">::</span><span style="color:#b44">logException</span>(<span style="color:#b8860b">$e</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">_getSession</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">addError</span>(<span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">__</span>(‘Unable to send the shipment email<span style="color:#666">.</span>’));  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> Mage<span style="color:#666">::</span><span style="color:#b44">getSingleton</span>(‘adminhtml<span style="color:#666">/</span>session’)<span style="color:#666">-&gt;</span><span style="color:#b44">getCommentText</span>(<span style="color:#a2f;font-weight:bold">true</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">_redirect</span>(‘<span style="color:#666">*/</span>sales_order<span style="color:#666">/</span>view’, <span style="color:#a2f;font-weight:bold">array</span>(‘order_id’ <span style="color:#666">=&gt;</span> <span style="color:#b8860b">$orderId</span>));  
</span></span><span style="display:flex;"><span> } <span style="color:#a2f;font-weight:bold">else</span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">_redirect</span>(‘<span style="color:#666">*/*/</span><span style="color:#a2f;font-weight:bold">new</span>’, <span style="color:#a2f;font-weight:bold">array</span>(‘order_id’ <span style="color:#666">=&gt;</span> <span style="color:#b8860b">$orderId</span>));  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">return</span>;  
</span></span><span style="display:flex;"><span> } <span style="color:#a2f;font-weight:bold">catch</span> (Mage_Core_Exception <span style="color:#b8860b">$e</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">_getSession</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">addError</span>(<span style="color:#b8860b">$e</span><span style="color:#666">-&gt;</span><span style="color:#b44">getMessage</span>());  
</span></span><span style="display:flex;"><span> } <span style="color:#a2f;font-weight:bold">catch</span> (Exception <span style="color:#b8860b">$e</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">_getSession</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">addError</span>(<span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">__</span>(‘Unable to save the invoice<span style="color:#666">.</span>’));  
</span></span><span style="display:flex;"><span> Mage<span style="color:#666">::</span><span style="color:#b44">logException</span>(<span style="color:#b8860b">$e</span>);  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">_redirect</span>(‘<span style="color:#666">*/*/</span><span style="color:#a2f;font-weight:bold">new</span>’, <span style="color:#a2f;font-weight:bold">array</span>(‘order_id’ <span style="color:#666">=&gt;</span> <span style="color:#b8860b">$orderId</span>));  
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Adding column to sales_flat_order_item, sales_flat_invoice_item and sales_flat_shipment_item</title>
      <link>http://localhost:1313/magento-adding-column-to-sales_flat_order_item-sales_flat_invoice_item-and-sales_flat_shipment_item/</link>
      <pubDate>Tue, 17 Jan 2012 17:01:13 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-adding-column-to-sales_flat_order_item-sales_flat_invoice_item-and-sales_flat_shipment_item/</guid>
      <description>&lt;p&gt;Suppose you want to add column to some table before it gets save in Magento. Example, Magento doesn’t save regular price of product when an order is placed, it only saves the selling price. So if your product have some special price in it, then Magento only saves it’s special price when an order is placed, so there is no track of regular price of that product in order item table. Same it goes to invoice item and shipment item. When creating invoice and shipment, Magento doesn’t have any track on the regular price of invoiced item’s and shipment item’s regular price.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Suppose you want to add column to some table before it gets save in Magento. Example, Magento doesn’t save regular price of product when an order is placed, it only saves the selling price. So if your product have some special price in it, then Magento only saves it’s special price when an order is placed, so there is no track of regular price of that product in order item table. Same it goes to invoice item and shipment item. When creating invoice and shipment, Magento doesn’t have any track on the regular price of invoiced item’s and shipment item’s regular price.</p>
<p>So here I show you how you will add a column “product_mrp” in each of 3 tables and update the information without firing any query!</p>
<p>First of all, make an installer script in your module that will alter these three tables and add column “product_mrp” or any of your choice.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php <span style="color:#b8860b">$installer</span> <span style="color:#666">=</span> <span style="color:#b8860b">$this</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$installer</span><span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">startSetup</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$installer</span><span style="color:#666">-&gt;</span><span style="color:#b44">run</span>(”  
</span></span><span style="display:flex;"><span> ALTER TABLE sales_flat_order_item ADD COLUMN product_mrp DECIMAL(<span style="color:#666">12</span>,<span style="color:#666">4</span>) <span style="color:#a2f;font-weight:bold">NULL</span>;  
</span></span><span style="display:flex;"><span> ALTER TABLE sales_flat_invoice_item ADD COLUMN product_mrp DECIMAL(<span style="color:#666">12</span>,<span style="color:#666">4</span>) <span style="color:#a2f;font-weight:bold">NULL</span>;  
</span></span><span style="display:flex;"><span> ALTER TABLE sales_flat_shipment_item ADD COLUMN product_mrp DECIMAL(<span style="color:#666">12</span>,<span style="color:#666">4</span>) <span style="color:#a2f;font-weight:bold">NULL</span>;  
</span></span><span style="display:flex;"><span>“);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$installer</span><span style="color:#666">-&gt;</span><span style="color:#b44">endSetup</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080">?&gt;</span><span style="">
</span></span></span></code></pre></div>
<p>After this is executed, you will find your columns added at the end of your tables.<br>
Now we will catch the event before order is placed, before invoice is created and before shipment is saved.</p>
<p><strong>config.xml</strong><br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;sales_order_place_before&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;observers&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;adding_product_mrp_order&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;type&gt;</span>singleton<span style="color:#008000;font-weight:bold">&lt;/type&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;class&gt;</span>Namespace_Module_Model_Observer<span style="color:#008000;font-weight:bold">&lt;/class&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;method&gt;</span>saveProductMrpInOrder<span style="color:#008000;font-weight:bold">&lt;/method&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/adding_product_mrp_order&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/observers&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/sales_order_place_before&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;sales_order_invoice_save_before&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;observers&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;adding_product_mrp_invoice&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;type&gt;</span>singleton<span style="color:#008000;font-weight:bold">&lt;/type&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;class&gt;</span>Namespace_Module_Model_Observer<span style="color:#008000;font-weight:bold">&lt;/class&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;method&gt;</span>saveProductMrpInInvoice<span style="color:#008000;font-weight:bold">&lt;/method&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/adding_product_mrp_invoice&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/observers&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/sales_order_invoice_save_before&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;sales_order_shipment_save_before&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;observers&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;adding_product_mrp_shipment&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;type&gt;</span>singleton<span style="color:#008000;font-weight:bold">&lt;/type&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;class&gt;</span>Namespace_Module_Model_Observer<span style="color:#008000;font-weight:bold">&lt;/class&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;method&gt;</span>saveProductMrpInShipment<span style="color:#008000;font-weight:bold">&lt;/method&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/adding_product_mrp_shipment&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/observers&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/sales_order_shipment_save_before&gt;</span></span></span></code></pre></div></p>
<p>Now comes the Observer part that will add our column data before data is actually saved in table.</p>
<p><strong>Observer.php</strong><br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">saveProductMrpInOrder</span>(Varien_Event_Observer <span style="color:#b8860b">$observer</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$order</span> <span style="color:#666">=</span> <span style="color:#b8860b">$observer</span><span style="color:#666">-&gt;</span><span style="color:#b44">getEvent</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getOrder</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$order</span><span style="color:#666">-&gt;</span><span style="color:#b44">getAllItems</span>() <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$item</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$price</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>product’)<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$item</span><span style="color:#666">-&gt;</span><span style="color:#b44">getId</span>())<span style="color:#666">-&gt;</span><span style="color:#b44">getPrice</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$item</span><span style="color:#666">-&gt;</span><span style="color:#b44">setProductMrp</span>(<span style="color:#b8860b">$price</span>);  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#b8860b">$this</span>;  
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">saveProductMrpInInvoice</span>(Varien_Event_Observer <span style="color:#b8860b">$observer</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$invoice</span> <span style="color:#666">=</span> <span style="color:#b8860b">$observer</span><span style="color:#666">-&gt;</span><span style="color:#b44">getEvent</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getInvoice</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$invoice</span><span style="color:#666">-&gt;</span><span style="color:#b44">getAllItems</span>() <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$item</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$price</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>product’)<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$item</span><span style="color:#666">-&gt;</span><span style="color:#b44">getProductId</span>())<span style="color:#666">-&gt;</span><span style="color:#b44">getPrice</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$item</span><span style="color:#666">-&gt;</span><span style="color:#b44">setProductMrp</span>(<span style="color:#b8860b">$price</span>);  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#b8860b">$this</span>;  
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">saveProductMrpInShipment</span>(Varien_Event_Observer <span style="color:#b8860b">$observer</span>)  
</span></span><span style="display:flex;"><span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$shipment</span> <span style="color:#666">=</span> <span style="color:#b8860b">$observer</span><span style="color:#666">-&gt;</span><span style="color:#b44">getEvent</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getShipment</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$shipment</span><span style="color:#666">-&gt;</span><span style="color:#b44">getAllItems</span>() <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$item</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$product</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>product’)<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$item</span><span style="color:#666">-&gt;</span><span style="color:#b44">getProductId</span>());  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$price</span> <span style="color:#666">=</span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getPrice</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$item</span><span style="color:#666">-&gt;</span><span style="color:#b44">product_mrp</span> <span style="color:#666">=</span> <span style="color:#b8860b">$price</span>;  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> }</span></span></code></pre></div></p>
<p>Now clear the cache, and place order and create it’s invoice and shipment. You will find the regular price of each of your products in all these three useful tables and hence you can track the original price information even if your product’s price has been changed afterwards.</p>
<p>Happy coding!</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Save shipment information of order programatically</title>
      <link>http://localhost:1313/magento-save-shipment-information-of-order-programatically/</link>
      <pubDate>Sun, 08 Jan 2012 15:23:03 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-save-shipment-information-of-order-programatically/</guid>
      <description>&lt;p&gt;After creating invoice and shipment, it is necessary to add tracking information to shipment. Here is how to write a observer which will invoke as shipment save method is called and save tracking information programatically.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;config.xml&lt;/strong&gt; – under global -&amp;gt; events node&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;sales_order_shipment_save_before&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;observers&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;namespace_modulename_ship_before&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;type&amp;gt;&lt;/span&gt;singleton&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/type&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;class&amp;gt;&lt;/span&gt;Namespace_Modulename_Model_Observer&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/class&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;method&amp;gt;&lt;/span&gt;salesOrderShipmentSaveBefore&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/method&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/namespace_modulename_ship_before&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/observers&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/sales_order_shipment_save_before&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Observer.php&lt;/strong&gt; -&amp;gt; under Model directory of module&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#00a000&#34;&gt;salesOrderShipmentSaveBefore&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$observer&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$shipment&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$observer&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getEvent&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getShipment&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$track&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘sales&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;order_shipment_track’)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setNumber&lt;/span&gt;(‘824343454454’) &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//tracking number / awb number  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setCarrierCode&lt;/span&gt;(‘aramex’) &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//carrier code  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setTitle&lt;/span&gt;(‘Aramex’); &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//carrier title  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$shipment&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addTrack&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$track&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>After creating invoice and shipment, it is necessary to add tracking information to shipment. Here is how to write a observer which will invoke as shipment save method is called and save tracking information programatically.</p>
<p><strong>config.xml</strong> – under global -&gt; events node<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;sales_order_shipment_save_before&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;observers&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;namespace_modulename_ship_before&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;type&gt;</span>singleton<span style="color:#008000;font-weight:bold">&lt;/type&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;class&gt;</span>Namespace_Modulename_Model_Observer<span style="color:#008000;font-weight:bold">&lt;/class&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;method&gt;</span>salesOrderShipmentSaveBefore<span style="color:#008000;font-weight:bold">&lt;/method&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/namespace_modulename_ship_before&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/observers&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/sales_order_shipment_save_before&gt;</span></span></span></code></pre></div></p>
<p><strong>Observer.php</strong> -&gt; under Model directory of module<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">salesOrderShipmentSaveBefore</span>(<span style="color:#b8860b">$observer</span>)  
</span></span><span style="display:flex;"><span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$shipment</span> <span style="color:#666">=</span> <span style="color:#b8860b">$observer</span><span style="color:#666">-&gt;</span><span style="color:#b44">getEvent</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getShipment</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$track</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘sales<span style="color:#666">/</span>order_shipment_track’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">setNumber</span>(‘824343454454’) <span style="color:#080;font-style:italic">//tracking number / awb number  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#666">-&gt;</span><span style="color:#b44">setCarrierCode</span>(‘aramex’) <span style="color:#080;font-style:italic">//carrier code  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#666">-&gt;</span><span style="color:#b44">setTitle</span>(‘Aramex’); <span style="color:#080;font-style:italic">//carrier title  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#b8860b">$shipment</span><span style="color:#666">-&gt;</span><span style="color:#b44">addTrack</span>(<span style="color:#b8860b">$track</span>);  
</span></span><span style="display:flex;"><span> }</span></span></code></pre></div></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Wrong count in admin Grid when using GROUP BY clause, overriding lib module</title>
      <link>http://localhost:1313/magento-wrong-count-in-admin-grid-when-using-group-by-clause-overriding-lib-module/</link>
      <pubDate>Thu, 05 Jan 2012 09:47:31 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-wrong-count-in-admin-grid-when-using-group-by-clause-overriding-lib-module/</guid>
      <description>&lt;p&gt;If you have noticed or not, in version 1.5 of Magento when you use GROUP BY clause in any Grid.php file in admin, the count always display wrong. Many times it displays 1 even if there are hundreds of records. Due to this your pagination also doesn’t work. This is a bug in Magento. Your getSize() always returns wrong count whereas total records in grid are proper.&lt;/p&gt;&#xA;&lt;p&gt;To fix this, you need to edit one of your core file. As it’s not a good practice to edit core file, we will here override the core file.&lt;br&gt;&#xA;Overriding LIB module&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>If you have noticed or not, in version 1.5 of Magento when you use GROUP BY clause in any Grid.php file in admin, the count always display wrong. Many times it displays 1 even if there are hundreds of records. Due to this your pagination also doesn’t work. This is a bug in Magento. Your getSize() always returns wrong count whereas total records in grid are proper.</p>
<p>To fix this, you need to edit one of your core file. As it’s not a good practice to edit core file, we will here override the core file.<br>
Overriding LIB module</p>
<p>Copy Db.php file from magento / lib / Varien / Data / Collection / Db.php<br>
Paste it to your local directory so the resultant folder structure would look like this:<br>
magento / app / code / local / Varien / Data / Collection / Db.php</p>
<p>Now open this file to edit and replace getSelectCountSql function with below one<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">getSelectCountSql</span>()  
</span></span><span style="display:flex;"><span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">_renderFilters</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$countSelect</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">clone</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$countSelect</span><span style="color:#666">-&gt;</span><span style="color:#b44">reset</span>(Zend_Db_Select<span style="color:#666">::</span><span style="color:#b44">ORDER</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$countSelect</span><span style="color:#666">-&gt;</span><span style="color:#b44">reset</span>(Zend_Db_Select<span style="color:#666">::</span><span style="color:#b44">LIMIT_COUNT</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$countSelect</span><span style="color:#666">-&gt;</span><span style="color:#b44">reset</span>(Zend_Db_Select<span style="color:#666">::</span><span style="color:#b44">LIMIT_OFFSET</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$countSelect</span><span style="color:#666">-&gt;</span><span style="color:#b44">reset</span>(Zend_Db_Select<span style="color:#666">::</span><span style="color:#b44">COLUMNS</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(count(<span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getPart</span>(Zend_Db_Select<span style="color:#666">::</span><span style="color:#b44">GROUP</span>)) <span style="color:#666">&gt;</span> <span style="color:#666">0</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$countSelect</span><span style="color:#666">-&gt;</span><span style="color:#b44">reset</span>(Zend_Db_Select<span style="color:#666">::</span><span style="color:#b44">GROUP</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$countSelect</span><span style="color:#666">-&gt;</span><span style="color:#b44">distinct</span>(<span style="color:#a2f;font-weight:bold">true</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$group</span> <span style="color:#666">=</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getPart</span>(Zend_Db_Select<span style="color:#666">::</span><span style="color:#b44">GROUP</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$countSelect</span><span style="color:#666">-&gt;</span><span style="color:#b44">columns</span>(“COUNT(DISTINCT “<span style="color:#666">.</span>implode(“, “, <span style="color:#b8860b">$group</span>)<span style="color:#666">.</span>”)”);  
</span></span><span style="display:flex;"><span> } <span style="color:#a2f;font-weight:bold">else</span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$countSelect</span><span style="color:#666">-&gt;</span><span style="color:#b44">columns</span>(‘COUNT(<span style="color:#666">*</span>)’);  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#b8860b">$countSelect</span>;  
</span></span><span style="display:flex;"><span> }</span></span></code></pre></div></p>
<p><em>Updated the method for generic use</em></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Joining/group by &amp;#8211; order, invoice, shipment tables</title>
      <link>http://localhost:1313/magento-joining/group-by-%238211-order-invoice-shipment-tables/</link>
      <pubDate>Sat, 31 Dec 2011 11:09:45 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-joining/group-by-%238211-order-invoice-shipment-tables/</guid>
      <description>&lt;p&gt;Ever tried to join multiple tables in Magento? Joining and grouping tables is not that easy in Magento ORM than in simple MySql way we did for years.&lt;/p&gt;&#xA;&lt;p&gt;Here is a piece of code where I was required to grab all the data from orders, invoices, shipments to generate reports for warehouse people to make their life easier.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getResourceModel&lt;/span&gt;(‘sales&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;order_shipment_item_collection’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addFieldToSelect&lt;/span&gt;(‘section_id’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addFieldToSelect&lt;/span&gt;(‘shelf_id’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addFieldToSelect&lt;/span&gt;(‘rack_id’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addFieldToSelect&lt;/span&gt;(‘box_id’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//$collection-&amp;gt;addFieldToSelect(‘GROUP_CONCAT(DISTINCT main_table.product_id SEPARATOR “,”)’,’product_ids’);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSelect&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;joinLeft&lt;/span&gt;(‘sales_flat_shipment_grid’, ‘main_table&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;parent_id &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; sales_flat_shipment_grid&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;entity_id’, &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(‘increment_id &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; shipment_increment_id’, ‘created_at &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; shipment_created_at’, ‘order_increment_id’,’total_qty’));  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSelect&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;joinLeft&lt;/span&gt;(‘sales_flat_shipment_track’, ‘sales_flat_shipment_grid&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;entity_id &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; sales_flat_shipment_track&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;parent_id’, &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(‘number &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; track_id’, ‘carrier_code &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; carrier_name’));  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSelect&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;joinLeft&lt;/span&gt;(‘sales_flat_order’, ‘sales_flat_shipment_track&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;order_id &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; sales_flat_order&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;entity_id’, &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(‘created_at &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; order_created_at’,’grand_total &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; ord_grand_total’));  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSelect&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;joinLeft&lt;/span&gt;(‘sales_flat_order_item’, ‘main_table&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;order_item_id &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; sales_flat_order_item&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;item_id’, &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(‘product_type’));  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSelect&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;joinLeft&lt;/span&gt;(‘sales_flat_order_payment’, ‘sales_flat_shipment_track&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;order_id &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; sales_flat_order_payment&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;parent_id’, &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(‘method &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; payment_method’));  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSelect&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;joinLeft&lt;/span&gt;(‘sales_flat_order_address’, ‘sales_flat_shipment_track&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;order_id &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; sales_flat_order_address&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;parent_id’, &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(‘firstname’,’lastname’,’street’,’city’,’postcode’,’region’,’telephone’));  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSelect&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;joinLeft&lt;/span&gt;(‘sales_flat_invoice’, ‘sales_flat_shipment_track&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;order_id &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; sales_flat_invoice&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;order_id’, &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(‘grand_total’));  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//$collection-&amp;gt;addAttributeToFilter(‘main_table.price’, array(‘gt’ =&amp;gt; 0));  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$pickup_ids&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;!=&lt;/span&gt;” &lt;span style=&#34;color:#666&#34;&gt;&amp;amp;&lt;/span&gt;amp;&lt;span style=&#34;color:#666&#34;&gt;&amp;amp;&lt;/span&gt;amp; is_array(&lt;span style=&#34;color:#b8860b&#34;&gt;$pickup_ids&lt;/span&gt;))  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addAttributeToFilter&lt;/span&gt;(‘sales_flat_shipment_grid&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;entity_id’, &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(‘in’ &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$pickup_ids&lt;/span&gt;));  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSelect&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;columns&lt;/span&gt;(  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(‘product_ids’ &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;new&lt;/span&gt; Zend_Db_Expr(  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; “IFNULL(GROUP_CONCAT(DISTINCT main_table&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;product_id SEPARATOR ‘;’), ”)”  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)));  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSelect&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;columns&lt;/span&gt;(  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(‘weight’ &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;new&lt;/span&gt; Zend_Db_Expr(  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; “IFNULL(SUM(main_table&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;weight)&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;2&lt;/span&gt;, ”)”  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)));  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSelect&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;group&lt;/span&gt;(‘shipment_increment_id’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//$collection-&amp;gt;getSelect()-&amp;gt;group(‘track_id’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//Mage::log($collection-&amp;gt;getSelect()-&amp;gt;__toString());  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setCollection&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$collection&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//$this-&amp;gt;getCollection()-&amp;gt;getSelect()-&amp;gt;limit();&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&lt;p&gt;Although the query is so expensive, I have not yet tried to optimize it due to lack of time.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Ever tried to join multiple tables in Magento? Joining and grouping tables is not that easy in Magento ORM than in simple MySql way we did for years.</p>
<p>Here is a piece of code where I was required to grab all the data from orders, invoices, shipments to generate reports for warehouse people to make their life easier.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$collection</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getResourceModel</span>(‘sales<span style="color:#666">/</span>order_shipment_item_collection’);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">addFieldToSelect</span>(‘section_id’);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">addFieldToSelect</span>(‘shelf_id’);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">addFieldToSelect</span>(‘rack_id’);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">addFieldToSelect</span>(‘box_id’);  
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//$collection-&gt;addFieldToSelect(‘GROUP_CONCAT(DISTINCT main_table.product_id SEPARATOR “,”)’,’product_ids’);
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">joinLeft</span>(‘sales_flat_shipment_grid’, ‘main_table<span style="color:#666">.</span>parent_id <span style="color:#666">=</span> sales_flat_shipment_grid<span style="color:#666">.</span>entity_id’, <span style="color:#a2f;font-weight:bold">array</span>(‘increment_id <span style="color:#a2f;font-weight:bold">as</span> shipment_increment_id’, ‘created_at <span style="color:#a2f;font-weight:bold">as</span> shipment_created_at’, ‘order_increment_id’,’total_qty’));  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">joinLeft</span>(‘sales_flat_shipment_track’, ‘sales_flat_shipment_grid<span style="color:#666">.</span>entity_id <span style="color:#666">=</span> sales_flat_shipment_track<span style="color:#666">.</span>parent_id’, <span style="color:#a2f;font-weight:bold">array</span>(‘number <span style="color:#a2f;font-weight:bold">as</span> track_id’, ‘carrier_code <span style="color:#a2f;font-weight:bold">as</span> carrier_name’));  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">joinLeft</span>(‘sales_flat_order’, ‘sales_flat_shipment_track<span style="color:#666">.</span>order_id <span style="color:#666">=</span> sales_flat_order<span style="color:#666">.</span>entity_id’, <span style="color:#a2f;font-weight:bold">array</span>(‘created_at <span style="color:#a2f;font-weight:bold">as</span> order_created_at’,’grand_total <span style="color:#a2f;font-weight:bold">as</span> ord_grand_total’));  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">joinLeft</span>(‘sales_flat_order_item’, ‘main_table<span style="color:#666">.</span>order_item_id <span style="color:#666">=</span> sales_flat_order_item<span style="color:#666">.</span>item_id’, <span style="color:#a2f;font-weight:bold">array</span>(‘product_type’));  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">joinLeft</span>(‘sales_flat_order_payment’, ‘sales_flat_shipment_track<span style="color:#666">.</span>order_id <span style="color:#666">=</span> sales_flat_order_payment<span style="color:#666">.</span>parent_id’, <span style="color:#a2f;font-weight:bold">array</span>(‘method <span style="color:#a2f;font-weight:bold">as</span> payment_method’));  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">joinLeft</span>(‘sales_flat_order_address’, ‘sales_flat_shipment_track<span style="color:#666">.</span>order_id <span style="color:#666">=</span> sales_flat_order_address<span style="color:#666">.</span>parent_id’, <span style="color:#a2f;font-weight:bold">array</span>(‘firstname’,’lastname’,’street’,’city’,’postcode’,’region’,’telephone’));  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">joinLeft</span>(‘sales_flat_invoice’, ‘sales_flat_shipment_track<span style="color:#666">.</span>order_id <span style="color:#666">=</span> sales_flat_invoice<span style="color:#666">.</span>order_id’, <span style="color:#a2f;font-weight:bold">array</span>(‘grand_total’));  
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//$collection-&gt;addAttributeToFilter(‘main_table.price’, array(‘gt’ =&gt; 0));  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$pickup_ids</span><span style="color:#666">!=</span>” <span style="color:#666">&amp;</span>amp;<span style="color:#666">&amp;</span>amp; is_array(<span style="color:#b8860b">$pickup_ids</span>))  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToFilter</span>(‘sales_flat_shipment_grid<span style="color:#666">.</span>entity_id’, <span style="color:#a2f;font-weight:bold">array</span>(‘in’ <span style="color:#666">=&gt;</span> <span style="color:#b8860b">$pickup_ids</span>));  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">columns</span>(  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">array</span>(‘product_ids’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">new</span> Zend_Db_Expr(  
</span></span><span style="display:flex;"><span> “IFNULL(GROUP_CONCAT(DISTINCT main_table<span style="color:#666">.</span>product_id SEPARATOR ‘;’), ”)”  
</span></span><span style="display:flex;"><span>)));  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">columns</span>(  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">array</span>(‘weight’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">new</span> Zend_Db_Expr(  
</span></span><span style="display:flex;"><span> “IFNULL(SUM(main_table<span style="color:#666">.</span>weight)<span style="color:#666">/</span><span style="color:#666">2</span>, ”)”  
</span></span><span style="display:flex;"><span>)));  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$collection</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSelect</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">group</span>(‘shipment_increment_id’);  
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//$collection-&gt;getSelect()-&gt;group(‘track_id’);  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//Mage::log($collection-&gt;getSelect()-&gt;__toString());  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">setCollection</span>(<span style="color:#b8860b">$collection</span>);  
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">//$this-&gt;getCollection()-&gt;getSelect()-&gt;limit();
</span></span></span></code></pre></div>
<p>Although the query is so expensive, I have not yet tried to optimize it due to lack of time.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento Admin &amp;#8211; Forcing Invoice and Ship button together</title>
      <link>http://localhost:1313/magento-admin-%238211-forcing-invoice-and-ship-button-together/</link>
      <pubDate>Sat, 31 Dec 2011 10:41:25 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-admin-%238211-forcing-invoice-and-ship-button-together/</guid>
      <description>&lt;p&gt;Ever wondered what if you want to do invoice and shipment with just one click in your website admin? Yes, Magento allows you to integrate both these in one step.&lt;/p&gt;&#xA;&lt;p&gt;Edit your module’s config.xml and Observer.php for this to happen.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;config.xml&lt;/strong&gt; snippet:&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;events&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;sales_order_place_after&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;observers&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;namespace_module&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;type&amp;gt;&lt;/span&gt;singleton&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/type&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;class&amp;gt;&lt;/span&gt;Namespace_Module_Model_Observer&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/class&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;method&amp;gt;&lt;/span&gt;doForceInvoiceWithShipment&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/method&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/namespace_module&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/observers&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/sales_order_place_after&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/events&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;&#xA;Every time a order is placed, frontend as well as backend, your observer method will be called which will force invoice and shipment to show in one button in Manage Orders for particular order at backend.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Ever wondered what if you want to do invoice and shipment with just one click in your website admin? Yes, Magento allows you to integrate both these in one step.</p>
<p>Edit your module’s config.xml and Observer.php for this to happen.</p>
<p><strong>config.xml</strong> snippet:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;events&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;sales_order_place_after&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;observers&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;namespace_module&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;type&gt;</span>singleton<span style="color:#008000;font-weight:bold">&lt;/type&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;class&gt;</span>Namespace_Module_Model_Observer<span style="color:#008000;font-weight:bold">&lt;/class&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;method&gt;</span>doForceInvoiceWithShipment<span style="color:#008000;font-weight:bold">&lt;/method&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/namespace_module&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/observers&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/sales_order_place_after&gt;</span>  
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/events&gt;</span></span></span></code></pre></div><br>
Every time a order is placed, frontend as well as backend, your observer method will be called which will force invoice and shipment to show in one button in Manage Orders for particular order at backend.</p>
<p><strong>Observer.php</strong> snippet:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">doForceInvoiceWithShipment</span>(<span style="color:#b8860b">$observer</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$order</span> <span style="color:#666">=</span> <span style="color:#b8860b">$observer</span><span style="color:#666">-&gt;</span><span style="color:#b44">getOrder</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$orderId</span> <span style="color:#666">=</span> <span style="color:#b8860b">$order</span><span style="color:#666">-&gt;</span><span style="color:#b44">getIncrementId</span>();  
</span></span><span style="display:flex;"><span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘sales<span style="color:#666">/</span>order’)<span style="color:#666">-&gt;</span><span style="color:#b44">loadByIncrementId</span>(<span style="color:#b8860b">$orderId</span>)<span style="color:#666">-&gt;</span><span style="color:#b44">setForcedDoShipmentWithInvoice</span>(<span style="color:#a2f;font-weight:bold">true</span>)<span style="color:#666">-&gt;</span><span style="color:#b44">save</span>();  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></p>
<p>Now you can place a order and check at backend under Sales-&gt;Orders clicking on latest order to see “Invoice &amp; Ship” button integrated rather than “Invoice” and “Ship” button separated.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Some important functions</title>
      <link>http://localhost:1313/magento-some-important-functions/</link>
      <pubDate>Sun, 19 Jun 2011 07:37:16 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-some-important-functions/</guid>
      <description>&lt;p&gt;Here I will show you some important functions/methods in Magento that will make your development easy.&lt;/p&gt;&#xA;&lt;p&gt;Get the path of your magento page.&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getUrl&lt;/span&gt;(‘mypage’);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;Get the path of the image in your skin folder.&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSkinUrl&lt;/span&gt;(‘images&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;yourimage&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;gif’);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;Get the product link.&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getProductData&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getProductUrl&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;Get the product name.&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;htmlEscape&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getProductData&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getName&lt;/span&gt;());&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;Call a static block in .phtml file.&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getLayout&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;createBlock&lt;/span&gt;(‘cms&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;block’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setBlockId&lt;/span&gt;(‘YOURBLOCKID’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;toHtml&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;Get Image url of current category.&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getCurrentCategory&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getImageUrl&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;Check whether the current category is Top category.&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;IsTopCategory&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;&#xA;&lt;p&gt;Get description of current category.&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getCurrentCategory&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getDescription&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Here I will show you some important functions/methods in Magento that will make your development easy.</p>
<p>Get the path of your magento page.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getUrl</span>(‘mypage’);</span></span></code></pre></div></p>
<p>Get the path of the image in your skin folder.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSkinUrl</span>(‘images<span style="color:#666">/</span>yourimage<span style="color:#666">.</span>gif’);</span></span></code></pre></div></p>
<p>Get the product link.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getProductData</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getProductUrl</span>();</span></span></code></pre></div></p>
<p>Get the product name.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">htmlEscape</span>(<span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getProductData</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>());</span></span></code></pre></div></p>
<p>Call a static block in .phtml file.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getLayout</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">createBlock</span>(‘cms<span style="color:#666">/</span>block’)<span style="color:#666">-&gt;</span><span style="color:#b44">setBlockId</span>(‘YOURBLOCKID’)<span style="color:#666">-&gt;</span><span style="color:#b44">toHtml</span>();</span></span></code></pre></div></p>
<p>Get Image url of current category.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getCurrentCategory</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getImageUrl</span>();</span></span></code></pre></div></p>
<p>Check whether the current category is Top category.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">IsTopCategory</span>();</span></span></code></pre></div></p>
<p>Get description of current category.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getCurrentCategory</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getDescription</span>();</span></span></code></pre></div></p>
<p>Display products list page (list.phtml).<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getProductListHtml</span>();</span></span></code></pre></div></p>
<p>Display CMS block page.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">getCmsBlockHtml</span>();</span></span></code></pre></div></p>
<p>Get current store id.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$storeId</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">app</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getStore</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getId</span>();</span></span></code></pre></div></p>
<p>Get current store name.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$storeName</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">app</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getStore</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>();</span></span></code></pre></div></p>
<p>Get current store code.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$storeCode</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">app</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getStore</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getCode</span>();</span></span></code></pre></div></p>
<p>Get website name.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$websiteName</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">app</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getWebsite</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>();</span></span></code></pre></div></p>
<p>Get session id.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$sessionId</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘core<span style="color:#666">/</span>session’)<span style="color:#666">-&gt;</span><span style="color:#b44">getSessionId</span>();</span></span></code></pre></div></p>
<p>Get customer id.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$customerId</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘customer<span style="color:#666">/</span>session’)<span style="color:#666">-&gt;</span><span style="color:#b44">getCustomerId</span>();</span></span></code></pre></div></p>
<p>Get guest id.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> <span style="color:#b8860b">$vistitorId</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘core<span style="color:#666">/</span>session’)<span style="color:#666">-&gt;</span><span style="color:#b44">getVisitorId</span>();</span></span></code></pre></div></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Checking customer/admin is logged in or not</title>
      <link>http://localhost:1313/magento-checking-customer/admin-is-logged-in-or-not/</link>
      <pubDate>Sun, 19 Jun 2011 07:07:47 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-checking-customer/admin-is-logged-in-or-not/</guid>
      <description>&lt;p&gt;The most important part in magento development is to check whether customer is logged in or not in the system. So that you can show specific features and extra privileges to your customers. There are many things that are restricted to the guests, while members can see the special privilege things.&lt;/p&gt;&#xA;&lt;p&gt;Also if the customer is not logged in, we can show a link like “Log in”; while for logged in customers, we can show link like “Log out”, “My account”, etc. This is already present in Magento, but we may want to add more features to our customers. So here is the code where you can check customer is logged in or not.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>The most important part in magento development is to check whether customer is logged in or not in the system. So that you can show specific features and extra privileges to your customers. There are many things that are restricted to the guests, while members can see the special privilege things.</p>
<p>Also if the customer is not logged in, we can show a link like “Log in”; while for logged in customers, we can show link like “Log out”, “My account”, etc. This is already present in Magento, but we may want to add more features to our customers. So here is the code where you can check customer is logged in or not.</p>
<p>This will check whether the customer is logged in the magento system or not.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$session</span><span style="color:#666">=</span>Mage<span style="color:#666">::</span><span style="color:#b44">getSingleton</span>(‘customer<span style="color:#666">/</span>session’, <span style="color:#a2f;font-weight:bold">array</span>(‘name’<span style="color:#666">=&gt;</span>’frontend’) );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#b8860b">$session</span><span style="color:#666">-&gt;</span><span style="color:#b44">isLoggedIn</span>()) {  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> “Welcome, “<span style="color:#666">.</span><span style="color:#b8860b">$session</span><span style="color:#666">-&gt;</span><span style="color:#b44">getCustomer</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>();  
</span></span><span style="display:flex;"><span>} <span style="color:#a2f;font-weight:bold">else</span> {  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> “Not logged in”;  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>This will check whether admin is logged in or not in a magento site.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$adminsession</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getSingleton</span>(‘admin<span style="color:#666">/</span>session’, <span style="color:#a2f;font-weight:bold">array</span>(‘name’<span style="color:#666">=&gt;</span>’adminhtml’));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$adminsession</span><span style="color:#666">-&gt;</span><span style="color:#b44">isLoggedIn</span>()) {  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> “Welcome Admin”;  
</span></span><span style="display:flex;"><span>} <span style="color:#a2f;font-weight:bold">else</span> {  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> “Not logged in”;  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
]]></content:encoded>
    </item>
    <item>
      <title>Magento get file paths and URLs</title>
      <link>http://localhost:1313/magento-get-file-paths-and-urls/</link>
      <pubDate>Tue, 14 Jun 2011 11:45:15 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-file-paths-and-urls/</guid>
      <description>&lt;p&gt;Get URL paths of your magento folder structure – Absolute URL Path&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mage::getBaseUrl()&lt;/strong&gt; =&amp;gt; Gets base url path e.g. &lt;a href=&#34;http://my.website.com/&#34;&gt;http://my.website.com/&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mage::getBaseUrl(‘media’&lt;/strong&gt;) =&amp;gt; Gets MEDIA folder path e.g. &lt;a href=&#34;http://my.website.com/media/&#34;&gt;http://my.website.com/media/&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mage::getBaseUrl(‘js’)&lt;/strong&gt; =&amp;gt; Gets JS folder path e.g. &lt;a href=&#34;http://my.website.com/js/&#34;&gt;http://my.website.com/js/&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mage::getBaseUrl(‘skin’)&lt;/strong&gt; =&amp;gt; Gets SKIN folder path e.g. &lt;a href=&#34;http://my.website.com/skin/&#34;&gt;http://my.website.com/skin/&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Get DIRECTORY paths (physical location of your folders on the server) – Relative URL Path&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mage::getBaseDir()&lt;/strong&gt; =&amp;gt; Gives you your Magento installation folder / root folder e.g. /home/kalpesh/workspace/magento&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mage::getBaseDir(‘app’)&lt;/strong&gt; =&amp;gt; Gives you your Magento’s APP directory file location e.g. /home/kalpesh/workspace/magento/app&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Get URL paths of your magento folder structure – Absolute URL Path</p>
<p><strong>Mage::getBaseUrl()</strong> =&gt; Gets base url path e.g. <a href="http://my.website.com/">http://my.website.com/</a></p>
<p><strong>Mage::getBaseUrl(‘media’</strong>) =&gt; Gets MEDIA folder path e.g. <a href="http://my.website.com/media/">http://my.website.com/media/</a></p>
<p><strong>Mage::getBaseUrl(‘js’)</strong> =&gt; Gets JS folder path e.g. <a href="http://my.website.com/js/">http://my.website.com/js/</a></p>
<p><strong>Mage::getBaseUrl(‘skin’)</strong> =&gt; Gets SKIN folder path e.g. <a href="http://my.website.com/skin/">http://my.website.com/skin/</a></p>
<p>Get DIRECTORY paths (physical location of your folders on the server) – Relative URL Path</p>
<p><strong>Mage::getBaseDir()</strong> =&gt; Gives you your Magento installation folder / root folder e.g. /home/kalpesh/workspace/magento</p>
<p><strong>Mage::getBaseDir(‘app’)</strong> =&gt; Gives you your Magento’s APP directory file location e.g. /home/kalpesh/workspace/magento/app</p>
<p><strong>Mage::getBaseDir(‘design’)</strong> =&gt; Gives you your Magento’s DESIGN directory file location e.g. /home/kalpesh/workspace/magento/design</p>
<p><strong>Mage::getBaseDir(‘media’)</strong> =&gt; Gives MEDIA directory file path</p>
<p><strong>Mage::getBaseDir(‘code’)</strong> =&gt; Gives CODE directory file path</p>
<p><strong>Mage::getBaseDir(‘lib’)</strong> =&gt; Gives LIB directory file path</p>
<p>Get Current URL – whole URL path</p>
<p><strong>Mage::helper(‘core/url’)-&gt;getCurrentUrl()</strong></p>
]]></content:encoded>
    </item>
    <item>
      <title>Override/Rewrite Magento core blocks and controllers</title>
      <link>http://localhost:1313/override/rewrite-magento-core-blocks-and-controllers/</link>
      <pubDate>Wed, 08 Jun 2011 06:23:16 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/override/rewrite-magento-core-blocks-and-controllers/</guid>
      <description>&lt;p&gt;After spending many hours in rewriting block and controller of Magento core module, I finally came up with a solution.&lt;br&gt;&#xA;Here I am going to rewrite block: &lt;strong&gt;Mage/Adminhtml/Block/Sales/Shipment/Grid.php&lt;/strong&gt;&lt;br&gt;&#xA;and controller: &lt;strong&gt;Mage/Adminhtml/controllers/Sales/ShipmentController.php&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;First you will need to make a xml file for your new module at app/etc/modules directory&lt;br&gt;&#xA;&lt;strong&gt;CompanyName_Adminhtml.xml&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;lt;?&lt;/span&gt;xml version&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;&amp;#34;1.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;?&lt;/span&gt;&lt;span style=&#34;color:#080&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt;&amp;lt;config&amp;gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt; &amp;lt;modules&amp;gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt; &amp;lt;companyname_adminhtml&amp;gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt; &amp;lt;active&amp;gt;true&amp;lt;/active&amp;gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt; &amp;lt;codepool&amp;gt;local&amp;lt;/codepool&amp;gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt; &amp;lt;/companyname_adminhtml&amp;gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt; &amp;lt;/modules&amp;gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt;&amp;lt;/config&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&lt;p&gt;Then, make folders in your app/code/local directory as follows:&lt;br&gt;&#xA;– CompanyName&lt;br&gt;&#xA;-&amp;gt; Block&lt;br&gt;&#xA;—&amp;gt; Sales&lt;br&gt;&#xA;—-&amp;gt; Shipment&lt;br&gt;&#xA;——&amp;gt; Grid.php&lt;br&gt;&#xA;-&amp;gt; controllers&lt;br&gt;&#xA;—&amp;gt; Sales&lt;br&gt;&#xA;—-&amp;gt; ShipmentController.php&lt;br&gt;&#xA;-&amp;gt; etc&lt;br&gt;&#xA;—&amp;gt; config.xml&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>After spending many hours in rewriting block and controller of Magento core module, I finally came up with a solution.<br>
Here I am going to rewrite block: <strong>Mage/Adminhtml/Block/Sales/Shipment/Grid.php</strong><br>
and controller: <strong>Mage/Adminhtml/controllers/Sales/ShipmentController.php</strong></p>
<p>First you will need to make a xml file for your new module at app/etc/modules directory<br>
<strong>CompanyName_Adminhtml.xml</strong></p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>xml version<span style="color:#666">=</span><span style="color:#b44">&#34;1.0&#34;</span><span style="color:#666">?</span><span style="color:#080">?&gt;</span><span style="">
</span></span></span><span style="display:flex;"><span><span style="">  
</span></span></span><span style="display:flex;"><span><span style="">&lt;config&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;modules&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;companyname_adminhtml&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;active&gt;true&lt;/active&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;codepool&gt;local&lt;/codepool&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/companyname_adminhtml&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/modules&gt;  
</span></span></span><span style="display:flex;"><span><span style="">&lt;/config&gt;
</span></span></span></code></pre></div>
<p>Then, make folders in your app/code/local directory as follows:<br>
– CompanyName<br>
-&gt; Block<br>
—&gt; Sales<br>
—-&gt; Shipment<br>
——&gt; Grid.php<br>
-&gt; controllers<br>
—&gt; Sales<br>
—-&gt; ShipmentController.php<br>
-&gt; etc<br>
—&gt; config.xml</p>
<p>In <strong>etc/config.xml</strong>, your code should look like below:</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>xml version<span style="color:#666">=</span><span style="color:#b44">&#34;1.0&#34;</span><span style="color:#666">?</span><span style="color:#080">?&gt;</span><span style="">
</span></span></span><span style="display:flex;"><span><span style="">  
</span></span></span><span style="display:flex;"><span><span style="">&lt;config&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;modules&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;companyname_adminhtml&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;version&gt;0.1.0&lt;/version&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/companyname_adminhtml&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/modules&gt;&lt;/config&gt;
</span></span></span><span style="display:flex;"><span><span style="">
</span></span></span><span style="display:flex;"><span><span style=""> &lt;global&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;blocks&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;adminhtml&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;rewrite&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;sales_shipment_grid&gt;CompanyName_Adminhtml_Block_Sales_Shipment_Grid&lt;/sales_shipment_grid&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/rewrite&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/adminhtml&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/blocks&gt;&lt;/global&gt;
</span></span></span><span style="display:flex;"><span><span style="">
</span></span></span><span style="display:flex;"><span><span style=""> &lt;routers&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;adminhtml&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;rewrite&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;sales_shipment&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;from&gt;&lt;![CDATA[#^/admin/sales_shipment/$#]]&gt;&lt;/from&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;to&gt;/admin/sales_shipment/&lt;/to&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/sales_shipment&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/rewrite&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/adminhtml&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/routers&gt;
</span></span></span><span style="display:flex;"><span><span style="">
</span></span></span><span style="display:flex;"><span><span style=""> &lt;admin&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;routers&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;adminhtml&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;args&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;modules&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;companyname_adminhtml before=&#34;Mage_Adminhtml&#34;&gt;CompanyName_Adminhtml&lt;/companyname_adminhtml&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/modules&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/args&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/adminhtml&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/routers&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/admin&gt;
</span></span></span><span style="display:flex;"><span><span style="">
</span></span></span><span style="display:flex;"><span><span style="">  
</span></span></span></code></pre></div>
<p>In <strong>ShipmentController.php</strong>, you should start like this:</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">require_once</span>(“Mage<span style="color:#666">/</span>Adminhtml<span style="color:#666">/</span>controllers<span style="color:#666">/</span>Sales<span style="color:#666">/</span>ShipmentController<span style="color:#666">.</span>php”);  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">CompanyName_Adminhtml_Sales_ShipmentController</span> <span style="color:#a2f;font-weight:bold">extends</span> Mage_Adminhtml_Sales_ShipmentController  
</span></span><span style="display:flex;"><span>{  
</span></span><span style="display:flex;"><span> <span style="color:#080;font-style:italic">//controller methods goes here..  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}</span></span></code></pre></div>
<p>require_once is necessary as magento is not going to load controllers as it does for blocks and models</p>
<p>In block <strong>Grid.php</strong>, start the file like below:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">CompanyName_Adminhtml_Block_Sales_Shipment_Grid</span> <span style="color:#a2f;font-weight:bold">extends</span> Mage_Adminhtml_Block_Widget_Grid  
</span></span><span style="display:flex;"><span>{  
</span></span><span style="display:flex;"><span> <span style="color:#080;font-style:italic">// block methods goes here..  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}</span></span></code></pre></div></p>
<p>That’s it! Now you should get your local Grid.php and ShipmentController.php loading instead of core’s.</p>
]]></content:encoded>
    </item>
  </channel>
</rss>
