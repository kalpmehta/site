<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Wp Customer Reviews Total Aggregate Ratings Reviews on KALPESH MEHTA</title>
    <link>http://localhost:1313/blog/wp-customer-reviews-total-aggregate-ratings-reviews/</link>
    <description>Recent content in Wp Customer Reviews Total Aggregate Ratings Reviews on KALPESH MEHTA</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    <managingEditor>k@lpe.sh (Kalpesh Mehta)</managingEditor>
    <webMaster>k@lpe.sh (Kalpesh Mehta)</webMaster>
    <copyright>Copyright © 2025 kalpesh mehta</copyright>
    <lastBuildDate>Mon, 22 Oct 2012 15:07:22 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/blog/wp-customer-reviews-total-aggregate-ratings-reviews/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>WordPress: Show total/aggregate ratings and reviews to your posts/pages</title>
      <link>http://localhost:1313/wordpress-show-total/aggregate-ratings-and-reviews-to-your-posts/pages/</link>
      <pubDate>Mon, 22 Oct 2012 15:07:22 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/wordpress-show-total/aggregate-ratings-and-reviews-to-your-posts/pages/</guid>
      <description>&lt;p&gt;After struggling for finding the way to show aggregate ratings and total number of reviews for the wordpress plugin WP Customer Reviews, I wrote it myself by studying their code. There has been several requests for this feature in their support page and around but they didn’t seem to be interested or didn’t got enough time to wrote this.&lt;/p&gt;&#xA;&lt;p&gt;Okay, so for all the people who have been struggling to get total and/or aggregate number of ratings and reviews, here is the code that can work on any page/post.&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;global&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$wpdb&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$pId&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$post&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;ID&lt;/span&gt;; &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//if using in another page, use the ID of the post/page you want to show ratings for.  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$row&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$wpdb&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;get_results&lt;/span&gt;(“SELECT COUNT(&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;) &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;AS&lt;/span&gt; &lt;span style=&#34;color:#b44&#34;&gt;`total`&lt;/span&gt;,AVG(review_rating) &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;AS&lt;/span&gt; &lt;span style=&#34;color:#b44&#34;&gt;`aggregate_rating`&lt;/span&gt;,MAX(review_rating) &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;AS&lt;/span&gt; &lt;span style=&#34;color:#b44&#34;&gt;`max_rating`&lt;/span&gt; FROM wp_wpcreviews WHERE &lt;span style=&#34;color:#b44&#34;&gt;`page_id`&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$pId&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;AND&lt;/span&gt; &lt;span style=&#34;color:#b44&#34;&gt;`status`&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;”);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$max_rating&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$row&lt;/span&gt;[&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;]&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;max_rating&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$aggregate_rating&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$row&lt;/span&gt;[&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;]&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;aggregate_rating&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$total_reviews&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$row&lt;/span&gt;[&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;]&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;total&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$totl&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$aggregate_rating&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;20&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$wpdb&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;flush&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>After struggling for finding the way to show aggregate ratings and total number of reviews for the wordpress plugin WP Customer Reviews, I wrote it myself by studying their code. There has been several requests for this feature in their support page and around but they didn’t seem to be interested or didn’t got enough time to wrote this.</p>
<p>Okay, so for all the people who have been struggling to get total and/or aggregate number of ratings and reviews, here is the code that can work on any page/post.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">global</span> <span style="color:#b8860b">$wpdb</span>;  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$pId</span> <span style="color:#666">=</span> <span style="color:#b8860b">$post</span><span style="color:#666">-&gt;</span><span style="color:#b44">ID</span>; <span style="color:#080;font-style:italic">//if using in another page, use the ID of the post/page you want to show ratings for.  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#b8860b">$row</span> <span style="color:#666">=</span> <span style="color:#b8860b">$wpdb</span><span style="color:#666">-&gt;</span><span style="color:#b44">get_results</span>(“SELECT COUNT(<span style="color:#666">*</span>) <span style="color:#a2f;font-weight:bold">AS</span> <span style="color:#b44">`total`</span>,AVG(review_rating) <span style="color:#a2f;font-weight:bold">AS</span> <span style="color:#b44">`aggregate_rating`</span>,MAX(review_rating) <span style="color:#a2f;font-weight:bold">AS</span> <span style="color:#b44">`max_rating`</span> FROM wp_wpcreviews WHERE <span style="color:#b44">`page_id`</span><span style="color:#666">=</span> <span style="color:#b8860b">$pId</span> <span style="color:#a2f;font-weight:bold">AND</span> <span style="color:#b44">`status`</span><span style="color:#666">=</span><span style="color:#666">1</span>”);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$max_rating</span> <span style="color:#666">=</span> <span style="color:#b8860b">$row</span>[<span style="color:#666">0</span>]<span style="color:#666">-&gt;</span><span style="color:#b44">max_rating</span>;  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$aggregate_rating</span> <span style="color:#666">=</span> <span style="color:#b8860b">$row</span>[<span style="color:#666">0</span>]<span style="color:#666">-&gt;</span><span style="color:#b44">aggregate_rating</span>;  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$total_reviews</span> <span style="color:#666">=</span> <span style="color:#b8860b">$row</span>[<span style="color:#666">0</span>]<span style="color:#666">-&gt;</span><span style="color:#b44">total</span>;  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$totl</span> <span style="color:#666">=</span> <span style="color:#b8860b">$aggregate_rating</span> <span style="color:#666">*</span> <span style="color:#666">20</span>;  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$wpdb</span><span style="color:#666">-&gt;</span><span style="color:#b44">flush</span>();</span></span></code></pre></div></p>
<p>To show aggregate ratings in star form, simply add this:<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#008000;font-weight:bold">div</span> <span style="color:#b44">class</span><span style="color:#666">=</span><span style="color:#b44">&#34;sp_rating&#34;</span> <span style="color:#b44">id</span><span style="color:#666">=</span><span style="color:#b44">&#34;wpcr_respond_1&#34;</span>&gt;&lt;<span style="color:#008000;font-weight:bold">div</span> <span style="color:#b44">class</span><span style="color:#666">=</span><span style="color:#b44">&#34;base&#34;</span>&gt;&lt;<span style="color:#008000;font-weight:bold">div</span> <span style="color:#b44">style</span><span style="color:#666">=</span><span style="color:#b44">&#34;width:</span> <span style="">&lt;?</span><span style="color:#b44">php</span> <span style="color:#b44">echo</span> <span style="">$</span><span style="color:#b44">totl</span><span style="">;?</span>&gt;%” class=”average”&gt;&lt;/<span style="color:#008000;font-weight:bold">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#008000;font-weight:bold">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#008000;font-weight:bold">p</span>&gt;<span style="color:#080">&lt;?php echo &#39; &#39; . $total_reviews;?&gt;</span> Reviews&lt;/<span style="color:#008000;font-weight:bold">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#008000;font-weight:bold">p</span>&gt;</span></span></code></pre></div><!-- raw HTML omitted -->
<!-- raw HTML omitted -->Note: In the above code, please check the formatting of PHP tags, sometimes it’s just not formatted proper and as a result there will be wrong ratings displayed.<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
]]></content:encoded>
    </item>
  </channel>
</rss>
