<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Category on KALPESH MEHTA</title>
    <link>http://localhost:1313/blog/category/</link>
    <description>Recent content in Category on KALPESH MEHTA</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    <managingEditor>k@lpe.sh (Kalpesh Mehta)</managingEditor>
    <webMaster>k@lpe.sh (Kalpesh Mehta)</webMaster>
    <copyright>Copyright © 2025 kalpesh mehta</copyright>
    <lastBuildDate>Mon, 23 Mar 2015 18:46:40 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/blog/category/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Magento: Change canonical URL for particular category only</title>
      <link>http://localhost:1313/magento-change-canonical-url-for-particular-category-only/</link>
      <pubDate>Mon, 23 Mar 2015 18:46:40 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-change-canonical-url-for-particular-category-only/</guid>
      <description>&lt;p&gt;In Magento, if you want to change canonical URL for just one category or quite a few categories, and don’t want to affect rest of the canonical URLs then do the following.&lt;/p&gt;&#xA;&lt;p&gt;Note that this is helpful when you already have canonical URL in the page and want to REPLACE it with new url. If you don’t have canonical URL at all then you might want to ignore the first &lt;em&gt;action&lt;/em&gt; tag in the below code.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>In Magento, if you want to change canonical URL for just one category or quite a few categories, and don’t want to affect rest of the canonical URLs then do the following.</p>
<p>Note that this is helpful when you already have canonical URL in the page and want to REPLACE it with new url. If you don’t have canonical URL at all then you might want to ignore the first <em>action</em> tag in the below code.</p>
<p>– Go to the category page you want to change canonical URL in Magento Admin<br>
– Click the tab “Custom Design”<br>
– In the Custom Layout Update textbox, paste this:</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;reference</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;head&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;action</span> <span style="color:#b44">block=</span><span style="color:#b44">&#34;head&#34;</span> <span style="color:#b44">method=</span><span style="color:#b44">&#34;removeItem&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;item&gt;</span>link_rel<span style="color:#008000;font-weight:bold">&lt;/item&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;name&gt;</span>http://loca.lho.st/old-canonical-url<span style="color:#008000;font-weight:bold">&lt;/name&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/action&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;action</span> <span style="color:#b44">method=</span><span style="color:#b44">&#34;addLinkRel&#34;</span> <span style="color:#b44">translate=</span><span style="color:#b44">&#34;title&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;rel&gt;</span>canonical<span style="color:#008000;font-weight:bold">&lt;/rel&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;href&gt;</span>http://loca.lho.st/new-canonical-url<span style="color:#008000;font-weight:bold">&lt;/href&gt;</span> <span style="color:#008000;font-weight:bold">&lt;/action&gt;</span>  
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/reference&gt;</span></span></span></code></pre></div>
<p>Change <em><a href="http://loca.lho.st/old-canonical-url">http://loca.lho.st/old-canonical-url</a></em> and <em><a href="http://loca.lho.st/new-canonical-url">http://loca.lho.st/new-canonical-url</a></em> with your desired URLs and save the category.</p>
<p>Basically first <em>action</em> tag in the code removes old canonical URL and second <em>action</em> tag adds the canonical URL with the new value you specify.</p>
<p>You may also need to clear cache.</p>
<p>HTH!</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento: Get all category and subcategory products</title>
      <link>http://localhost:1313/magento-get-all-category-and-subcategory-products/</link>
      <pubDate>Thu, 06 Nov 2014 20:37:45 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-all-category-and-subcategory-products/</guid>
      <description>&lt;p&gt;Magento get all category and subcategory products which are assigned to categories at different levels. Below script will show you all the categories, and all the associated product names under each of those categories.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;lt;?&lt;/span&gt;php &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;require_once&lt;/span&gt;(&lt;span style=&#34;color:#b44&#34;&gt;&amp;#39;app/Mage.php&amp;#39;&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;umask(&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;app&lt;/span&gt;(&lt;span style=&#34;color:#b44&#34;&gt;&amp;#39;admin&amp;#39;&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;set_time_limit(&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$category&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(&lt;span style=&#34;color:#b44&#34;&gt;&amp;#39;catalog/category&amp;#39;&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$tree&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$category&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getTreeModel&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$tree&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;load&lt;/span&gt;();&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$ids&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$tree&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getCollection&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getAllIds&lt;/span&gt;();&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#b8860b&#34;&gt;$ids&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt; (&lt;span style=&#34;color:#b8860b&#34;&gt;$ids&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$id&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$cat&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘catalog&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;category’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$cat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;load&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$id&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$cat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getLevel&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;3&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;&amp;amp;&lt;/span&gt;amp;&lt;span style=&#34;color:#666&#34;&gt;&amp;amp;&lt;/span&gt;amp; &lt;span style=&#34;color:#b8860b&#34;&gt;$cat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getIsActive&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$category1&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘catalog&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;category’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;load&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$cat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getId&lt;/span&gt;());  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$products&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getResourceModel&lt;/span&gt;(‘catalog&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;product_collection’)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addAttributeToSelect&lt;/span&gt;(‘name’)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addCategoryFilter&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$category1&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; “&lt;span style=&#34;color:#666&#34;&gt;**&lt;/span&gt;“&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$cat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getName&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;”&lt;span style=&#34;color:#666&#34;&gt;**&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;“;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt; (&lt;span style=&#34;color:#b8860b&#34;&gt;$products&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;) { &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//print_r($product-&amp;gt;getData());exit;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; ” ” &lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getName&lt;/span&gt;() &lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; ” – “&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getSku&lt;/span&gt;() &lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt; “  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;“;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&lt;p&gt;Note the line which checks category getLevel()==3, you can change this line to get different subcategory levels by adjusting it.&lt;br&gt;&#xA;For root category, getLevel() should be 1.&lt;br&gt;&#xA;For all the main/primary categories, getLevel() should be 2.&lt;br&gt;&#xA;For all the subcategories, getLevel() should be 3.&lt;br&gt;&#xA;For all the subsubcategories, getLevel() should be 4.&lt;br&gt;&#xA;and so on…&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento get all category and subcategory products which are assigned to categories at different levels. Below script will show you all the categories, and all the associated product names under each of those categories.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php <span style="color:#a2f;font-weight:bold">require_once</span>(<span style="color:#b44">&#39;app/Mage.php&#39;</span>);
</span></span><span style="display:flex;"><span>umask(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">app</span>(<span style="color:#b44">&#39;admin&#39;</span>);
</span></span><span style="display:flex;"><span>set_time_limit(<span style="color:#666">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$category</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(<span style="color:#b44">&#39;catalog/category&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$tree</span> <span style="color:#666">=</span> <span style="color:#b8860b">$category</span><span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">getTreeModel</span>();  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$tree</span><span style="color:#666">-&gt;</span><span style="color:#b44">load</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$ids</span> <span style="color:#666">=</span> <span style="color:#b8860b">$tree</span><span style="color:#666">-&gt;</span><span style="color:#b44">getCollection</span>()<span style="color:#666">-&gt;</span><span style="color:#b44">getAllIds</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#b8860b">$ids</span>)  
</span></span><span style="display:flex;"><span>{  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">foreach</span> (<span style="color:#b8860b">$ids</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$id</span>)  
</span></span><span style="display:flex;"><span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$cat</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>category’);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$cat</span><span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$id</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$cat</span><span style="color:#666">-&gt;</span><span style="color:#b44">getLevel</span>()<span style="color:#666">==</span><span style="color:#666">3</span> <span style="color:#666">&amp;</span>amp;<span style="color:#666">&amp;</span>amp; <span style="color:#b8860b">$cat</span><span style="color:#666">-&gt;</span><span style="color:#b44">getIsActive</span>()<span style="color:#666">==</span><span style="color:#666">1</span>)  
</span></span><span style="display:flex;"><span> {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$category1</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>category’)<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$cat</span><span style="color:#666">-&gt;</span><span style="color:#b44">getId</span>());  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$products</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getResourceModel</span>(‘catalog<span style="color:#666">/</span>product_collection’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToSelect</span>(‘name’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addCategoryFilter</span>(<span style="color:#b8860b">$category1</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">echo</span> “<span style="color:#666">**</span>“<span style="color:#666">.</span><span style="color:#b8860b">$cat</span><span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>()<span style="color:#666">.</span>”<span style="color:#666">**</span>  
</span></span><span style="display:flex;"><span>“;  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">foreach</span> (<span style="color:#b8860b">$products</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$product</span>) { <span style="color:#080;font-style:italic">//print_r($product-&gt;getData());exit;  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#a2f;font-weight:bold">echo</span> ” ” <span style="color:#666">.</span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>() <span style="color:#666">.</span> ” – “<span style="color:#666">.</span> <span style="color:#b8860b">$product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getSku</span>() <span style="color:#666">.</span> “  
</span></span><span style="display:flex;"><span>“;  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span>}  
</span></span><span style="display:flex;"><span><span style="color:#080">?&gt;</span><span style="">
</span></span></span></code></pre></div>
<p>Note the line which checks category getLevel()==3, you can change this line to get different subcategory levels by adjusting it.<br>
For root category, getLevel() should be 1.<br>
For all the main/primary categories, getLevel() should be 2.<br>
For all the subcategories, getLevel() should be 3.<br>
For all the subsubcategories, getLevel() should be 4.<br>
and so on…</p>
<p>Above script will get you all the category and subcategories products, products assigned to each and every categories of your store.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento display categories and sub-categories</title>
      <link>http://localhost:1313/magento-display-categories-and-sub-categories/</link>
      <pubDate>Sun, 05 Jan 2014 14:40:21 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-display-categories-and-sub-categories/</guid>
      <description>&lt;p&gt;Magento display categories and sub-categories. Below code will show all the parent and child categories along with show/hide functionalities by jQuery.&lt;/p&gt;&#xA;&lt;p&gt;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;lt;div class=&amp;#34;block block-layered-nav&amp;#34;&amp;gt;&amp;lt;div class=&amp;#34;block-title&amp;#34;&amp;gt; **&amp;lt;span&amp;gt;&amp;lt;?php echo $this-&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;__(‘Shop By Category’) ?&amp;gt;&amp;lt;/span&amp;gt;** &amp;lt;/div&amp;gt;&amp;lt;div class=&amp;#34;block-content&amp;#34;&amp;gt; &amp;lt;?php $productid = Mage::registry(&amp;#39;current_product&amp;#39;)-&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;getId();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; $product = Mage::getSingleton(‘catalog/product’)-&amp;gt;load($productid);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; $parentIds = $product-&amp;gt;getCategoryIds();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; $parentId = $parentIds[0];  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; $_categories = Mage::getBlockSingleton(‘catalog/navigation’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; foreach ($_categories-&amp;gt;getStoreCategories() as $_category) {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; $category = Mage::getModel(‘catalog/category’);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; $category-&amp;gt;load($_category-&amp;gt;getId());  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; $subcategories = explode(‘,’, $category-&amp;gt;getChildren());  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; if(!in_array($_category-&amp;gt;getId(),$parentIds)) { $hide=”display:none”; $inactive=”inactive”; } else { $hide=””; $inactive=”active”; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; ?&amp;gt; &amp;lt;div style=&amp;#34;padding:5px 5px 0px 10px&amp;#34;&amp;gt;&amp;lt;div child=&amp;#34;&amp;#34; class=&amp;#34;cat parent &amp;lt;?php echo $inactive;?&amp;gt;” style=”font-size:15px”&amp;gt;&amp;lt;?php echo $_category-&amp;gt;getName() ?&amp;gt;&amp;lt;/div&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;lt;div class=&amp;#34; style=&amp;#34;&amp;lt;?php echo $hide;?&amp;gt;“&amp;gt;&amp;lt;br /&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;                         &amp;lt;?php foreach ($subcategories as $subcategoryId) {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;                                $category-&amp;gt;load($subcategoryId);&amp;lt;br /&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;                                if($category-&amp;gt;getChildren() == ”) {&amp;lt;br /&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;                                        if(in_array($subcategoryId,$parentIds)) { $bold = “font-weight:bold”; } else { $bold = “”; }&amp;lt;br /&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;                                      echo ‘&amp;lt;/p&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;lt;div class=&amp;#34; subcat=&amp;#34;&amp;#34;&amp;gt;[&amp;lt;div class=&amp;#34;parent active&amp;#34;&amp;gt;&amp;lt;?php echo $category-&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;getName() ?&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&amp;#34;child&amp;#34;&amp;gt; &amp;lt;?php $subsubcategories = explode(&amp;#39;,&amp;#39;, $category-&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;getChildren());  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; foreach($subsubcategories as $subsubcatid) {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; if(in_array($subsubcatid, $parentIds)) { $bold = “font-weight:bold”; } else { $bold = “”; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; $category-&amp;gt;load($subsubcatid);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt; echo ‘ &amp;lt;div style=&amp;#34;padding-left:10px;&amp;#39;.$bold.&amp;#39;&amp;#34;&amp;gt;[ jQuery(&amp;#39;.block-content .cat&amp;#39;).click(function(){ var t = jQuery(this); if(jQuery(this).next().css(&amp;#39;display&amp;#39;)==&amp;#39;none&amp;#39;) { jQuery(&amp;#39;.col-left .block-content .child&amp;#39;).hide(); t.next().show(); t.next().find(&amp;#39;div.child&amp;#39;).show(&amp;#34;slow&amp;#34;); } else { t.next().hide(); t.next().find(&amp;#39;div.child&amp;#39;).hide(&amp;#34;slow&amp;#34;); } }); &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt; ](&amp;lt;&amp;rsquo; . $category-&amp;gt;getURL() . ‘”&amp;gt;’ . $category-&amp;gt;getName() . ‘&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Magento display categories and sub-categories. Below code will show all the parent and child categories along with show/hide functionalities by jQuery.</p>
<p>



<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> 
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">&lt;div class=&#34;block block-layered-nav&#34;&gt;&lt;div class=&#34;block-title&#34;&gt; **&lt;span&gt;&lt;?php echo $this-&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">__(‘Shop By Category’) ?&gt;&lt;/span&gt;** &lt;/div&gt;&lt;div class=&#34;block-content&#34;&gt; &lt;?php $productid = Mage::registry(&#39;current_product&#39;)-&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">getId();  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> $product = Mage::getSingleton(‘catalog/product’)-&gt;load($productid);  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> $parentIds = $product-&gt;getCategoryIds();  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> $parentId = $parentIds[0];  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> $_categories = Mage::getBlockSingleton(‘catalog/navigation’);  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> foreach ($_categories-&gt;getStoreCategories() as $_category) {  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> $category = Mage::getModel(‘catalog/category’);  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> $category-&gt;load($_category-&gt;getId());  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> $subcategories = explode(‘,’, $category-&gt;getChildren());  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> if(!in_array($_category-&gt;getId(),$parentIds)) { $hide=”display:none”; $inactive=”inactive”; } else { $hide=””; $inactive=”active”; }  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> ?&gt; &lt;div style=&#34;padding:5px 5px 0px 10px&#34;&gt;&lt;div child=&#34;&#34; class=&#34;cat parent &lt;?php echo $inactive;?&gt;” style=”font-size:15px”&gt;&lt;?php echo $_category-&gt;getName() ?&gt;&lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">&lt;div class=&#34; style=&#34;&lt;?php echo $hide;?&gt;“&gt;&lt;br /&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                         &lt;?php foreach ($subcategories as $subcategoryId) {
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                                $category-&gt;load($subcategoryId);&lt;br /&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                                if($category-&gt;getChildren() == ”) {&lt;br /&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                                        if(in_array($subcategoryId,$parentIds)) { $bold = “font-weight:bold”; } else { $bold = “”; }&lt;br /&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                                      echo ‘&lt;/p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">&lt;div class=&#34; subcat=&#34;&#34;&gt;[&lt;div class=&#34;parent active&#34;&gt;&lt;?php echo $category-&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">getName() ?&gt;&lt;/div&gt;&lt;div class=&#34;child&#34;&gt; &lt;?php $subsubcategories = explode(&#39;,&#39;, $category-&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">getChildren());  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> foreach($subsubcategories as $subsubcatid) {  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> if(in_array($subsubcatid, $parentIds)) { $bold = “font-weight:bold”; } else { $bold = “”; }  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> $category-&gt;load($subsubcatid);  
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"> echo ‘ &lt;div style=&#34;padding-left:10px;&#39;.$bold.&#39;&#34;&gt;[ jQuery(&#39;.block-content .cat&#39;).click(function(){ var t = jQuery(this); if(jQuery(this).next().css(&#39;display&#39;)==&#39;none&#39;) { jQuery(&#39;.col-left .block-content .child&#39;).hide(); t.next().show(); t.next().find(&#39;div.child&#39;).show(&#34;slow&#34;); } else { t.next().hide(); t.next().find(&#39;div.child&#39;).hide(&#34;slow&#34;); } }); </span></span></span></code></pre></div> ](&lt;&rsquo; . $category-&gt;getURL() . ‘”&gt;’ . $category-&gt;getName() . ‘<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<pre><code>    } ?&gt;
&lt;/div&gt;
</code></pre>
<!-- raw HTML omitted -->
]]></content:encoded>
    </item>
    <item>
      <title>Magento delete empty categories and sub-categories</title>
      <link>http://localhost:1313/magento-delete-empty-categories-and-sub-categories/</link>
      <pubDate>Sat, 17 Aug 2013 14:36:45 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-delete-empty-categories-and-sub-categories/</guid>
      <description>&lt;p&gt;Remove all empty categories and sub-categories in Magento. When there are empty categories, the website shows empty page in those categories in frontend. Create a file in the magento root, I will name it rmvEmptyCats.php, with following code:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;require&lt;/span&gt; “app&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;Mage&lt;span style=&#34;color:#666&#34;&gt;.&lt;/span&gt;php”;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;umask(&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;app&lt;/span&gt;();&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$categoryCollection&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘catalog&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;category’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getCollection&lt;/span&gt;()  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addFieldToFilter&lt;/span&gt;(‘level’, &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;(‘gteq’ &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;2&lt;/span&gt;)); &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//greater than root category id&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$categoryCollection&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$category&lt;/span&gt;) {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#b8860b&#34;&gt;$category&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getProductCount&lt;/span&gt;() &lt;span style=&#34;color:#666&#34;&gt;===&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;) {  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$category&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;delete&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;echo&lt;/span&gt; ‘Empty Categories Deleted&lt;span style=&#34;color:#666&#34;&gt;!&lt;/span&gt;’;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&lt;p&gt;Now you can easily run it by navigating to &lt;a href=&#34;http://loca.lho.st/rmvEmptyCats.php&#34;&gt;http://loca.lho.st/rmvEmptyCats.php&lt;/a&gt; and wait for the message Empty Categories Deleted!&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Remove all empty categories and sub-categories in Magento. When there are empty categories, the website shows empty page in those categories in frontend. Create a file in the magento root, I will name it rmvEmptyCats.php, with following code:</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">require</span> “app<span style="color:#666">/</span>Mage<span style="color:#666">.</span>php”;  
</span></span><span style="display:flex;"><span>umask(<span style="color:#666">0</span>);  
</span></span><span style="display:flex;"><span>Mage<span style="color:#666">::</span><span style="color:#b44">app</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$categoryCollection</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>category’)<span style="color:#666">-&gt;</span><span style="color:#b44">getCollection</span>()  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addFieldToFilter</span>(‘level’, <span style="color:#a2f;font-weight:bold">array</span>(‘gteq’ <span style="color:#666">=&gt;</span> <span style="color:#666">2</span>)); <span style="color:#080;font-style:italic">//greater than root category id
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$categoryCollection</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$category</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span> (<span style="color:#b8860b">$category</span><span style="color:#666">-&gt;</span><span style="color:#b44">getProductCount</span>() <span style="color:#666">===</span> <span style="color:#666">0</span>) {  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$category</span><span style="color:#666">-&gt;</span><span style="color:#b44">delete</span>();  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">echo</span> ‘Empty Categories Deleted<span style="color:#666">!</span>’;</span></span></code></pre></div>
<p>Now you can easily run it by navigating to <a href="http://loca.lho.st/rmvEmptyCats.php">http://loca.lho.st/rmvEmptyCats.php</a> and wait for the message Empty Categories Deleted!</p>
<p>Note that this is going to DELETE those categories with zero product count.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento get all categories of a product</title>
      <link>http://localhost:1313/magento-get-all-categories-of-a-product/</link>
      <pubDate>Sun, 21 Jul 2013 15:44:40 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-all-categories-of-a-product/</guid>
      <description>&lt;p&gt;Get all the categories a product belongs to in Magento. Below code will get you all the categories with details the product is attached to. Product can be shown under more than one category, so you may get more than one category ID. Either get the category collection from product, or get all the category IDs and then load them using catalog category collection model.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//$_product = Mage::getModel(‘catalog/product’)-&amp;gt;load($productID);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&lt;p&gt;First way,&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$catCollection&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$_product&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getCategoryCollection&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$catCollection&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$cat&lt;/span&gt;){  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; print_r(&lt;span style=&#34;color:#b8860b&#34;&gt;$cat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getData&lt;/span&gt;());  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//echo $cat-&amp;gt;getName();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt; &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//echo $cat-&amp;gt;getUrl();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Get all the categories a product belongs to in Magento. Below code will get you all the categories with details the product is attached to. Product can be shown under more than one category, so you may get more than one category ID. Either get the category collection from product, or get all the category IDs and then load them using catalog category collection model.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#080;font-style:italic">//$_product = Mage::getModel(‘catalog/product’)-&gt;load($productID);
</span></span></span></code></pre></div>
<p>First way,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$catCollection</span> <span style="color:#666">=</span> <span style="color:#b8860b">$_product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getCategoryCollection</span>();  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$catCollection</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$cat</span>){  
</span></span><span style="display:flex;"><span> print_r(<span style="color:#b8860b">$cat</span><span style="color:#666">-&gt;</span><span style="color:#b44">getData</span>());  
</span></span><span style="display:flex;"><span> <span style="color:#080;font-style:italic">//echo $cat-&gt;getName();  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#080;font-style:italic">//echo $cat-&gt;getUrl();  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}</span></span></code></pre></div></p>
<p>Another way,<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$catIds</span> <span style="color:#666">=</span> <span style="color:#b8860b">$_product</span><span style="color:#666">-&gt;</span><span style="color:#b44">getCategoryIds</span>();  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$catCollection</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getResourceModel</span>(‘catalog<span style="color:#666">/</span>category_collection’)  
</span></span><span style="display:flex;"><span> <span style="color:#080;font-style:italic">//-&gt;addAttributeToSelect(‘name’)  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#080;font-style:italic">//-&gt;addAttributeToSelect(‘url’)  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToSelect</span>(‘<span style="color:#666">*</span>’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToFilter</span>(‘entity_id’, <span style="color:#b8860b">$catIds</span>)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addIsActiveFilter</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$catCollection</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$cat</span>){  
</span></span><span style="display:flex;"><span> print_r(<span style="color:#b8860b">$cat</span><span style="color:#666">-&gt;</span><span style="color:#b44">getData</span>());  
</span></span><span style="display:flex;"><span> <span style="color:#080;font-style:italic">//echo $cat-&gt;getName();  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#080;font-style:italic">//echo $cat-&gt;getUrl();  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span>}</span></span></code></pre></div></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento products not showing in categories</title>
      <link>http://localhost:1313/magento-products-not-showing-in-categories/</link>
      <pubDate>Fri, 19 Jul 2013 14:19:50 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-products-not-showing-in-categories/</guid>
      <description>&lt;p&gt;If your Magento products are not showing up in frontend category pages, that can be because one or more of the below points are not done correctly.&lt;/p&gt;&#xA;&lt;p&gt;The products must have following set correctly to appear in the category pages in frontend. You can check all the below things in Manage Products screen of any individual product.&lt;br&gt;&#xA;– &lt;em&gt;Status&lt;/em&gt; must be Enabled (under General tab)&lt;br&gt;&#xA;– &lt;em&gt;Visiblility&lt;/em&gt; should be Catalog OR Catalog, Search (under General tab)&lt;br&gt;&#xA;– Stock &lt;em&gt;Qty&lt;/em&gt; (quantity) should be greater than &lt;em&gt;Qty for Item’s Status to Become Out of Stock&lt;/em&gt; (under Inventory tab)&lt;br&gt;&#xA;– &lt;em&gt;Stock Availability&lt;/em&gt; must be IN STOCK&lt;br&gt;&#xA;– &lt;em&gt;Category&lt;/em&gt; should be assigned (under Categories tab)&lt;br&gt;&#xA;– &lt;em&gt;Website&lt;/em&gt; must be assigned (under Websites tab)&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>If your Magento products are not showing up in frontend category pages, that can be because one or more of the below points are not done correctly.</p>
<p>The products must have following set correctly to appear in the category pages in frontend. You can check all the below things in Manage Products screen of any individual product.<br>
– <em>Status</em> must be Enabled (under General tab)<br>
– <em>Visiblility</em> should be Catalog OR Catalog, Search (under General tab)<br>
– Stock <em>Qty</em> (quantity) should be greater than <em>Qty for Item’s Status to Become Out of Stock</em> (under Inventory tab)<br>
– <em>Stock Availability</em> must be IN STOCK<br>
– <em>Category</em> should be assigned (under Categories tab)<br>
– <em>Website</em> must be assigned (under Websites tab)</p>
<p>Clear the cache, re-index the indexes related to product (Product prices, Product flat data and Category products) and everything should work as expected.</p>
<p>This post is written to address the following issue:<br>
magento products not displaying in categories<br>
magento products not showing in categories<br>
magento items not showing in categories<br>
magento products not showing up in categories<br>
magento products not showing under categories<br>
magento products not displaying on category page<br>
magento product images not showing in category<br>
magento configurable product not showing in category<br>
magento new product not showing in category</p>
<p>If you are unable to see Product Images in frontend category pages, check this blog post to resolve it: <a href="http://ka.lpe.sh/2013/02/26/magento-cant-see-product-images-in-category-page/" title="Magento cannot see product images in category page">http://ka.lpe.sh/2013/02/26/magento-cant-see-product-images-in-category-page/</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento add attribute to category</title>
      <link>http://localhost:1313/magento-add-attribute-to-category/</link>
      <pubDate>Fri, 10 May 2013 21:16:55 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-add-attribute-to-category/</guid>
      <description>&lt;p&gt;Adding category attribute in Magento is same as we add for product and customer. Here in this post I will create a custom module which will add your new custom category attribute in Magento. So let’s start with the module:&lt;/p&gt;&#xA;&lt;p&gt;1.) As usual, create an XML file in app/etc/modules/ directory, I will name it Namespace_Module.xml&lt;br&gt;&#xA;Paste below code in it changing the Namespace and Module as you want.&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080&#34;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34;??&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;config&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;modules&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;namespace_module&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;active&amp;gt;&lt;/span&gt;true&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/active&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;codepool&amp;gt;&lt;/span&gt;local&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/codepool&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/namespace_module&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/modules&amp;gt;&lt;/span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;lt;/config&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Adding category attribute in Magento is same as we add for product and customer. Here in this post I will create a custom module which will add your new custom category attribute in Magento. So let’s start with the module:</p>
<p>1.) As usual, create an XML file in app/etc/modules/ directory, I will name it Namespace_Module.xml<br>
Paste below code in it changing the Namespace and Module as you want.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#080">&lt;?xml version=&#34;1.0&#34;??&gt;</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;config&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;modules&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;namespace_module&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;active&gt;</span>true<span style="color:#008000;font-weight:bold">&lt;/active&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;codepool&gt;</span>local<span style="color:#008000;font-weight:bold">&lt;/codepool&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/namespace_module&gt;</span>  
</span></span><span style="display:flex;"><span> <span style="color:#008000;font-weight:bold">&lt;/modules&gt;</span>  
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/config&gt;</span></span></span></code></pre></div></p>
<p>2.) Second step would be to create a file config.xml in app/code/local/Namespace/Module/etc/ directory. Create all the directories required get there. Paste the below code in it making sure you have changed Namespace and Module with your naming.<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>xml version<span style="color:#666">=</span><span style="color:#b44">&#34;1.0&#34;</span><span style="color:#666">?</span><span style="color:#080">?&gt;</span><span style="">
</span></span></span><span style="display:flex;"><span><span style="">  
</span></span></span><span style="display:flex;"><span><span style="">&lt;config&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;modules&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;namespace_module&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;version&gt;0.0.1&lt;/version&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/namespace_module&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/modules&gt;&lt;/config&gt;
</span></span></span><span style="display:flex;"><span><span style="">
</span></span></span><span style="display:flex;"><span><span style=""> &lt;global&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;resources&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;module&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;setup&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;module&gt;Namespace_Module&lt;/module&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;class&gt;Mage_Catalog_Model_Resource_Eav_Mysql4_Setup&lt;/class&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/setup&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;connection&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;use&gt;core_setup&lt;/use&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/connection&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/module&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;module_write&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;connection&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;use&gt;core_write&lt;/use&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/connection&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/module_write&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;module_read&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;connection&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;use&gt;core_read&lt;/use&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/connection&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/module_read&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/resources&gt;  
</span></span></span><span style="display:flex;"><span><span style=""> &lt;/global&gt;  
</span></span></span></code></pre></div><br>
I have only included setup class and connections as those are the only things we will need to execute our script which will insert the custom attribute to category in our Magento project.</p>
<p>3.) Here comes main file, which will actually add attribute to category. We will put below code in app/code/local/Namespace/Module/sql/module_setup/mysql4-install-0.1.0.php<br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#666">&lt;?</span>php <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">startSetup</span>();  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">addAttribute</span>(‘catalog_category’, ‘your_custom_attribute_here’, <span style="color:#a2f;font-weight:bold">array</span>(  
</span></span><span style="display:flex;"><span> ‘group’ <span style="color:#666">=&gt;</span> ‘General’,  
</span></span><span style="display:flex;"><span> ‘input’ <span style="color:#666">=&gt;</span> ‘text’,  
</span></span><span style="display:flex;"><span> ‘type’ <span style="color:#666">=&gt;</span> ‘varchar’,  
</span></span><span style="display:flex;"><span> ‘label’ <span style="color:#666">=&gt;</span> ‘Custom Category attribute label’,  
</span></span><span style="display:flex;"><span> ‘visible’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">true</span>,  
</span></span><span style="display:flex;"><span> ‘required’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">false</span>,  
</span></span><span style="display:flex;"><span> ‘visible_on_front’ <span style="color:#666">=&gt;</span> <span style="color:#a2f;font-weight:bold">true</span>,  
</span></span><span style="display:flex;"><span> ‘global’ <span style="color:#666">=&gt;</span> Mage_Catalog_Model_Resource_Eav_Attribute<span style="color:#666">::</span><span style="color:#b44">SCOPE_GLOBAL</span>,  
</span></span><span style="display:flex;"><span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">endSetup</span>();  
</span></span><span style="display:flex;"><span><span style="color:#080">?&gt;</span><span style="">
</span></span></span></code></pre></div></p>
<p>We have used minimal things to create this module and add attribute to category. You can go further and do more additions from this.</p>
<p>After clearing cache, you will see that your new custom attribute appear in Category pages in frontend as well as Manage Categories section in backend. HTH!</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento Get most popular products in a category</title>
      <link>http://localhost:1313/magento-get-most-popular-products-in-a-category/</link>
      <pubDate>Thu, 18 Oct 2012 12:34:02 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento-get-most-popular-products-in-a-category/</guid>
      <description>&lt;p&gt;Magento get most popular products in any specified category using below code, you can show them in the sidebar of product detail page to let your visitors know the popularity of the products for that category.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$category&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getModel&lt;/span&gt;(‘catalog&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;category’)&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;load&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$categoryId&lt;/span&gt;);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$products&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; Mage&lt;span style=&#34;color:#666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getResourceModel&lt;/span&gt;(‘reports&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;product_collection’)  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addOrderedQty&lt;/span&gt;() &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//total number of quantities ordered  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addAttributeToSelect&lt;/span&gt;(‘&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;’) &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//get all attributes  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;setOrder&lt;/span&gt;(‘ordered_qty’, ‘desc’) &lt;span style=&#34;color:#080;font-style:italic&#34;&gt;//most ordered quantity products first  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#080;font-style:italic&#34;&gt;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;addCategoryFilter&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$category&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
      <content:encoded><![CDATA[<p>Magento get most popular products in any specified category using below code, you can show them in the sidebar of product detail page to let your visitors know the popularity of the products for that category.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#b8860b">$category</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getModel</span>(‘catalog<span style="color:#666">/</span>category’)<span style="color:#666">-&gt;</span><span style="color:#b44">load</span>(<span style="color:#b8860b">$categoryId</span>);  
</span></span><span style="display:flex;"><span><span style="color:#b8860b">$products</span> <span style="color:#666">=</span> Mage<span style="color:#666">::</span><span style="color:#b44">getResourceModel</span>(‘reports<span style="color:#666">/</span>product_collection’)  
</span></span><span style="display:flex;"><span> <span style="color:#666">-&gt;</span><span style="color:#b44">addOrderedQty</span>() <span style="color:#080;font-style:italic">//total number of quantities ordered  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#666">-&gt;</span><span style="color:#b44">addAttributeToSelect</span>(‘<span style="color:#666">*</span>’) <span style="color:#080;font-style:italic">//get all attributes  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#666">-&gt;</span><span style="color:#b44">setOrder</span>(‘ordered_qty’, ‘desc’) <span style="color:#080;font-style:italic">//most ordered quantity products first  
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span> <span style="color:#666">-&gt;</span><span style="color:#b44">addCategoryFilter</span>(<span style="color:#b8860b">$category</span>);</span></span></code></pre></div>
]]></content:encoded>
    </item>
  </channel>
</rss>
