<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Simplexml to Array on KALPESH MEHTA</title>
    <link>http://localhost:1313/blog/simplexml-to-array/</link>
    <description>Recent content in Simplexml to Array on KALPESH MEHTA</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    <managingEditor>k@lpe.sh (Kalpesh Mehta)</managingEditor>
    <webMaster>k@lpe.sh (Kalpesh Mehta)</webMaster>
    <copyright>Copyright © 2025 kalpesh mehta</copyright>
    <lastBuildDate>Wed, 29 Feb 2012 12:34:47 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/blog/simplexml-to-array/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>PHP Convert SimpleXML object to Array</title>
      <link>http://localhost:1313/php-convert-simplexml-object-to-array/</link>
      <pubDate>Wed, 29 Feb 2012 12:34:47 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/php-convert-simplexml-object-to-array/</guid>
      <description>&lt;p&gt;In PHP, if you want to convert your xml data to array for looping and displaying purpose, it sometimes becomes tedious. If you already have a SimpleXML class and want to convert XML to Array without any notices, warnings and recursively preparing the array, here is the method that will do so without any modifications needed. This will work by pasting this in your class file, if you are not using object oriented approach, you will have to remove “public” and “$this-&amp;gt;” from this function.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>In PHP, if you want to convert your xml data to array for looping and displaying purpose, it sometimes becomes tedious. If you already have a SimpleXML class and want to convert XML to Array without any notices, warnings and recursively preparing the array, here is the method that will do so without any modifications needed. This will work by pasting this in your class file, if you are not using object oriented approach, you will have to remove “public” and “$this-&gt;” from this function.</p>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">simpleXMLToArray</span>(SimpleXMLElement <span style="color:#b8860b">$xml</span>,<span style="color:#b8860b">$attributesKey</span><span style="color:#666">=</span><span style="color:#a2f;font-weight:bold">null</span>,<span style="color:#b8860b">$childrenKey</span><span style="color:#666">=</span><span style="color:#a2f;font-weight:bold">null</span>,<span style="color:#b8860b">$valueKey</span><span style="color:#666">=</span><span style="color:#a2f;font-weight:bold">null</span>){
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$childrenKey</span> <span style="color:#666">&amp;</span>amp;<span style="color:#666">&amp;</span>amp; <span style="color:#666">!</span>is_string(<span style="color:#b8860b">$childrenKey</span>)){<span style="color:#b8860b">$childrenKey</span> <span style="color:#666">=</span> ‘<span style="color:#666">@</span>children’;}  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$attributesKey</span> <span style="color:#666">&amp;</span>amp;<span style="color:#666">&amp;</span>amp; <span style="color:#666">!</span>is_string(<span style="color:#b8860b">$attributesKey</span>)){<span style="color:#b8860b">$attributesKey</span> <span style="color:#666">=</span> ‘<span style="color:#666">@</span>attributes’;}  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$valueKey</span> <span style="color:#666">&amp;</span>amp;<span style="color:#666">&amp;</span>amp; <span style="color:#666">!</span>is_string(<span style="color:#b8860b">$valueKey</span>)){<span style="color:#b8860b">$valueKey</span> <span style="color:#666">=</span> ‘<span style="color:#666">@</span>values’;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$return</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$name</span> <span style="color:#666">=</span> <span style="color:#b8860b">$xml</span><span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$_value</span> <span style="color:#666">=</span> trim((string)<span style="color:#b8860b">$xml</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span>strlen(<span style="color:#b8860b">$_value</span>)){<span style="color:#b8860b">$_value</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">null</span>;};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$_value</span><span style="color:#666">!==</span><span style="color:#a2f;font-weight:bold">null</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$valueKey</span>){<span style="color:#b8860b">$return</span>[<span style="color:#b8860b">$valueKey</span>] <span style="color:#666">=</span> <span style="color:#b8860b">$_value</span>;}  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">else</span>{<span style="color:#b8860b">$return</span> <span style="color:#666">=</span> <span style="color:#b8860b">$_value</span>;}  
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$children</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$first</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">true</span>;  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$xml</span><span style="color:#666">-&gt;</span><span style="color:#b44">children</span>() <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$elementName</span> <span style="color:#666">=&gt;</span> <span style="color:#b8860b">$child</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$value</span> <span style="color:#666">=</span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">simpleXMLToArray</span>(<span style="color:#b8860b">$child</span>,<span style="color:#b8860b">$attributesKey</span>, <span style="color:#b8860b">$childrenKey</span>,<span style="color:#b8860b">$valueKey</span>);  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(isset(<span style="color:#b8860b">$children</span>[<span style="color:#b8860b">$elementName</span>])){  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(is_array(<span style="color:#b8860b">$children</span>[<span style="color:#b8860b">$elementName</span>])){  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$first</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$temp</span> <span style="color:#666">=</span> <span style="color:#b8860b">$children</span>[<span style="color:#b8860b">$elementName</span>];  
</span></span><span style="display:flex;"><span> unset(<span style="color:#b8860b">$children</span>[<span style="color:#b8860b">$elementName</span>]);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$children</span>[<span style="color:#b8860b">$elementName</span>][] <span style="color:#666">=</span> <span style="color:#b8860b">$temp</span>;  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$first</span><span style="color:#666">=</span><span style="color:#a2f;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$children</span>[<span style="color:#b8860b">$elementName</span>][] <span style="color:#666">=</span> <span style="color:#b8860b">$value</span>;  
</span></span><span style="display:flex;"><span> }<span style="color:#a2f;font-weight:bold">else</span>{  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$children</span>[<span style="color:#b8860b">$elementName</span>] <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>(<span style="color:#b8860b">$children</span>[<span style="color:#b8860b">$elementName</span>],<span style="color:#b8860b">$value</span>);  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">else</span>{  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$children</span>[<span style="color:#b8860b">$elementName</span>] <span style="color:#666">=</span> <span style="color:#b8860b">$value</span>;  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$children</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$childrenKey</span>){<span style="color:#b8860b">$return</span>[<span style="color:#b8860b">$childrenKey</span>] <span style="color:#666">=</span> <span style="color:#b8860b">$children</span>;}  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">else</span>{<span style="color:#b8860b">$return</span> <span style="color:#666">=</span> array_merge(<span style="color:#b8860b">$return</span>,<span style="color:#b8860b">$children</span>);}  
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$attributes</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">foreach</span>(<span style="color:#b8860b">$xml</span><span style="color:#666">-&gt;</span><span style="color:#b44">attributes</span>() <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$name</span><span style="color:#666">=&gt;</span><span style="color:#b8860b">$value</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$attributes</span>[<span style="color:#b8860b">$name</span>] <span style="color:#666">=</span> trim(<span style="color:#b8860b">$value</span>);  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$attributes</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$attributesKey</span>){<span style="color:#b8860b">$return</span>[<span style="color:#b8860b">$attributesKey</span>] <span style="color:#666">=</span> <span style="color:#b8860b">$attributes</span>;}  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">else</span>{<span style="color:#b8860b">$return</span> <span style="color:#666">=</span> array_merge(<span style="color:#b8860b">$return</span>, <span style="color:#b8860b">$attributes</span>);}  
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#b8860b">$return</span>;  
</span></span><span style="display:flex;"><span>}  
</span></span></code></pre></div>
<p>Hope this helps.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Magento/PHP: Convert your XML Object to Array</title>
      <link>http://localhost:1313/magento/php-convert-your-xml-object-to-array/</link>
      <pubDate>Sun, 12 Feb 2012 06:24:25 +0000</pubDate><author>k@lpe.sh (Kalpesh Mehta)</author>
      <guid>http://localhost:1313/magento/php-convert-your-xml-object-to-array/</guid>
      <description>&lt;p&gt;While developing shipment tracking using SimpleXML in magento, I came accross the requirement where I have to get all the XML tags as keys and all the data inside XML tags as values in array. Means I wanted to convert XML to an Array where I can display all the information in some decorative format.&lt;/p&gt;&#xA;&lt;p&gt;So here is how I converted XML to Array without any kind of hardcoding.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;PHP class method to convert xml to array&lt;/strong&gt;&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#00a000&#34;&gt;convertXmlObjToArr&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$obj&lt;/span&gt;, &lt;span style=&#34;color:#666&#34;&gt;&amp;amp;&lt;/span&gt;amp;&lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;){  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$children&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$obj&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;children&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$executed&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;false&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;foreach&lt;/span&gt; (&lt;span style=&#34;color:#b8860b&#34;&gt;$children&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$node&lt;/span&gt;){  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;]&lt;span style=&#34;color:#666&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;null&lt;/span&gt;){  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;][&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;]&lt;span style=&#34;color:#666&#34;&gt;!==&lt;/span&gt;&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;null&lt;/span&gt;){  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$i&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; count(&lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;]);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;convertXmlObjToArr&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$node&lt;/span&gt;, &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;][&lt;span style=&#34;color:#b8860b&#34;&gt;$i&lt;/span&gt;]);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;else&lt;/span&gt;{  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$tmp&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;];  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;] &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;][&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;] &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$tmp&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$i&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; count(&lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;]);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;convertXmlObjToArr&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$node&lt;/span&gt;, &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;][&lt;span style=&#34;color:#b8860b&#34;&gt;$i&lt;/span&gt;]);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }&lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;else&lt;/span&gt;{  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;] &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;array&lt;/span&gt;();  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$this&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;convertXmlObjToArr&lt;/span&gt;(&lt;span style=&#34;color:#b8860b&#34;&gt;$node&lt;/span&gt;, &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt;[&lt;span style=&#34;color:#b8860b&#34;&gt;$elementName&lt;/span&gt;]);  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$executed&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;true&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#b8860b&#34;&gt;$executed&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;amp;&lt;/span&gt;amp;&lt;span style=&#34;color:#666&#34;&gt;&amp;amp;&lt;/span&gt;amp;&lt;span style=&#34;color:#b8860b&#34;&gt;$children&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#b44&#34;&gt;getName&lt;/span&gt;()&lt;span style=&#34;color:#666&#34;&gt;==&lt;/span&gt;””){  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#b8860b&#34;&gt;$arr&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; (String)&lt;span style=&#34;color:#b8860b&#34;&gt;$obj&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a2f;font-weight:bold&#34;&gt;return&lt;/span&gt;;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;&#xA;Hope this helps!&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>While developing shipment tracking using SimpleXML in magento, I came accross the requirement where I have to get all the XML tags as keys and all the data inside XML tags as values in array. Means I wanted to convert XML to an Array where I can display all the information in some decorative format.</p>
<p>So here is how I converted XML to Array without any kind of hardcoding.</p>
<p><strong>PHP class method to convert xml to array</strong><br>




<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">public</span> <span style="color:#a2f;font-weight:bold">function</span> <span style="color:#00a000">convertXmlObjToArr</span>(<span style="color:#b8860b">$obj</span>, <span style="color:#666">&amp;</span>amp;<span style="color:#b8860b">$arr</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$children</span> <span style="color:#666">=</span> <span style="color:#b8860b">$obj</span><span style="color:#666">-&gt;</span><span style="color:#b44">children</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$executed</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">foreach</span> (<span style="color:#b8860b">$children</span> <span style="color:#a2f;font-weight:bold">as</span> <span style="color:#b8860b">$elementName</span> <span style="color:#666">=&gt;</span> <span style="color:#b8860b">$node</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>]<span style="color:#666">!=</span><span style="color:#a2f;font-weight:bold">null</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>][<span style="color:#666">0</span>]<span style="color:#666">!==</span><span style="color:#a2f;font-weight:bold">null</span>){  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$i</span> <span style="color:#666">=</span> count(<span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>]);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">convertXmlObjToArr</span>(<span style="color:#b8860b">$node</span>, <span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>][<span style="color:#b8860b">$i</span>]);  
</span></span><span style="display:flex;"><span> }<span style="color:#a2f;font-weight:bold">else</span>{  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$tmp</span> <span style="color:#666">=</span> <span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>];  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>] <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>][<span style="color:#666">0</span>] <span style="color:#666">=</span> <span style="color:#b8860b">$tmp</span>;  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$i</span> <span style="color:#666">=</span> count(<span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>]);  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">convertXmlObjToArr</span>(<span style="color:#b8860b">$node</span>, <span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>][<span style="color:#b8860b">$i</span>]);  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> }<span style="color:#a2f;font-weight:bold">else</span>{  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>] <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">array</span>();  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$this</span><span style="color:#666">-&gt;</span><span style="color:#b44">convertXmlObjToArr</span>(<span style="color:#b8860b">$node</span>, <span style="color:#b8860b">$arr</span>[<span style="color:#b8860b">$elementName</span>]);  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$executed</span> <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">true</span>;  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">if</span>(<span style="color:#666">!</span><span style="color:#b8860b">$executed</span><span style="color:#666">&amp;</span>amp;<span style="color:#666">&amp;</span>amp;<span style="color:#b8860b">$children</span><span style="color:#666">-&gt;</span><span style="color:#b44">getName</span>()<span style="color:#666">==</span>””){  
</span></span><span style="display:flex;"><span> <span style="color:#b8860b">$arr</span> <span style="color:#666">=</span> (String)<span style="color:#b8860b">$obj</span>;  
</span></span><span style="display:flex;"><span> }  
</span></span><span style="display:flex;"><span> <span style="color:#a2f;font-weight:bold">return</span>;  
</span></span><span style="display:flex;"><span> }</span></span></code></pre></div><br>
Hope this helps!</p>
]]></content:encoded>
    </item>
  </channel>
</rss>
