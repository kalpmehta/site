<!DOCTYPE html>
<html lang="en-US">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="http://localhost:1313/images/favicon.png" />
<title>Redirect request with POST data using .htaccess | Hugo ʕ•ᴥ•ʔ Bear Blog</title>
<meta name="title" content="Redirect request with POST data using .htaccess" />
<meta name="description" content="By default, if you want to redirect request with POST data, browser redirects it via GET with 302 redirect. This also drops all the POST data associated with the request. Browser does this as a precaution to prevent any unintentional re-submitting of POST transaction.
But what if you want to redirect anyway POST request with it’s data? In HTTP 1.1, there is a status code for this. Status code 307 indicates that the request should be repeated with the same HTTP method and data. So your POST request will be repeated along with it’s data if you use this status code." />
<meta name="author" content="kalpesh" />
<meta name="keywords" content="307 status code,data,htaccess,post,redirect," />






  
  <meta property="og:url" content="http://localhost:1313/posts/2017-05-04-redirect-request-post-data-using-htaccess/">
  <meta property="og:site_name" content="Hugo ʕ•ᴥ•ʔ Bear Blog">
  <meta property="og:title" content="Redirect request with POST data using .htaccess">
  <meta property="og:description" content="By default, if you want to redirect request with POST data, browser redirects it via GET with 302 redirect. This also drops all the POST data associated with the request. Browser does this as a precaution to prevent any unintentional re-submitting of POST transaction.
But what if you want to redirect anyway POST request with it’s data? In HTTP 1.1, there is a status code for this. Status code 307 indicates that the request should be repeated with the same HTTP method and data. So your POST request will be repeated along with it’s data if you use this status code.">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2017-05-04T21:34:37+00:00">
    <meta property="article:modified_time" content="2017-05-04T21:34:37+00:00">
    <meta property="article:tag" content="307 Status Code">
    <meta property="article:tag" content="Data">
    <meta property="article:tag" content="Htaccess">
    <meta property="article:tag" content="Post">
    <meta property="article:tag" content="Redirect">
    <meta property="og:image" content="http://localhost:1313/images/share.png">


  
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/images/share.png">
  <meta name="twitter:title" content="Redirect request with POST data using .htaccess">
  <meta name="twitter:description" content="By default, if you want to redirect request with POST data, browser redirects it via GET with 302 redirect. This also drops all the POST data associated with the request. Browser does this as a precaution to prevent any unintentional re-submitting of POST transaction.
But what if you want to redirect anyway POST request with it’s data? In HTTP 1.1, there is a status code for this. Status code 307 indicates that the request should be repeated with the same HTTP method and data. So your POST request will be repeated along with it’s data if you use this status code.">


  
  
  <meta itemprop="name" content="Redirect request with POST data using .htaccess">
  <meta itemprop="description" content="By default, if you want to redirect request with POST data, browser redirects it via GET with 302 redirect. This also drops all the POST data associated with the request. Browser does this as a precaution to prevent any unintentional re-submitting of POST transaction.
But what if you want to redirect anyway POST request with it’s data? In HTTP 1.1, there is a status code for this. Status code 307 indicates that the request should be repeated with the same HTTP method and data. So your POST request will be repeated along with it’s data if you use this status code.">
  <meta itemprop="datePublished" content="2017-05-04T21:34:37+00:00">
  <meta itemprop="dateModified" content="2017-05-04T21:34:37+00:00">
  <meta itemprop="wordCount" content="260">
  <meta itemprop="image" content="http://localhost:1313/images/share.png">
  <meta itemprop="keywords" content="307 Status Code,Data,Htaccess,Post,Redirect">

<meta name="referrer" content="no-referrer-when-downgrade" />

  
  <link href="/original.min.css" rel="stylesheet">

  

  

  
</head>

<body>
  <header><a class="skip-link" href="#main-content">Skip to main content</a>

<a href="/" class="title"><h1>Hugo ʕ•ᴥ•ʔ Bear Blog</h1></a>
<nav>
<a href='http://localhost:1313/index.xml'>RSS</a>







</nav>
</header>
  <main id="main-content">

<h1>Redirect request with POST data using .htaccess</h1>
<p class="byline">
  <time datetime='2017-05-04' pubdate>
    2017-05-04
  </time>
  · kalpesh
</p>

<content>
  <p>By default, if you want to redirect request with POST data, browser redirects it via GET with 302 redirect. This also drops all the POST data associated with the request. Browser does this as a precaution to prevent any unintentional re-submitting of POST transaction.</p>
<p>But what if you want to redirect anyway POST request with it’s data? In HTTP 1.1, there is a status code for this. Status code 307 indicates that the request should be repeated with the same HTTP method and data. So your POST request will be repeated along with it’s data if you use this status code.</p>
<p>From <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</a>,<br>
<em>If the 307 status code is received in response to a request other than GET or HEAD, <strong>the user agent MUST NOT automatically redirect the request</strong> unless it can be confirmed by the user, since this might change the conditions under which the request was issued.</em></p>
<p>I did this in one of the website to redirect HTTP request to HTTPS for a specific page.</p>
<p>{code}RewriteEngine on<br>
RewriteCond %{SERVER_PORT} !443<br>
RewriteCond %{REQUEST_URI} string_to_match_in_url<br>
RewriteCond %{REQUEST_METHOD} POST<br>
RewriteRule ^(.*)$ https://%{HTTP_HOST}/$1 [L,R=307]{/code}</p>
<p>For this to work, you need to have mod_rewrite enabled on the server. The first RewriteCond checks if the request is NOT coming as HTTPS, otherwise it will go in endless loop. If yes, the second RewriteCond checks if the URL contains a string we are looking for. Then if that URL is being submitted as POST method. If everything matches, then we redirect the request using HTTPS secure protocol retaining the POST method and the associated data.</p>

</content>
<p>
  
    <a class="blog-tags" href="/blog/307-status-code/">#307 status code</a>
  
    <a class="blog-tags" href="/blog/data/">#data</a>
  
    <a class="blog-tags" href="/blog/htaccess/">#htaccess</a>
  
    <a class="blog-tags" href="/blog/post/">#post</a>
  
    <a class="blog-tags" href="/blog/redirect/">#redirect</a>
  
</p>




  </main>
  <footer><small>
  Copyright © 2020, Jane Doe. | 
</small></footer>

    
</body>

</html>
