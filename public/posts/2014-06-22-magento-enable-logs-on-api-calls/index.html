<!DOCTYPE html>
<html lang="en-US">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="http://localhost:1313/images/favicon.png" />
<title>Magento: Enable logs on API calls | Hugo ʕ•ᴥ•ʔ Bear Blog</title>
<meta name="title" content="Magento: Enable logs on API calls" />
<meta name="description" content="There is no setting to enable/disable API calls in Magento, but you can do so by modifying a file which handles all the API calls and logging the requests in a custom log file. This is useful when you know that there are many API calls being requested by third party applications to your website but not sure what is actually being called, how many times, and at what day and time." />
<meta name="author" content="kalpesh" />
<meta name="keywords" content="api,call,log,magento," />






  
  <meta property="og:url" content="http://localhost:1313/posts/2014-06-22-magento-enable-logs-on-api-calls/">
  <meta property="og:site_name" content="Hugo ʕ•ᴥ•ʔ Bear Blog">
  <meta property="og:title" content="Magento: Enable logs on API calls">
  <meta property="og:description" content="There is no setting to enable/disable API calls in Magento, but you can do so by modifying a file which handles all the API calls and logging the requests in a custom log file. This is useful when you know that there are many API calls being requested by third party applications to your website but not sure what is actually being called, how many times, and at what day and time.">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2014-06-22T18:16:23+00:00">
    <meta property="article:modified_time" content="2014-06-22T18:16:23+00:00">
    <meta property="article:tag" content="Api">
    <meta property="article:tag" content="Call">
    <meta property="article:tag" content="Log">
    <meta property="article:tag" content="Magento">
    <meta property="og:image" content="http://localhost:1313/images/share.png">


  
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/images/share.png">
  <meta name="twitter:title" content="Magento: Enable logs on API calls">
  <meta name="twitter:description" content="There is no setting to enable/disable API calls in Magento, but you can do so by modifying a file which handles all the API calls and logging the requests in a custom log file. This is useful when you know that there are many API calls being requested by third party applications to your website but not sure what is actually being called, how many times, and at what day and time.">


  
  
  <meta itemprop="name" content="Magento: Enable logs on API calls">
  <meta itemprop="description" content="There is no setting to enable/disable API calls in Magento, but you can do so by modifying a file which handles all the API calls and logging the requests in a custom log file. This is useful when you know that there are many API calls being requested by third party applications to your website but not sure what is actually being called, how many times, and at what day and time.">
  <meta itemprop="datePublished" content="2014-06-22T18:16:23+00:00">
  <meta itemprop="dateModified" content="2014-06-22T18:16:23+00:00">
  <meta itemprop="wordCount" content="234">
  <meta itemprop="image" content="http://localhost:1313/images/share.png">
  <meta itemprop="keywords" content="Api,Call,Log,Magento">

<meta name="referrer" content="no-referrer-when-downgrade" />

  
  <link href="/original.min.css" rel="stylesheet">

  

  

  
</head>

<body>
  <header><a class="skip-link" href="#main-content">Skip to main content</a>

<a href="/" class="title"><h1>Hugo ʕ•ᴥ•ʔ Bear Blog</h1></a>
<nav>
<a href='http://localhost:1313/index.xml'>RSS</a>







</nav>
</header>
  <main id="main-content">

<h1>Magento: Enable logs on API calls</h1>
<p class="byline">
  <time datetime='2014-06-22' pubdate>
    2014-06-22
  </time>
  · kalpesh
</p>

<content>
  <p>There is no setting to enable/disable API calls in Magento, but you can do so by modifying a file which handles all the API calls and logging the requests in a custom log file. This is useful when you know that there are many API calls being requested by third party applications to your website but not sure what is actually being called, how many times, and at what day and time.</p>
<p>With that said, open the file: app/code/core/Mage/Api/Model/Server/Handler/Abstract.php<br>
and find the function “call” which handles all the API calls. Scroll down the function and find the if block which says:</p>
<p>{code type=php}if (method_exists($model, $method)) {<br>
if (isset($methodInfo-&gt;arguments) &amp;&amp; ((string)$methodInfo-&gt;arguments) == ‘array’) {<br>
return $model-&gt;$method((is_array($args) ? $args : array($args)));<br>
} elseif (!is_array($args)) {<br>
return $model-&gt;$method($args);<br>
} else {<br>
return call_user_func_array(array(&amp;$model, $method), $args);<br>
}<br>
} else {<br>
throw new Mage_Api_Exception(‘resource_path_not_callable’);<br>
}{/code}</p>
<p>and replace it with:</p>
<p>{code type=php}if (method_exists($model, $method)) {<br>
Mage::log($method, null, ‘api.log’); //logs the method<br>
Mage::log($args, null, ‘api.log’); //logs the arguments<br>
if (isset($methodInfo-&gt;arguments) &amp;&amp; ((string)$methodInfo-&gt;arguments) == ‘array’) {<br>
return $model-&gt;$method((is_array($args) ? $args : array($args)));<br>
} elseif (!is_array($args)) {<br>
return $model-&gt;$method($args);<br>
} else {<br>
return call_user_func_array(array(&amp;$model, $method), $args);<br>
}<br>
} else {<br>
throw new Mage_Api_Exception(‘resource_path_not_callable’);<br>
}{/code}</p>
<p>Now you should have your var/log/api.log file filled with the “method” and “arguments” requested by third party systems on your server. This should help you in knowing what was requested and at what time in your new log file.</p>

</content>
<p>
  
    <a class="blog-tags" href="/blog/api/">#api</a>
  
    <a class="blog-tags" href="/blog/call/">#call</a>
  
    <a class="blog-tags" href="/blog/log/">#log</a>
  
    <a class="blog-tags" href="/blog/magento/">#magento</a>
  
</p>




  </main>
  <footer><small>
  Copyright © 2020, Jane Doe. | 
</small></footer>

    
</body>

</html>
