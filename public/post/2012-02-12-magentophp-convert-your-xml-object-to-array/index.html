<!DOCTYPE html>
<html lang="en-US">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="http://localhost:1313/images/favicon.png" />
<title>Magento/PHP: Convert your XML Object to Array | Kalpesh Mehta&#39;s Blog</title>
<meta name="title" content="Magento/PHP: Convert your XML Object to Array" />
<meta name="description" content="While developing shipment tracking using SimpleXML in magento, I came accross the requirement where I have to get all the XML tags as keys and all the data inside XML tags as values in array. Means I wanted to convert XML to an Array where I can display all the information in some decorative format.
So here is how I converted XML to Array without any kind of hardcoding.
PHP class method to convert xml to array
{code type=php}
public function convertXmlObjToArr($obj, &amp;$arr){
$children = $obj-&gt;children();
$executed = false;
foreach ($children as $elementName =&gt; $node){
if($arr[$elementName]!=null){
if($arr[$elementName][0]!==null){
$i = count($arr[$elementName]);
$this-&gt;convertXmlObjToArr($node, $arr[$elementName][$i]);
}else{
$tmp = $arr[$elementName];
$arr[$elementName] = array();
$arr[$elementName][0] = $tmp;
$i = count($arr[$elementName]);
$this-&gt;convertXmlObjToArr($node, $arr[$elementName][$i]);
}
}else{
$arr[$elementName] = array();
$this-&gt;convertXmlObjToArr($node, $arr[$elementName]);
}
$executed = true;
}
if(!$executed&amp;&amp;$children-&gt;getName()==””){
$arr = (String)$obj;
}
return;
}" />
<meta name="author" content="kalpesh" />
<meta name="keywords" content="convert xml to array,magento,simplexml,simplexml to array," />






  





  













<meta property="og:title" content="Magento/PHP: Convert your XML Object to Array" />
<meta property="og:description" content="While developing shipment tracking using SimpleXML in magento, I came accross the requirement where I have to get all the XML tags as keys and all the data inside XML tags as values in array. Means I wanted to convert XML to an Array where I can display all the information in some decorative format.
So here is how I converted XML to Array without any kind of hardcoding.
PHP class method to convert xml to array
{code type=php}
public function convertXmlObjToArr($obj, &amp;$arr){
$children = $obj-&gt;children();
$executed = false;
foreach ($children as $elementName =&gt; $node){
if($arr[$elementName]!=null){
if($arr[$elementName][0]!==null){
$i = count($arr[$elementName]);
$this-&gt;convertXmlObjToArr($node, $arr[$elementName][$i]);
}else{
$tmp = $arr[$elementName];
$arr[$elementName] = array();
$arr[$elementName][0] = $tmp;
$i = count($arr[$elementName]);
$this-&gt;convertXmlObjToArr($node, $arr[$elementName][$i]);
}
}else{
$arr[$elementName] = array();
$this-&gt;convertXmlObjToArr($node, $arr[$elementName]);
}
$executed = true;
}
if(!$executed&amp;&amp;$children-&gt;getName()==””){
$arr = (String)$obj;
}
return;
}" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/post/2012-02-12-magentophp-convert-your-xml-object-to-array/" />

<meta property="og:image" content="http://localhost:1313/images/social_card_bg_hu_6b672c45486bcefa.webp"/><meta property="article:section" content="post" />
<meta property="article:published_time" content="2012-02-12T06:24:25+00:00" />
<meta property="article:modified_time" content="2012-02-12T06:24:25+00:00" /><meta property="og:site_name" content="Kalpesh Mehta" />
<meta property="fb:admins" content="0000000000" />



<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://localhost:1313/images/social_card_bg_hu_6b672c45486bcefa.webp"/>
<meta name="twitter:title" content="Magento/PHP: Convert your XML Object to Array"/>
<meta name="twitter:description" content="While developing shipment tracking using SimpleXML in magento, I came accross the requirement where I have to get all the XML tags as keys and all the data inside XML tags as values in array. Means I wanted to convert XML to an Array where I can display all the information in some decorative format.
So here is how I converted XML to Array without any kind of hardcoding.
PHP class method to convert xml to array
{code type=php}
public function convertXmlObjToArr($obj, &amp;$arr){
$children = $obj-&gt;children();
$executed = false;
foreach ($children as $elementName =&gt; $node){
if($arr[$elementName]!=null){
if($arr[$elementName][0]!==null){
$i = count($arr[$elementName]);
$this-&gt;convertXmlObjToArr($node, $arr[$elementName][$i]);
}else{
$tmp = $arr[$elementName];
$arr[$elementName] = array();
$arr[$elementName][0] = $tmp;
$i = count($arr[$elementName]);
$this-&gt;convertXmlObjToArr($node, $arr[$elementName][$i]);
}
}else{
$arr[$elementName] = array();
$this-&gt;convertXmlObjToArr($node, $arr[$elementName]);
}
$executed = true;
}
if(!$executed&amp;&amp;$children-&gt;getName()==””){
$arr = (String)$obj;
}
return;
}"/>
<meta name="twitter:site" content="@kalpmehta"/>



<meta itemprop="name" content="Magento/PHP: Convert your XML Object to Array">
<meta itemprop="description" content="While developing shipment tracking using SimpleXML in magento, I came accross the requirement where I have to get all the XML tags as keys and all the data inside XML tags as values in array. Means I wanted to convert XML to an Array where I can display all the information in some decorative format.
So here is how I converted XML to Array without any kind of hardcoding.
PHP class method to convert xml to array
{code type=php}
public function convertXmlObjToArr($obj, &amp;$arr){
$children = $obj-&gt;children();
$executed = false;
foreach ($children as $elementName =&gt; $node){
if($arr[$elementName]!=null){
if($arr[$elementName][0]!==null){
$i = count($arr[$elementName]);
$this-&gt;convertXmlObjToArr($node, $arr[$elementName][$i]);
}else{
$tmp = $arr[$elementName];
$arr[$elementName] = array();
$arr[$elementName][0] = $tmp;
$i = count($arr[$elementName]);
$this-&gt;convertXmlObjToArr($node, $arr[$elementName][$i]);
}
}else{
$arr[$elementName] = array();
$this-&gt;convertXmlObjToArr($node, $arr[$elementName]);
}
$executed = true;
}
if(!$executed&amp;&amp;$children-&gt;getName()==””){
$arr = (String)$obj;
}
return;
}"><meta itemprop="datePublished" content="2012-02-12T06:24:25+00:00" />
<meta itemprop="dateModified" content="2012-02-12T06:24:25+00:00" />
<meta itemprop="wordCount" content="140">

<meta itemprop="image" content="http://localhost:1313/images/social_card_bg_hu_6b672c45486bcefa.webp"/>


<meta itemprop="keywords" content="convert xml to array,magento,simplexml,simplexml to array," />

<meta name="referrer" content="no-referrer-when-downgrade" />

  
  <link href="/original.min.css" rel="stylesheet">

  

  

  
</head>

<body>
  <header><a class="skip-link" href="#main-content">Skip to main content</a>

<a href="/" class="title"><h1>Kalpesh Mehta&#39;s Blog</h1></a>
<nav>
<a href='http://localhost:1313/'>Home</a>
<a href='http://localhost:1313/about-me'>About Me</a>
<a href='http://localhost:1313/contact-me'>Contact</a>
<a href='http://localhost:1313/index.xml'>RSS</a>







</nav>
</header>
  <main id="main-content">

<h1>Magento/PHP: Convert your XML Object to Array</h1>
<p class="byline">
  <time datetime='2012-02-12' pubdate>
    2012-02-12
  </time>
  · kalpesh
</p>

<content>
  <p>While developing shipment tracking using SimpleXML in magento, I came accross the requirement where I have to get all the XML tags as keys and all the data inside XML tags as values in array. Means I wanted to convert XML to an Array where I can display all the information in some decorative format.</p>
<p>So here is how I converted XML to Array without any kind of hardcoding.</p>
<p><strong>PHP class method to convert xml to array</strong><br>
{code type=php}<br>
public function convertXmlObjToArr($obj, &amp;$arr){<br>
$children = $obj-&gt;children();<br>
$executed = false;<br>
foreach ($children as $elementName =&gt; $node){<br>
if($arr[$elementName]!=null){<br>
if($arr[$elementName][0]!==null){<br>
$i = count($arr[$elementName]);<br>
$this-&gt;convertXmlObjToArr($node, $arr[$elementName][$i]);<br>
}else{<br>
$tmp = $arr[$elementName];<br>
$arr[$elementName] = array();<br>
$arr[$elementName][0] = $tmp;<br>
$i = count($arr[$elementName]);<br>
$this-&gt;convertXmlObjToArr($node, $arr[$elementName][$i]);<br>
}<br>
}else{<br>
$arr[$elementName] = array();<br>
$this-&gt;convertXmlObjToArr($node, $arr[$elementName]);<br>
}<br>
$executed = true;<br>
}<br>
if(!$executed&amp;&amp;$children-&gt;getName()==””){<br>
$arr = (String)$obj;<br>
}<br>
return;<br>
}</p>
<p>{/code}<br>
Hope this helps!</p>

</content>
<p>
  
    <a class="blog-tags" href="/blog/convert-xml-to-array/">#convert xml to array</a>
  
    <a class="blog-tags" href="/blog/magento/">#magento</a>
  
    <a class="blog-tags" href="/blog/simplexml/">#simplexml</a>
  
    <a class="blog-tags" href="/blog/simplexml-to-array/">#simplexml to array</a>
  
</p>


  <p>
    <a href='mailto:k@lpe.sh?subject=Reply%20to%20"Magento%2fPHP%3a%20Convert%20your%20XML%20Object%20to%20Array"'>
      Reply to this post by email ↪
    </a>
  </p>



  </main>
  <footer><small>
  Copyright © 2025, Kalpesh Mehta. | 
</small></footer>

    
</body>

</html>
